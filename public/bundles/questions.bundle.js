(()=>{"use strict";var e={733:(e,t,s)=>{s.d(t,{Ji:()=>n,U6:()=>a,Yi:()=>o,_5:()=>r,xS:()=>u});var i=s(922);function n(e){e.classList.remove("fully-hidden"),setTimeout((()=>e.classList.remove("transparent")),10)}async function r(e){n(e),await async function(e){await(0,i.hk)(e,"opacity")}(e)}function a(e){e.classList.add("transparent")}async function u(e){await(0,i.hk)(e,"opacity"),e.classList.add("fully-hidden")}async function o(e){a(e),await u(e)}},300:(e,t,s)=>{var i=s(733);class n{#e;#t;constructor(e){this.#e=e.querySelector(".pop-btn"),this.#t=e.querySelector(".pop-btn-content")}init(){this.#s(this.#e,this.#t)}#s(e,t){e.addEventListener("click",(()=>{this.#i(e,t)}),{once:!0})}async#i(e,t){await(0,i._5)(t),window.addEventListener("click",(async()=>{await(0,i.Yi)(t),this.#s(e,t)}),{once:!0})}}document.querySelectorAll(".pop-btn-container").forEach((e=>{new n(e).init()}))},922:(e,t,s)=>{function i(e,t,s){const i=e.findIndex((e=>s(e,t)));i>-1?e.splice(i,1,t):e.push(t)}function n(e,t=null){return new Promise((s=>{e.addEventListener("transitionend",(async i=>{t?(i.propertyName===t||await n(e,t),s()):s()}),{once:!0})}))}s.d(t,{cT:()=>i,hk:()=>n})}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(733),t=s(922);class i{mainDiv;ratePanel;rateBtn;skipBtn;scoreSlider;scoreSliderInput;currQuestionText;prevAnsDiv;prevAnsVal;loader;details;constructor(e){this.mainDiv=e.querySelector(".answer-panel"),this.ratePanel=this.mainDiv.querySelector(".rate-panel"),this.rateBtn=this.mainDiv.querySelector(".rate-btn"),this.skipBtn=this.mainDiv.querySelector(".skip-btn"),this.scoreSlider=this.mainDiv.querySelector(".score-slider"),this.scoreSliderInput=this.scoreSlider.querySelector("input"),this.currQuestionText=this.mainDiv.querySelector(".curr-question"),this.prevAnsDiv=this.mainDiv.querySelector(".prev-ans-info"),this.prevAnsVal=this.mainDiv.querySelector(".prev-ans-val"),this.loader=this.mainDiv.querySelector(".loader"),this.details=this.mainDiv.querySelector(".details")}displayCurrQ(e,t){this.#n(e),this.currQuestionText.innerHTML=e.currQText,this.prevAnsVal.innerText="";const s=this.#r(e,t);this.scoreSliderInput.value=s,this.scoreSliderInput.dispatchEvent(new Event("input"))}async showLoader(){this.loader.classList.remove("fully-hidden"),this.details.classList.add("fully-hidden"),this.details.classList.add("transparent")}async hideLoader(){this.loader.classList.add("fully-hidden"),this.details.classList.remove("fully-hidden"),setTimeout((()=>this.details.classList.remove("transparent")),10)}#n(e){e.endOfQueue?this.ratePanel.classList.add("hidden"):this.ratePanel.classList.remove("hidden")}#r(e,t){let s=5;return t&&e.currQAns?(this.prevAnsDiv.classList.remove("hidden"),this.prevAnsVal.innerText="Skipped",e.currQAns.skip||(s=e.currQAns.answerVal,this.prevAnsVal.innerText=s)):this.prevAnsDiv.classList.add("hidden"),s}}class n extends EventTarget{mainDiv;answerUiPanel;questionsQueue;btn;constructor(e,t=null){super(),this.mainDiv=e,this.btn=t,this.answerUiPanel=new i(e)}init(){this.answerUiPanel.rateBtn.addEventListener("click",(e=>{this.answerQuestion(e)})),this.answerUiPanel.skipBtn.addEventListener("click",(e=>{this.answerQuestion(e)}))}setRecentAnswers(e){this.questionsQueue.setRecentAnswers(e)}_showCurrQ(e=!0){const t=this.questionsQueue.getCurrQInfo();this.answerUiPanel.displayCurrQ(t,e)}getAnswerObj(e,t){const s=e.currentTarget===this.answerUiPanel.skipBtn,i=s?null:Number(this.answerUiPanel.scoreSliderInput.value),n=this._getQuestionDetails(t),r={questionId:t._id,skip:s,questionDetails:n};return s||(r.answerVal=i),r}_getQuestionDetails(e){const t={},s=["_id","apiPageNum","alreadyInDb","currAns"];for(let i in e)s.includes(i)||(t[i]=e[i]);return t}activate(){this.btn&&this.btn.classList.add("active-q-mode"),(0,e.Ji)(this.mainDiv)}deactivate(){this.btn&&this.btn.classList.remove("active-q-mode"),(0,e.U6)(this.mainDiv)}}class r extends n{queueInputPanel;async answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0);this.questionsQueue.savePrevQ(t._id);const s=this.getAnswerObj(e,t);this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._showCurrQ(),await this.questionsQueue.update()&&this.questionsQueue.checkForOutdatedQs(!0)}_showCurrQ(){const e=this.queueInputPanel?.includeAlreadyAnsweredCheckbox.checked;super._showCurrQ(e)}async activate(){super.activate()}async updateQueueAndShowFirst(e=!1){this.answerUiPanel.showLoader(),await this.updateQueue(e),this.answerUiPanel.hideLoader(),this._showCurrQ()}async updateQueue(e){await this.questionsQueue.update(e),this.questionsQueue.checkForOutdatedQs()}}class a{#a=!1;questionsModes;qModeSwitcher;currQuestionMode;categoryTypeName;categoryName;notYetPostedAnswers=[];allRecentAnswers=[];static#u=6e5;constructor(e,t=[],s=null,i=null){this.questionsModes=e,this.qModeSwitcher=t,this.categoryTypeName=s,this.categoryName=i}init(){for(let e of this.questionsModes)e.init();window.addEventListener("beforeunload",(()=>{this._postAnswers(!0)})),setInterval((()=>{this._postAnswers(!1)}),a.#u);for(let e of this.questionsModes)e.addEventListener("answeredQ",(e=>{const t=e.detail.answerObj;this._handleNewAnswer(t)}));this.#o()}#o(){for(let e of this.qModeSwitcher){const t=e.btn,s=e.mode;t.addEventListener("click",(async()=>{this.#a||this.currQuestionMode===s||(this.#a=!0,await this.switchQMode(s),this.#a=!1)}))}}_handleNewAnswer(e){this._updateAnsArrayWithAns(this.notYetPostedAnswers,e),this._updateAnsArrayWithAns(this.allRecentAnswers,e),this._setRecentAnswers()}removeQmode(){this.currQuestionMode.deactivate()}async setQMode(e){this.currQuestionMode=e,await this.currQuestionMode.activate(),this._setRecentAnswers(),this.currQuestionMode instanceof r&&await this.currQuestionMode.updateQueueAndShowFirst()}_setRecentAnswers(){"recs"!==this.currQuestionMode?.name&&this.currQuestionMode.setRecentAnswers(this.allRecentAnswers)}_updateAnsArrayWithAns(e,s){(0,t.cT)(e,s,((e,t)=>e.questionId===t.questionId))}async switchQMode(t){this.removeQmode(),await(0,e.xS)(this.currQuestionMode.mainDiv),await this.setQMode(t)}resetAnswers(){this.notYetPostedAnswers=[]}clearRecentlyPostedAnswers(e){for(let s of e){const e=t(s,this.allRecentAnswers);e>-1&&this.allRecentAnswers.splice(e,1)}function t(e,t){return t.findIndex((t=>{let s=!0;const i=["questionId","skip","answerVal"];for(let n in t)if(i.includes(n)&&(s=t[n]===e[n],!s))break;return s}))}}async _postAnswers(e=!1){if(0===this.notYetPostedAnswers.length)return;const[t,s]=this.#c(),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"answers",data:s})};e&&(i.keepalive=!0),this.resetAnswers(),await fetch(t,i),this.clearRecentlyPostedAnswers(s)}#c(){let e,t;return this.categoryName?(e=`/questions/${this.categoryTypeName}/${this.categoryName}`,t=this.notYetPostedAnswers.slice()):(e="/questions/mixed-categories",t=this.#d(this.notYetPostedAnswers)),[e,t]}#d(e){const t=[];for(let i of e){const e=i.questionDetails.categoryTypeName,n=i.questionDetails.categoryName,r=t.findIndex((t=>{const s=t.catType===e,i=t.cat===n;return s&&i})),a=s(i);if(r>-1)t[r].answers.push(a);else{const s={catType:e,cat:n,answers:[a]};t.push(s)}}function s(e){return delete e.questionDetails.categoryName,delete e.questionDetails.categoryTypeName,e}return t}}class u{mainDiv;constructor(e){this.mainDiv=e.querySelector(".queue-input-panel")}}class o extends u{includeAlreadyAnsweredCheckbox;constructor(e){super(e),this.includeAlreadyAnsweredCheckbox=this.mainDiv.querySelector(".incl-prev-ans")}}function c(e,t,s){return s?[t,s]:[e.categoryTypeName??e.categoryType,e.categoryName??e.category]}function d(e,t,s,i){let n;switch(i){case"Films":case"TV":n={imgPath:e?.posterPath?`https://image.tmdb.org/t/p/w185/${e.posterPath}`:null,qDisplayText:`${e?.title} (${h(e?.releaseDate)})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Music":n={imgPath:e?.image,qDisplayText:`${e?.trackName} - ${e?.artist} (${e?.album} - ${new Date(e?.releaseDate).getFullYear()})`,qSourceDisplayText:`${e?.trackName} - ${e?.artist}`,imgPlaceHolderTxt:`${e?.trackName}`};break;case"Video Games":n={imgPath:e?.image?`https://images.igdb.com/igdb/image/upload/t_cover_big/${e.image}.jpg`:null,qDisplayText:`${e?.title} (${h(e?.releaseDate)}) (${e.platforms})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Books":n={imgPath:e?.image?`https://covers.openlibrary.org/b/id/${e.image}-M.jpg`:null,qDisplayText:`${e?.title} (${e?.author})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;default:n={imgPath:null,qDisplayText:e?.text,qSourceDisplayText:e?.shortText,imgPlaceHolderTxt:e?.shortText??e.text}}return n[t]}function h(e){return e?new Date(e).getFullYear():"Unknown"}function l(e,t,s){const i=document.createElement("div"),n=d(e,"imgPath",0,s);if(n){const t=document.createElement("img");t.setAttribute("src",n),t.setAttribute("loading","lazy"),t.setAttribute("alt",e?.title),i.appendChild(t)}else{const t=document.createElement("div");t.classList.add("placeholder-img");const n=document.createElement("span"),r=d(e,"imgPlaceHolderTxt",0,s);n.innerText=r,t.appendChild(n),i.appendChild(t)}if(e.previewUrl){const t=document.createElement("audio");t.setAttribute("controls","true"),t.setAttribute("src",e.previewUrl),i.appendChild(t)}return i}class p{_queue=[];#h=0;#l;#p;constructor(e,t,s){this._queue=e.querySelector(".queue-imgs"),this.#l=t,this.#p=s,this._queue.addEventListener("transitionend",(e=>{this.#m(e)}))}#m(e){"left"===e.propertyName&&(this.#h--,this._deleteDomQ(0),this._queue.classList.remove("queue-imgs-transitioning"),this.#h>0&&setTimeout((()=>this.#w()),0))}addToQueue(e){for(let t of e){const[e,s]=c(t,this.#l,this.#p),i=l(t,0,s);i.setAttribute("data-id",t._id),this._queue.appendChild(i)}}removeQueueItem(e,t){this._queue.hasChildNodes()&&(0===e&&t?(this.#h++,this.#w()):this._deleteDomQ(e))}_deleteDomQ(e){this._queue.classList.contains("queue-imgs-transitioning")&&e>0&&e++,this._queue.removeChild(this._queue.children[e])}#w(){this._queue.classList.add("queue-imgs-transitioning")}resetQueue(){this._queue.innerText=""}}class m{_categoryTypeName;_categoryName;queue=[];queueType;_domQueue;_queuePrevQs=[];constructor(e,t=null,s=null){this._categoryTypeName=t,this._categoryName=s,this._domQueue=new p(e,t,s)}getCurrQInfo(){let e,t,s=!1;if(0===this.queue.length)e=this._getEndQueueMsg(),s=!0;else{const s=this.queue[0],[i,n]=c(s,this._categoryTypeName,this._categoryName);e=d(s,"qDisplayText",0,n),t=s.currAns}return{endOfQueue:s,currQText:e,currQAns:t}}_getEndQueueMsg(){return this.endQueueMsg}removeQueueItem(e,t){const s=this.queue[e];return this.queue.splice(e,1),this._domQueue.removeQueueItem(e,t),s}_addToQueue(e){this.queue=this.queue.concat(e),this._domQueue.addToQueue(e)}_resetQueue(){this.queue=[],this._domQueue.resetQueue(),this._queuePrevQs=[]}savePrevQ(e){this._queuePrevQs.push(e)}}class w extends m{static#y=30;_QUEUE_REFRESH_THRESHOLD=10;#Q;_endOfQSource=!1;_currentlyUpdating=!1;endQueueMsg;inputPanel;allRecentAnswers=[];async update(e=!1){this._updateQueuePrevQs(e);let t=!1;if(!this._currentlyUpdating){if(this.checkQueueToBeUpdated()){const s=w.#y,i=this.queue.map((e=>e._id));let n=1;if(!e){const e=this.queue.at(-1)?.apiPageNum;n=this.queue.length>0?e:1}const r=await this.#v(s,i,n);this._endOfQSource=r.endOfQSource,this._addToQueue(r.results),t=!0}return t}}_updateQueuePrevQs(e){e&&(this._queuePrevQs=[])}checkQueueToBeUpdated(){const e=this.queue.length<=this._QUEUE_REFRESH_THRESHOLD,t=!this._endOfQSource;return e&&t}setRecentAnswers(e){this.allRecentAnswers=e}checkForOutdatedQs(e=!1){for(let t of this.allRecentAnswers){const s=this.queue.findIndex((e=>e._id===t.questionId));s>-1&&this.handleOutdatedQueueItem(s,t,e)}}handleOutdatedQueueItem(e,t,s){const i=this.inputPanel?.includeAlreadyAnsweredCheckbox?.checked,n=this._queuePrevQs.includes(this.queue[e]._id);i&&!n?this.queue[e].currAns={skip:t.skip,answerVal:t?.answerVal}:this.removeQueueItem(e,s)}async#v(e,t,s){this._currentlyUpdating=!0;const i=this._getPostObj(e,t,s),n=await fetch(`/questions/${this._categoryTypeName}/${this._categoryName}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),r=await n.json();return this._currentlyUpdating=!1,r}_getPostObj(e,t,s){return{type:"updateQueue",data:{queueType:this.queueType,numQs:e,currQueueIds:t,startApiPage:s,filters:{}}}}reset(){this._resetQueue(),this._endOfQSource=!1,this._currentlyUpdating=!1}}class y extends w{endQueueMsg="You have answered all suggested questions in this category! Use Search to answer more!";queueType="auto";_getPostObj(e,t,s){const i=super._getPostObj(e,t,s);return i.data.includeAnsweredQs=this.inputPanel.includeAlreadyAnsweredCheckbox.checked,i}}class Q extends u{includeAlreadyAnsweredCheckbox;searchInput;searchBtn;constructor(e){super(e),this.includeAlreadyAnsweredCheckbox=this.mainDiv.querySelector(".incl-prev-ans"),this.searchInput=this.mainDiv.querySelector(".search-input"),this.searchBtn=this.mainDiv.querySelector(".search-btn")}init(){this.searchInput.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),this.searchBtn.click())}))}}class v extends w{endQueueMsg="No results for this search term (or you answered them all already), try another!";noSearchTermMsg="Enter a search term!";queueType="search";searchQuery="";_getEndQueueMsg(){return""===this.searchQuery?this.noSearchTermMsg:this.endQueueMsg}checkQueueToBeUpdated(){const e=super.checkQueueToBeUpdated(),t=""!==this.searchQuery;return e&&t}checkSearchTermChanged(){const e=this.searchQuery;return this.setSearchQuery(),this.searchQuery!==e}setSearchQuery(){this.searchQuery=encodeURI(this.inputPanel.searchInput.value)}_getPostObj(e,t,s){const i=super._getPostObj(e,t,s);return i.data.searchQuery=this.searchQuery,i.data.includeAnsweredQs=this.inputPanel.includeAlreadyAnsweredCheckbox.checked,i}}class q extends p{removeQueueItem(e,t){this._queue.hasChildNodes()&&0===e&&this._deleteDomQ(e)}}class _ extends m{constructor(e,t=null,s=null){super(e,t,s),this._domQueue=new q(e,t,s)}update(e){this._resetQueue(),this._addToQueue([e])}}class g{wrapper;#q;#_;constructor(e){this.wrapper=e,this.#q=e.querySelector(".centre-modal"),this.#_=this.#q.querySelector(".close")}init(){const e=[this.#_,this.wrapper];for(let t of e)t.addEventListener("click",(()=>this.hide()));this.#q.addEventListener("click",(e=>e.stopPropagation()))}show(){(0,e.Ji)(this.wrapper)}hide(){(0,e.Yi)(this.wrapper)}}class A extends n{name="single";_qSource;_answerUiModal;constructor(e,t,s=null){super(e,s),this.questionsQueue=new _(e),this._qSource=t;const i=e.querySelector(".centre-modal-wrapper");this._answerUiModal=new g(i)}init(){super.init(),this._qSource.addEventListener("answerSingleQ",(e=>{this._handleClickSingleQ(e)})),this._answerUiModal.init()}answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0),s=this.getAnswerObj(e,t);return this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._answerUiModal.hide(),s}_handleClickSingleQ(e){const t=e.detail.question,s=this._makeQuestion(t);this.questionsQueue.update(s),this._answerUiModal.show(),this._showCurrQ()}}class T extends EventTarget{_listDiv;_contentDiv;_qDivClass;constructor(e){super(),this._listDiv=e,this._contentDiv=e.querySelector(".content")}_createQDiv(e){const[t,s]=c(e,this._categoryTypeName,this._categoryName),i=l(e.questionDetails,0,s);i.classList.add(this._qDivClass);const n=this._createQTextElem(e,t,s),r=this._createtQScoreElem(e);this._setupQImg(e,i);const a={qSourceItem:i,qText:n,qScore:r,catTypeName:t,catName:s};return this._addToQDiv(a),i}_handleRateBtnClick(e,t){this.dispatchEvent(new CustomEvent("answerSingleQ",{detail:{question:t}}))}_buildContentDiv(e){for(let t of e){const e=this._createQDiv(t);this._contentDiv.appendChild(e)}}_createQTextElem(e,t,s){const i=document.createElement("p");return i.innerText=d(e.questionDetails,"qSourceDisplayText",0,s),i.classList.add("q-text"),i}_createtQScoreElem(e){const t=document.createElement("p");return t.innerText=this._getScoreText(e),t.classList.add("user-score"),t}_setupQImg(e,t){const s=t.querySelector("img")??t.querySelector(".placeholder-img");s.addEventListener("click",(t=>{this._handleRateBtnClick(t,e)}));const i=document.createElement("div");i.classList.add("q-source-img-wrapper"),i.appendChild(s),t.insertBefore(i,t.children[0]);const n=document.createElement("div");n.classList.add("q-source-item-hover");const r=document.createElement("span");r.innerText=this._getHoverText(),r.classList.add("q-source-hover-txt"),n.appendChild(r),i.appendChild(n)}}s(300);const S=document.querySelector(".main-header"),f=S.dataset.catType,P=S.dataset.cat,x=document.querySelector(".auto-mode"),D=document.querySelector(".search-mode"),k=document.querySelector(".single-answer-mode"),b=document.querySelector(".prev-answers-list"),I=new class extends T{#g=!0;#A=[];_categoryTypeName;_categoryName;_qDivClass="prev-ans-item";constructor(e,t,s){super(e),this._categoryTypeName=t,this._categoryName=s}async activate(){this.#g&&(this.#A=await this.#T(),this._buildContentDiv(this.#A),this.#g=!1),(0,e.Ji)(this._listDiv)}deactivate(){(0,e.Yi)(this._listDiv)}updateAnswersList(e){for(let t of e){const e=this.#A.findIndex((e=>e.questionId===t.questionId)),s=this._createQDiv(t);e>-1?(this.#A.splice(e,1,t),this._contentDiv.replaceChild(s,this._contentDiv.children[e])):(this.#A.push(t),this._contentDiv.appendChild(s))}}async#T(){const e=await fetch(`/questions/user-answers/${this._categoryTypeName}/${this._categoryName}`);return await e.json()}_getScoreText(e){return e.skip?"Skipped":Number(e.answerVal).toFixed(1)}_addToQDiv(e){return e.qSourceItem.appendChild(e.qText),e.qSourceItem.appendChild(e.qScore),e.qSourceItem}_getHoverText(){return"Re-rate it!"}}(b,f,P),E=document.querySelector(".auto-queue-mode-btn"),C=document.querySelector(".search-mode-btn"),N=document.querySelector(".prev-answers-mode-btn"),L=new class extends r{name="auto";constructor(e,t,s,i=null){super(e,i),this.questionsQueue=new y(e,t,s),this.queueInputPanel=new o(e)}init(){super.init(),this.questionsQueue.inputPanel=this.queueInputPanel,this.queueInputPanel.includeAlreadyAnsweredCheckbox.addEventListener("click",(async()=>{this.questionsQueue.reset(),await this.updateQueueAndShowFirst(!0)}))}}(x,f,P,E),M=new class extends r{name="search";constructor(e,t,s,i=null){super(e,i),this.questionsQueue=new v(e,t,s),this.queueInputPanel=new Q(e)}async updateQueueAndShowFirst(e=!1){""!==this.queueInputPanel.searchInput.value&&(this.answerUiPanel.showLoader(),await super.updateQueue(e)),this.answerUiPanel.hideLoader(),this._showCurrQ()}init(){super.init(),this.questionsQueue.inputPanel=this.queueInputPanel,this.questionsQueue.inputPanel.init(),this.queueInputPanel.searchBtn.addEventListener("click",(async()=>{this.questionsQueue.checkSearchTermChanged()&&this.#S()})),this.queueInputPanel.includeAlreadyAnsweredCheckbox.addEventListener("click",(async()=>{this.#S()}))}async#S(){this.questionsQueue.reset(),this.questionsQueue.setSearchQuery(),await this.updateQueueAndShowFirst(!0)}}(D,f,P,C),U=new class extends A{name="prevAns";constructor(e,t,s,i,n=null){super(e,t,n),this.questionsQueue=new _(e,s,i)}setRecentAnswers(e){this._qSource.updateAnswersList(e)}async activate(){super.activate(),await this._qSource.activate()}deactivate(){this._qSource.deactivate(),super.deactivate()}_makeQuestion(e){const t={_id:e.questionId,currAns:{skip:e?.skip,answerVal:e?.answerVal}};for(let s in e.questionDetails)t[s]=e.questionDetails[s];return t}}(k,I,f,P,N),R=[L,M,U],O=[{mode:L,btn:E},{mode:M,btn:C},{mode:U,btn:N}],B=new class extends a{#f=[];_setRecentAnswers(){"prevAns"===this.currQuestionMode?.name?(this.currQuestionMode.setRecentAnswers(this.#f),this.#f=[]):this.currQuestionMode.setRecentAnswers(this.allRecentAnswers)}_handleNewAnswer(e){this._updateAnsArrayWithAns(this.#f,e),super._handleNewAnswer(e)}}(R,O,f,P);B.init(),window.onload=async()=>{await B.setQMode(L)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U3BOLGFBQ2R2QixNQUFNdUIsWUFDUixDQUlBMk4sY0FBY21DLEdBQ1osTUFBTVcsRUFBUSxDQUNaN1EsSUFBS2tRLEVBQVFuUSxXQUNib0osUUFBUyxDQUNQNUssS0FBTTJSLEdBQVMzUixLQUNmQyxVQUFXMFIsR0FBUzFSLFlBSXhCLElBQUssSUFBSS9CLEtBQVF5VCxFQUFRdFEsZ0JBQ3ZCaVIsRUFBTXBVLEdBQVF5VCxFQUFRdFEsZ0JBQWdCbkQsR0FHeEMsT0FBT29VLENBQ1QsR0pkeUNqQixFQUN6Q0UsRUFBaUJ0TyxFQUFrQkMsRUFBY2dQLEdBRTdDSyxFQUFZLENBQUNKLEVBQVdDLEVBQWFDLEdBR3JDdFAsRUFBZ0IsQ0FDcEIsQ0FBQ2EsS0FBTXVPLEVBQVd6VyxJQUFLc1csR0FDdkIsQ0FBQ3BPLEtBQU13TyxFQUFhMVcsSUFBS3VXLEdBQ3pCLENBQUNyTyxLQUFNeU8sRUFBaUIzVyxJQUFLd1csSUFJekJNLEVBQWdCLElLdkNmLGNBQWdDM1AsRUFFckMsR0FBd0IsR0FFeEJrQixvQkFJc0MsWUFBaEN4SSxLQUFLeUgsa0JBQWtCbUIsTUFDekI1SSxLQUFLeUgsaUJBQWlCeEMsaUJBQWlCakYsTUFBSyxHQUM1Q0EsTUFBSyxFQUF3QixJQUc3QkEsS0FBS3lILGlCQUFpQnhDLGlCQUFpQmpGLEtBQUtrRixpQkFFaEQsQ0FHQWdELGlCQUFpQnZCLEdBQ2YzRyxLQUFLdUksdUJBQXVCdkksTUFBSyxFQUF1QjJHLEdBQ3hENUIsTUFBTW1ELGlCQUFpQnZCLEVBQ3pCLEdMa0IwQ3FRLEVBQVd4UCxFQUNyREUsRUFBa0JDLEdBRXBCc1AsRUFBYy9XLE9BR2RLLE9BQU8yVyxPQUFTNVgsZ0JBQ1IyWCxFQUFjbE8sU0FBUzZOLEVBQVUsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9mYWRlVHJhbnNpdGlvbnMubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9wb3BCdG5zLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL3NoYXJlZEpzL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2tpbmRyZWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2tpbmRyZWQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Fuc3dlclVpUGFuZWwubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL3F1ZXN0aW9uc01vZGUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL3N1Yi1jbGFzc2VzL3FNb2RlV2l0aFF1ZXVlSW5wdXQvcU1vZGVXaXRoUXVldWVJbnB1dC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9xdWVzdGlvbnNQYWdlL3F1ZXN0aW9uc1BhZ2UubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvcXVldWVJbnB1dFBhbmVsL3F1ZXVlSW5wdXRQYW5lbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvY29tcG9uZW50cy9xdWV1ZUlucHV0UGFuZWwvc3ViLWNsYXNzZXMvYXV0b1F1ZXVlSW5wdXRQYW5lbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9xdWVzdGlvbnNIZWxwZXJzLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9jb21wb25lbnRzL2RvbVF1ZXVlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9iYXNlUXVlc3Rpb25zUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL3N1Yi1jbGFzc2VzL3F1ZXN0aW9uc1F1ZXVlL3F1ZXN0aW9uc1F1ZXVlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9zdWItY2xhc3Nlcy9xdWVzdGlvbnNRdWV1ZS9zdWItY2xhc3Nlcy9hdXRvUXVlc3Rpb25zUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvcXVldWVJbnB1dFBhbmVsL3N1Yi1jbGFzc2VzL3NlYXJjaFF1ZXVlSW5wdXRQYW5lbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvY29tcG9uZW50cy9iYXNlUXVlc3Rpb25zUXVldWUvc3ViLWNsYXNzZXMvcXVlc3Rpb25zUXVldWUvc3ViLWNsYXNzZXMvc2VhcmNoUXVlc3Rpb25zUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL2NvbXBvbmVudHMvc2luZ2xlRG9tUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL3N1Yi1jbGFzc2VzL3NpbmdsZVF1ZXN0aW9uUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9jZW50cmVNb2RhbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvc2luZ2xlQW5zd2VyTW9kZS9zaW5nbGVBbnN3ZXJNb2RlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcVNvdXJjZS9zaW5nbGVNb2RlUVNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9wYWdlcy9xdWVzdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3FTb3VyY2Uvc3ViLWNsYXNzZXMvcHJldmlvdXNBbnN3ZXJzLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9xTW9kZVdpdGhRdWV1ZUlucHV0L3N1Yi1jbGFzc2VzL2F1dG9Nb2RlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9xTW9kZVdpdGhRdWV1ZUlucHV0L3N1Yi1jbGFzc2VzL3NlYXJjaE1vZGUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL3N1Yi1jbGFzc2VzL3NpbmdsZUFuc3dlck1vZGUvc3ViLWNsYXNzZXMvcHJldkFuc3dlck1vZGUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvcXVlc3Rpb25zUGFnZS9zdWItY2xhc3Nlcy9mdWxsUXVlc3Rpb25zUGFnZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBhc3Npc3Qgd2l0aCBmYWRpbmcgaW4gLyBvdXQgRE9NIGVsZW1lbnRzLlxyXG5pbXBvcnQgeyBhd2FpdFRyYW5zaXRpb24gfSBmcm9tIFwiLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIEZhZGUgdHJhbnNpdGlvbiBoZWxwZXIgZnVuY3Rpb25zLCB1c2VkIHdpdGggdHJhbnNwYXJlbnQsIGZ1bGx5LWhpZGRlbiBhbmQgXHJcbi8vIGZhZGUtdHJhbnMgY3NzIGNsYXNzZXMuXHJcbi8vIE1ha2VzIGRpc3BsYXkgcHJvcGVydHkgdmlzaWJsZSBhbmQgdGhlbiByZW1vdmVzIHRyYW5zcGFyZW5jeS5cclxuZXhwb3J0IGZ1bmN0aW9uIGZhZGVJbihlbGVtKSB7XHJcbiAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwidHJhbnNwYXJlbnRcIiksIDEwKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmlzaEZhZGVJbihlbGVtKSB7XHJcbiAgYXdhaXQgYXdhaXRUcmFuc2l0aW9uKGVsZW0sIFwib3BhY2l0eVwiKTtcclxufVxyXG5cclxuLy8gRmluaXNoZXMgd2hlbiBmYWRlIGluIGlzIGNvbXBsZXRlZC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZ1bGx5RmFkZUluKGVsZW0pIHtcclxuICBmYWRlSW4oZWxlbSk7XHJcbiAgYXdhaXQgZmluaXNoRmFkZUluKGVsZW0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmFkZU91dChlbGVtKSB7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKFwidHJhbnNwYXJlbnRcIik7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIG9wYWNpdHkgdHJhbnNpdGlvbiBvbiB0aGUgXHJcbi8vIGdpdmVuIGVsZW1lbnQgaXMgY29tcGxldGVkLiBBbHNvIGZ1bGx5IGhpZGVzIHRoZSBlbGVtZW50LlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluaXNoRmFkZU91dChlbGVtKSB7XHJcbiAgYXdhaXQgYXdhaXRUcmFuc2l0aW9uKGVsZW0sIFwib3BhY2l0eVwiKTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbn1cclxuXHJcbi8vIEZhZGUgb3V0IGFuZCBmdWxseSBoaWRlIHRoZSBnaXZlbiBlbGVtZW50LlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZnVsbHlGYWRlT3V0KGVsZW0pIHtcclxuICBmYWRlT3V0KGVsZW0pO1xyXG4gIGF3YWl0IGZpbmlzaEZhZGVPdXQoZWxlbSk7XHJcbn1cclxuXHJcbi8vIEZhZGVzIG91dCBlbGVtMSBhbmQgZmFkZXMgaW4gZWxlbTIgb25jZSB0cmFuc2l0aW9uIGNvbXBsZXRlZCwgZG9lc24ndCBmaW5pc2ggXHJcbi8vIHVudGlsIGVsZW0yIGZ1bGx5IGZhZGVkIGluLiBSZXR1cm5zIHByb21pc2UuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWRlRnJvbVRvKGVsZW0xLCBlbGVtMikge1xyXG4gIGNvbnN0IGZhZGVDb21wbGV0ZVByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcclxuICAgIGF3YWl0IGZ1bGx5RmFkZU91dChlbGVtMSk7XHJcbiAgICBhd2FpdCBmdWxseUZhZGVJbihlbGVtMik7XHJcbiAgICByZXNvbHZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBmYWRlQ29tcGxldGVQcm9taXNlO1xyXG59IiwiaW1wb3J0IHsgZnVsbHlGYWRlSW4sIGZ1bGx5RmFkZU91dCB9IGZyb20gXCIuL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gQnRuIHdpdGggYXNzb2NpYXRlZCBjb250ZW50LiBDb250ZW50IGZhZGVzIGluIHdoZW4gYnV0dG9uIGlzIGNsaWNrZWQgYW5kIFxyXG4vLyBmYWRlcyBvdXQgd2hlbiBhbnl0aGluZyBpcyBjbGlja2VkLiBVc2VkIGJ5IGluZm8gYnV0dG9ucyBhbmQgbmF2IGRyb3Bkb3duLlxyXG5jbGFzcyBQb3BCdG4ge1xyXG4gICNidG47XHJcbiAgI2NvbnRlbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvcEJ0bkNvbnRhaW5lcikge1xyXG4gICAgdGhpcy4jYnRuID0gcG9wQnRuQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLWJ0blwiKTtcclxuICAgIHRoaXMuI2NvbnRlbnQgPSBwb3BCdG5Db250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wb3AtYnRuLWNvbnRlbnRcIik7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy4jc2V0dXBJbmZvQnRuQ2xpY2sodGhpcy4jYnRuLCB0aGlzLiNjb250ZW50KTtcclxuICB9XHJcblxyXG4gICNzZXR1cEluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpIHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLiNoYW5kbGVJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KTtcclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyAjaGFuZGxlSW5mb0J0bkNsaWNrKGJ0biwgY29udGVudCkge1xyXG4gICAgYXdhaXQgZnVsbHlGYWRlSW4oY29udGVudCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZnVsbHlGYWRlT3V0KGNvbnRlbnQpO1xyXG4gICAgICB0aGlzLiNzZXR1cEluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpO1xyXG4gICAgfSwge29uY2U6IHRydWV9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEluaXRzIGFsbCBwb3AgYnRucyBvbiBhIHBhZ2UuXHJcbmZ1bmN0aW9uIHNldHVwUG9wQnRucygpIHtcclxuICBjb25zdCBwb3BCdG5Db250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3AtYnRuLWNvbnRhaW5lclwiKTtcclxuICBcclxuICBwb3BCdG5Db250YWluZXJzLmZvckVhY2gocG9wQnRuQ29udGFpbmVyID0+IHtcclxuICAgIGNvbnN0IHBvcEJ0biA9IG5ldyBQb3BCdG4ocG9wQnRuQ29udGFpbmVyKTtcclxuICAgIHBvcEJ0bi5pbml0KCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnNldHVwUG9wQnRucygpOyIsIi8vIENsYW1wIG51bWJlciBiZXR3ZWVuIHR3byB2YWx1ZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcChudW0sIG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgcHJwcnRuID0gMC41KSB7XHJcbiAgcmV0dXJuIHN0YXJ0ICsgKChlbmQgLSBzdGFydCkgKiBwcnBydG4pO1xyXG59XHJcblxyXG4vLyBGb3IgaW50cywgaXQgaXMgaW5jbHVzaXZlIG9mIHN0YXJ0IGFuZCBub3QgaW5jbHVzaXZlIG9mIGVuZC5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRCZXR3ZWVuKHN0YXJ0ID0gMCwgZW5kID0gMSwgaW50cyA9IGZhbHNlKSB7XHJcbiAgY29uc3QgcmFuZ2UgPSBlbmQgLSBzdGFydDtcclxuICBjb25zdCByYW5kRmxvYXQgPSAoTWF0aC5yYW5kb20oKSAqIHJhbmdlKSArIHN0YXJ0O1xyXG4gIHJldHVybiBpbnRzID8gTWF0aC5mbG9vcihyYW5kRmxvYXQpIDogcmFuZEZsb2F0O1xyXG59XHJcblxyXG4vLyBQcm9iYWJpbGl0eSBzaG91bGQgYmUgYSBkZWNpbWFsLCByZXR1cm5zIHRydWUgb3IgZmFsc2UuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UmFuZG9tKHByb2JhYmlsaXR5KSB7XHJcbiAgcmV0dXJuIChNYXRoLnJhbmRvbSgpIDw9IHByb2JhYmlsaXR5KSA/IHRydWUgOiBmYWxzZTtcclxufVxyXG5cclxuLy8gVGFrZXMgYSBsaXN0IG9mIHByb2Igb2JqZWN0cyBhcyBpbnB1dCBpbiBmb3JtYXQge25hbWU6IG5hbWUsIHByb2I6IHByb2J9IGFuZCBcclxuLy8gcmV0dXJucyBuYW1lIG9mIGNob3NlbiBwcm9iT2JqLCBvciBmYWxzZSBpZiBub25lIGNob3NlbiAoaW4gY2FzZSB0aGF0IHByb2JPYmpzIFxyXG4vLyBwcm9icyBkb250IHN1bSB0byAxKS5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RSYW5kTXVsdCguLi5wcm9icykge1xyXG4gIGNvbnN0IHByb2JzT2JqcyA9IFtdO1xyXG4gIGxldCBjdXJyUHJvYlN0YXJ0ID0gMDtcclxuXHJcbiAgcHJvYnMuZm9yRWFjaChwcm9iID0+IHtcclxuICAgIGNvbnN0IHRoaXNQcm9iID0ge1xyXG4gICAgICBuYW1lOiBwcm9iLm5hbWUsXHJcbiAgICAgIHN0YXJ0OiBjdXJyUHJvYlN0YXJ0LFxyXG4gICAgICBlbmQ6IGN1cnJQcm9iU3RhcnQgKyBwcm9iLnByb2JcclxuICAgIH07XHJcblxyXG4gICAgcHJvYnNPYmpzLnB1c2godGhpc1Byb2IpO1xyXG5cclxuICAgIGN1cnJQcm9iU3RhcnQgKz0gcHJvYjtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY2hvc2VuVmFsID0gTWF0aC5yYW5kb20oKTtcclxuICBsZXQgcmV0dXJuVmFsID0gZmFsc2U7XHJcblxyXG4gIHByb2JzT2Jqcy5mb3JFYWNoKHByb2IgPT4ge1xyXG4gICAgY29uc3QgY2hvc2VuVGhpc1Byb2IgPSBwcm9iLnN0YXJ0IDw9IGNob3NlblZhbCAmJiBwcm9iLmVuZCA+IGNob3NlblZhbDtcclxuICAgIGlmIChjaG9zZW5UaGlzUHJvYikge1xyXG4gICAgICByZXR1cm5WYWwgPSBwcm9iLm5hbWU7XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmV0dXJuVmFsO1xyXG59XHJcblxyXG4vLyBTZWFyY2hlcyBmb3IgYSBuZXdJdGVtIGluIGFuIGFycmF5IGdpdmVuIGFuIGVsZW1Db21wRnVuYyB0aGF0IGRldGVybWluZXMgXHJcbi8vIHdoZXRoZXIgaXQgaXMgcHJlc2VudCBvciBub3QgKGVnLiB0byBmaW5kIGJhc2VkIG9uIHF1ZXN0aW9uIElEKS4gSWYgcHJlc2VudCwgXHJcbi8vIGVsZW1lbnQgaW4gYXJyYXkgaXMgb3ZlcndyaXR0ZW4gd2l0aCBuZXdJdGVtLCBvdGhlcndpc2UgbmV3SXRlbSBpcyBwdXNoZWQgdG8gXHJcbi8vIGVuZCBvZiBhcnJheS5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRBbmRPdmVyd3JpdGVFbHNlUHVzaChhcnJheSwgbmV3SXRlbSwgZWxlbUNvbXBGdW5jKSB7XHJcbiAgY29uc3QgZm91bmRJbmRleCA9IGFycmF5LmZpbmRJbmRleChhcnJJdGVtID0+IGVsZW1Db21wRnVuYyhhcnJJdGVtLCBuZXdJdGVtKSk7XHJcblxyXG4gIC8vIElmIGZvdW5kLCBvdmVyd3JpdGUuXHJcbiAgaWYgKGZvdW5kSW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGZvdW5kSW5kZXgsIDEsIG5ld0l0ZW0pO1xyXG4gIH1cclxuICAvLyBPdGhlcndpc2UgYWRkLlxyXG4gIGVsc2Uge1xyXG4gICAgYXJyYXkucHVzaChuZXdJdGVtKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdHJhbnNpdGlvbiBvbiBnaXZlbiBlbGVtZW50IGVuZHMsIFxyXG4vLyBvcHRpb25hbCB0cmFuc2l0aW9uIHByb3BlcnR5IG5hbWUgY2hlY2suXHJcbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFRyYW5zaXRpb24oZWxlbSwgcHJvcE5hbWUgPSBudWxsKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBhc3luYyBldnQgPT4ge1xyXG5cclxuICAgICAgaWYgKHByb3BOYW1lKSB7XHJcbiAgICAgICAgaWYgKGV2dC5wcm9wZXJ0eU5hbWUgPT09IHByb3BOYW1lKSB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBwcm9wTmFtZSk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfSlcclxufVxyXG5cclxuLy8gRm9yIHRlc3RpbmcgbG9uZyBydW5uaW5nIGZ1bmN0aW9ucy5cclxuLy8gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTsgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNsYXNzIEFuc3dlclVJUGFuZWwge1xyXG4gIG1haW5EaXY7XHJcbiAgcmF0ZVBhbmVsO1xyXG4gIHJhdGVCdG47XHJcbiAgc2tpcEJ0bjtcclxuICBzY29yZVNsaWRlcjtcclxuICBzY29yZVNsaWRlcklucHV0O1xyXG4gIGN1cnJRdWVzdGlvblRleHQ7XHJcbiAgcHJldkFuc0RpdjtcclxuICBwcmV2QW5zVmFsO1xyXG4gIGxvYWRlcjtcclxuICBkZXRhaWxzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZURpdikge1xyXG4gICAgdGhpcy5tYWluRGl2ID0gcU1vZGVEaXYucXVlcnlTZWxlY3RvcihcIi5hbnN3ZXItcGFuZWxcIik7XHJcbiAgICB0aGlzLnJhdGVQYW5lbCA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnJhdGUtcGFuZWxcIik7XHJcbiAgICB0aGlzLnJhdGVCdG4gPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5yYXRlLWJ0blwiKTtcclxuICAgIHRoaXMuc2tpcEJ0biA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnNraXAtYnRuXCIpO1xyXG4gICAgdGhpcy5zY29yZVNsaWRlciA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlLXNsaWRlclwiKTtcclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dCA9IHRoaXMuc2NvcmVTbGlkZXIucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25UZXh0ID0gdGhpcy5tYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY3Vyci1xdWVzdGlvblwiKTtcclxuICAgIHRoaXMucHJldkFuc0RpdiA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnByZXYtYW5zLWluZm9cIik7XHJcbiAgICB0aGlzLnByZXZBbnNWYWwgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5wcmV2LWFucy12YWxcIik7XHJcbiAgICB0aGlzLmxvYWRlciA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcclxuICAgIHRoaXMuZGV0YWlscyA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmRldGFpbHNcIik7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCBxdWVzdGlvbiB3aXRoIHRoZSBuZXcgZmlyc3QgcXVldWUgaXRlbS5cclxuICBkaXNwbGF5Q3VyclEobmV3UUluZm8sIGluY2x1ZGVBbHJlYWR5QW5zd2VyZWQpIHtcclxuICAgIHRoaXMuI3Nob3dPckhpZGVQYW5lbChuZXdRSW5mbyk7XHJcblxyXG4gICAgLy8gU2hvdyBjdXJyZW50IHF1ZXN0aW9uIHRleHQgYW5kIHJlc2V0IHByZXZpb3VzIGFuc3dlciBpbmZvLlxyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25UZXh0LmlubmVySFRNTCA9IG5ld1FJbmZvLmN1cnJRVGV4dDtcclxuICAgIHRoaXMucHJldkFuc1ZhbC5pbm5lclRleHQgPSBcIlwiO1xyXG5cclxuICAgIGNvbnN0IHByZXZTY29yZSA9IHRoaXMuI2ZpbGxQcmV2QW5zKG5ld1FJbmZvLCBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkKTtcclxuXHJcbiAgICAvLyBSZXNldCAvIHNldCB0aGUgc2NvcmUgYW5kIHNlbmQgaW5wdXQgZXZlbnQgZm9yIHRoZSBjdXN0b20gc2xpZGVyIHRvIFxyXG4gICAgLy8gY2F1c2UgdGhlIHdyYXBwZXIgZWxlbWVudCB0byB1cGRhdGUgYWxzby5cclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dC52YWx1ZSA9IHByZXZTY29yZTtcclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNob3dMb2FkZXIoKSB7XHJcbiAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gICAgdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbiAgICB0aGlzLmRldGFpbHMuY2xhc3NMaXN0LmFkZChcInRyYW5zcGFyZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGlkZUxvYWRlcigpIHtcclxuICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbiAgICB0aGlzLmRldGFpbHMuY2xhc3NMaXN0LnJlbW92ZShcImZ1bGx5LWhpZGRlblwiKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cmFuc3BhcmVudFwiKSwgMTApO1xyXG4gIH1cclxuXHJcbiAgLy8gU2hvd3MgLyBoaWRlcyByYXRlIHBhbmVsIGRlcGVuZGVudCBvbiB3aGV0aGVyIGVuZCBvZiBxdWV1ZSByZWFjaGVkLlxyXG4gICNzaG93T3JIaWRlUGFuZWwobmV3UUluZm8pIHtcclxuICAgIC8vIFNob3cgb3IgaGlkZSB0aGUgc2NvcmluZyBzbGlkZXIgYW5kIGJ1dHRvbnMgYXMgbmVjZXNzYXJ5LlxyXG4gICAgaWYgKG5ld1FJbmZvLmVuZE9mUXVldWUpIHtcclxuICAgICAgdGhpcy5yYXRlUGFuZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnJhdGVQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFNob3dzIG9yIGhpZGVzIHByZXZpb3VzIGFuc3dlciBpbmZvIGRlcGVuZGVudCBvbiB3aGV0aGVyIHRoZXJlIGlzIG9uZSBmb3IgXHJcbiAgLy8gdGhpcyBxdWVzdGlvbiBhbmQgc2V0cyB0aGUgcHJldiBhbnMgdGV4dC4gUmV0dXJucyB0aGUgcHJldiBhbnMgc2NvcmUgXHJcbiAgLy8gdmFsdWUsIHVzZWQgdG8gc2V0IHRoZSBzbGlkZXIgc2NvcmUuXHJcbiAgI2ZpbGxQcmV2QW5zKG5ld1FJbmZvLCBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkKSB7XHJcbiAgICBsZXQgcHJldkFuc1Njb3JlID0gNTtcclxuXHJcbiAgICAvLyBJZiBjdXJyZW50IHF1ZXN0aW9uIGhhcyBhIHByZXZpb3VzIGFuc3dlciBieSB0aGUgdXNlciwgc2hvdyB0aGUgcHJldmlvdXMgXHJcbiAgICAvLyBhbnN3ZXIgZGV0YWlscy5cclxuICAgIGlmIChpbmNsdWRlQWxyZWFkeUFuc3dlcmVkICYmIG5ld1FJbmZvLmN1cnJRQW5zKSB7XHJcbiAgICAgIHRoaXMucHJldkFuc0Rpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpOyAgICAgIFxyXG4gICAgICB0aGlzLnByZXZBbnNWYWwuaW5uZXJUZXh0ID0gXCJTa2lwcGVkXCI7XHJcblxyXG4gICAgICBpZiAoIW5ld1FJbmZvLmN1cnJRQW5zLnNraXApIHtcclxuICAgICAgICBwcmV2QW5zU2NvcmUgPSBuZXdRSW5mby5jdXJyUUFucy5hbnN3ZXJWYWw7XHJcbiAgICAgICAgdGhpcy5wcmV2QW5zVmFsLmlubmVyVGV4dCA9IHByZXZBbnNTY29yZTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnByZXZBbnNEaXYuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByZXZBbnNTY29yZTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmYWRlSW4sIGZhZGVPdXQgfSBmcm9tIFwiLi4vLi4vLi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5pbXBvcnQgeyBBbnN3ZXJVSVBhbmVsIH0gZnJvbSBcIi4vY29tcG9uZW50cy9hbnN3ZXJVaVBhbmVsLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUXVlc3Rpb25zTW9kZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcclxuICBtYWluRGl2O1xyXG4gIGFuc3dlclVpUGFuZWw7XHJcbiAgcXVlc3Rpb25zUXVldWU7XHJcbiAgYnRuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYWluRGl2LCBidG4gPSBudWxsKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5tYWluRGl2ID0gbWFpbkRpdjtcclxuICAgIHRoaXMuYnRuID0gYnRuO1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsID0gbmV3IEFuc3dlclVJUGFuZWwobWFpbkRpdik7XHJcbiAgfVxyXG5cclxuICAvLyBTZXRzIHVwIHRoZSBhbnN3ZXIgVUkgcGFuZWwgYnV0dG9uIGV2ZW50IGxpc3RlbmVycy5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnJhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuYW5zd2VyUXVlc3Rpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnNraXBCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuYW5zd2VyUXVlc3Rpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFzc2VzIHRoZSBhbGxSZWNlbnRBbnN3ZXJzIG9uIHRvIHRoZSBxdWVzdGlvbnMgcXVldWUuXHJcbiAgc2V0UmVjZW50QW5zd2VycyhhbGxSZWNlbnRBbnN3ZXJzKSB7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnNldFJlY2VudEFuc3dlcnMoYWxsUmVjZW50QW5zd2Vycyk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gaW4gdGhlIGFuc3dlciBVSSBwYW5lbCB3aXRoIHRoZSBuZXcgZmlyc3QgXHJcbiAgLy8gcXVldWUgaXRlbS5cclxuICBfc2hvd0N1cnJRKGluY2xBbHJlYWR5QW5zd2VyZWQgPSB0cnVlKSB7XHJcbiAgICAvLyBHZXRzIGluZm9ybWF0aW9uIG9uIHdoZXRoZXIgcXVldWUgaXMgbm93IGVtcHR5LCBvciB3aGF0IHRoZSBuZXh0IDEwIFxyXG4gICAgLy8gcXVldWUgaXRlbXMgKGFuZCBmaXJzdCBxdWVzdGlvbiB1c2VyIGFuc3dlciwgaWYgbmVjZXNzYXJ5KSBzaG91bGQgYmUuXHJcbiAgICBjb25zdCBuZXdDdXJyUUluZm8gPSB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmdldEN1cnJRSW5mbygpO1xyXG5cclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5kaXNwbGF5Q3VyclEobmV3Q3VyclFJbmZvLCBpbmNsQWxyZWFkeUFuc3dlcmVkKTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgY3VycmVudCBhbnN3ZXIgdG8gY3VycmVudCBxdWVzdGlvbiBhcyBhbiBvYmplY3QgZm9yIERCLlxyXG4gIGdldEFuc3dlck9iaihldmVudCwgY3VyclF1ZXN0aW9uKSB7XHJcbiAgICBjb25zdCB1c2VyU2tpcHBlZCA9IChldmVudC5jdXJyZW50VGFyZ2V0ID09PSB0aGlzLmFuc3dlclVpUGFuZWwuc2tpcEJ0bik7XHJcbiAgICBjb25zdCB0aGlzU2NvcmUgPSAodXNlclNraXBwZWQgPyBudWxsIDogTnVtYmVyKHRoaXMuYW5zd2VyVWlQYW5lbC5cclxuICAgICAgc2NvcmVTbGlkZXJJbnB1dC52YWx1ZSkpO1xyXG4gICAgICBcclxuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlscyA9IHRoaXMuX2dldFF1ZXN0aW9uRGV0YWlscyhjdXJyUXVlc3Rpb24pO1xyXG5cclxuICAgIGNvbnN0IGFuc3dlckluZm8gPSB7XHJcbiAgICAgIHF1ZXN0aW9uSWQ6IGN1cnJRdWVzdGlvbi5faWQsXHJcbiAgICAgIHNraXA6IHVzZXJTa2lwcGVkLFxyXG4gICAgICBxdWVzdGlvbkRldGFpbHM6IHF1ZXN0aW9uRGV0YWlsc1xyXG4gICAgfTtcclxuICBcclxuICAgIGlmICghdXNlclNraXBwZWQpIHtcclxuICAgICAgYW5zd2VySW5mby5hbnN3ZXJWYWwgPSB0aGlzU2NvcmU7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBhbnN3ZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyBhbGwgdGhlIHF1ZXN0aW9uIGRldGFpbHMgKGVnLiB0aXRsZSwgcmVsZWFzZSBkYXRlIGV0Yy4pIGZvciB0aGUgY3VycmVudCBcclxuICAvLyBxdWVzdGlvbiBpbiBhbiBvYmplY3QgdG8gYmUgYWRkZWQgdG8gdGhlIGFuc3dlcnMgb2JqZWN0LCB0byBiZSBhZGRlZCB0byB0aGUgREIuXHJcbiAgX2dldFF1ZXN0aW9uRGV0YWlscyhjdXJyUXVlc3Rpb24pIHtcclxuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlscyA9IHt9O1xyXG4gICAgY29uc3QgcHJvcHNUb0lnbm9yZSA9IFtcIl9pZFwiLCBcImFwaVBhZ2VOdW1cIiwgXCJhbHJlYWR5SW5EYlwiLCBcImN1cnJBbnNcIl07XHJcblxyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBjdXJyUXVlc3Rpb24pIHtcclxuICAgICAgY29uc3QgaWdub3JlUHJvcCA9IHByb3BzVG9JZ25vcmUuaW5jbHVkZXMocHJvcCk7XHJcbiAgICAgIGlmIChpZ25vcmVQcm9wKSBjb250aW51ZTtcclxuICAgICAgcXVlc3Rpb25EZXRhaWxzW3Byb3BdID0gY3VyclF1ZXN0aW9uW3Byb3BdO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcXVlc3Rpb25EZXRhaWxzO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5idG4pIHtcclxuICAgICAgdGhpcy5idG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1xLW1vZGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZhZGVJbih0aGlzLm1haW5EaXYpO1xyXG4gIH1cclxuXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIGlmICh0aGlzLmJ0bikge1xyXG4gICAgICB0aGlzLmJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXEtbW9kZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgZmFkZU91dCh0aGlzLm1haW5EaXYpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFF1ZXN0aW9uc01vZGUgfSBmcm9tIFwiLi4vLi4vcXVlc3Rpb25zTW9kZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFFNb2RlV2l0aFF1ZXVlSW5wdXQgZXh0ZW5kcyBRdWVzdGlvbnNNb2RlIHtcclxuICBxdWV1ZUlucHV0UGFuZWw7XHJcblxyXG4gIC8vIFNhdmUgYW5zd2VyIGluZm9ybWF0aW9uLCB1cGRhdGUgdGhlIHF1ZXVlIGlmIG5lY2Vzc2FyeS5cclxuICBhc3luYyBhbnN3ZXJRdWVzdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgY3VyclF1ZXN0aW9uID0gdGhpcy5xdWVzdGlvbnNRdWV1ZS5yZW1vdmVRdWV1ZUl0ZW0oMCwgdHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZS5zYXZlUHJldlEoY3VyclF1ZXN0aW9uLl9pZCk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBhbnN3ZXIgb2JqZWN0IGFzIGl0IHNob3VsZCBiZSBzdG9yZWQgaW4gdGhlIERCLlxyXG4gICAgY29uc3QgYW5zd2VyT2JqID0gdGhpcy5nZXRBbnN3ZXJPYmooZXZlbnQsIGN1cnJRdWVzdGlvbik7XHJcblxyXG4gICAgLy8gRW1pdCBldmVudCB0byBiZSBwaWNrZWQgdXAgYnkgdGhlIHF1ZXN0aW9ucyBwYWdlLlxyXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJhbnN3ZXJlZFFcIiwge2RldGFpbDoge2Fuc3dlck9iajogYW5zd2VyT2JqfX0pXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCBxdWVzdGlvbiBpbiB0aGUgYW5zd2VyIFVJIHBhbmVsIHdpdGggdGhlIG5ldyBmaXJzdCBcclxuICAgIC8vIHF1ZXVlIGl0ZW0uXHJcbiAgICB0aGlzLl9zaG93Q3VyclEoKTtcclxuXHJcbiAgICAvLyBBZGRzIG1vcmUgcXVlc3Rpb25zIHRvIHRoZSBxdWVzdGlvbnMgcXVldWUgaWYgbmVjZXNzYXJ5LlxyXG4gICAgbGV0IHF1ZXVlVXBkYXRlZCA9IGF3YWl0IHRoaXMucXVlc3Rpb25zUXVldWUudXBkYXRlKCk7XHJcbiAgICBpZiAocXVldWVVcGRhdGVkKSB7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25zUXVldWUuY2hlY2tGb3JPdXRkYXRlZFFzKHRydWUpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCBxdWVzdGlvbiBpbiB0aGUgYW5zd2VyIFVJIHBhbmVsIHdpdGggdGhlIG5ldyBmaXJzdCBcclxuICAvLyBxdWV1ZSBpdGVtLiBcclxuICBfc2hvd0N1cnJRKCkge1xyXG4gICAgY29uc3QgaW5jbEFscmVhZHlBbnN3ZXJlZCA9IHRoaXMucXVldWVJbnB1dFBhbmVsPy5cclxuICAgICAgaW5jbHVkZUFscmVhZHlBbnN3ZXJlZENoZWNrYm94LmNoZWNrZWQ7XHJcblxyXG4gICAgc3VwZXIuX3Nob3dDdXJyUShpbmNsQWxyZWFkeUFuc3dlcmVkKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGFjdGl2YXRlKCkge1xyXG4gICAgc3VwZXIuYWN0aXZhdGUoKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZXMgdGhlIHF1ZXN0aW9ucyBxdWV1ZSBhbmQgdGhlbiBkaXNwbGF5cyB0aGUgZmlyc3QgcXVlc3Rpb24gb2YgaXQsIFxyXG4gIC8vIGNhbGxlZCB3aGVuIHN3aXRjaGluZyB0byB0aGlzIHF1ZXN0aW9ucyBtb2RlLlxyXG4gIGFzeW5jIHVwZGF0ZVF1ZXVlQW5kU2hvd0ZpcnN0KGlzTmV3UXVldWUgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnNob3dMb2FkZXIoKTtcclxuICAgIGF3YWl0IHRoaXMudXBkYXRlUXVldWUoaXNOZXdRdWV1ZSk7XHJcbiAgICB0aGlzLmFuc3dlclVpUGFuZWwuaGlkZUxvYWRlcigpO1xyXG4gICAgdGhpcy5fc2hvd0N1cnJRKCk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIHRoZSBxdWVzdGlvbnMgcXVldWUuXHJcbiAgYXN5bmMgdXBkYXRlUXVldWUoaXNOZXdRdWV1ZSkge1xyXG4gICAgLy8gUXVldWUgd2lsbCBvbmx5IHVwZGF0ZSBpZiBpdCdzIHNob3J0IG9uIGFuc3dlcnMuXHJcbiAgICBhd2FpdCB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnVwZGF0ZShpc05ld1F1ZXVlKTtcclxuXHJcbiAgICAvLyBDaGVja3MgdGhlIHF1ZXVlIHRvIHNlZSBpZiBhbnkgcXVlc3Rpb25zIGluIGl0IGFyZSBub3cgb3V0ZGF0ZWQgYmFzZWQgb24gXHJcbiAgICAvLyByZWNlbnRseSBQT1NUZWQgYW5zd2VycyBvciByZWNlbnQgYW5zd2VycyBmcm9tIG90aGVyIHF1ZXN0aW9ucyBtb2RlcyB0aGF0IFxyXG4gICAgLy8gaGF2ZW4ndCB5ZXQgYmVlbiBQT1NUZWQuXHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmNoZWNrRm9yT3V0ZGF0ZWRRcygpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGZpbmlzaEZhZGVPdXQgfSBmcm9tIFwiLi4vLi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5pbXBvcnQgeyBmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2ggfSBmcm9tIFwiLi4vLi4vLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcblxyXG5pbXBvcnQgeyBRTW9kZVdpdGhRdWV1ZUlucHV0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9cXFxyXG5xTW9kZVdpdGhRdWV1ZUlucHV0L3FNb2RlV2l0aFF1ZXVlSW5wdXQubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBRdWVzdGlvbnNQYWdlIHtcclxuICAjc3dpdGNoaW5nTW9kZSA9IGZhbHNlO1xyXG4gIHF1ZXN0aW9uc01vZGVzO1xyXG4gIHFNb2RlU3dpdGNoZXI7XHJcbiAgY3VyclF1ZXN0aW9uTW9kZTtcclxuICBjYXRlZ29yeVR5cGVOYW1lO1xyXG4gIGNhdGVnb3J5TmFtZTtcclxuICAvLyBOZXcgYW5zd2VycyB0aGF0IGhhdmUgbm90IHlldCBiZWVuIFBPU1RlZCB0byBzZXJ2ZXIuXHJcbiAgbm90WWV0UG9zdGVkQW5zd2VycyA9IFtdO1xyXG4gIC8vIFRoZSBub3QgeWV0IFBPU1RlZCBhbnN3ZXJzIHBsdXMgYW55IGFuc3dlcnMgdGhhdCBhcmUgUE9TVGVkIGJ1dCB0aGUgc2F2ZSBcclxuICAvLyBvbiBiYWNrIGVuZCBoYXNuJ3QgY29tcGxldGVkIHlldC5cclxuICBhbGxSZWNlbnRBbnN3ZXJzID0gW107XHJcbiAgc3RhdGljICNzdWJtaXRBbnN3ZXJzSW50ZXJ2YWwgPSA2MDAwMDA7IC8vIDEwIG1pbnNcclxuXHJcbiAgY29uc3RydWN0b3IocU1vZGVzLCBxTW9kZVN3aXRjaGVyID0gW10sIGNhdGVnb3J5VHlwZU5hbWUgPSBudWxsLCBcclxuICAgIGNhdGVnb3J5TmFtZSA9IG51bGwpIHtcclxuXHJcbiAgICB0aGlzLnF1ZXN0aW9uc01vZGVzID0gcU1vZGVzO1xyXG4gICAgdGhpcy5xTW9kZVN3aXRjaGVyID0gcU1vZGVTd2l0Y2hlcjtcclxuICAgIHRoaXMuY2F0ZWdvcnlUeXBlTmFtZSA9IGNhdGVnb3J5VHlwZU5hbWU7XHJcbiAgICB0aGlzLmNhdGVnb3J5TmFtZSA9IGNhdGVnb3J5TmFtZTtcclxuICB9XHJcblxyXG4gIC8vIFNldCB1cCB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciBhbGwgYnV0dG9ucyBhbmQgcHJvdG9jb2wgZm9yIHVwbG9hZGluZyBcclxuICAvLyBhbnN3ZXJzIGRhdGEuXHJcbiAgaW5pdCgpIHtcclxuICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGJ1dHRvbnMgd2l0aGluIGVhY2ggcXVlc3Rpb25zIG1vZGUuXHJcbiAgICBmb3IgKGxldCBxTW9kZSBvZiB0aGlzLnF1ZXN0aW9uc01vZGVzKSB7XHJcbiAgICAgIHFNb2RlLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gV2hlbiBxdWVzdGlvbnMgcGFnZSBpcyBsZWZ0IC8gdGFiIGNsb3NlZCwgcG9zdCBhbnkgYW5zd2VycyB0byB0aGUgc2VydmVyLlxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9wb3N0QW5zd2Vycyh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFN1Ym1pdCBhbnN3ZXJzIGV2ZXJ5IDEwIG1pbnMsIGlmIHRoZXJlIGFyZSBhbnkuXHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3Bvc3RBbnN3ZXJzKGZhbHNlKTtcclxuICAgIH0sIFF1ZXN0aW9uc1BhZ2UuI3N1Ym1pdEFuc3dlcnNJbnRlcnZhbCk7XHJcblxyXG4gICAgLy8gTGlzdGVuIGZvciBldmVudHMgZW1pdHRlZCBieSBhbnkgcSBtb2RlIHdoZW4gYSBxdWVzdGlvbiBpcyBhbnN3ZXJlZC5cclxuICAgIGZvciAobGV0IHFNb2RlIG9mIHRoaXMucXVlc3Rpb25zTW9kZXMpIHtcclxuICAgICAgcU1vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuc3dlcmVkUVwiLCBldnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlck9iaiA9IGV2dC5kZXRhaWwuYW5zd2VyT2JqO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZU5ld0Fuc3dlcihhbnN3ZXJPYmopO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pdCB0aGUgcU1vZGVTd2l0Y2hlci5cclxuICAgIHRoaXMuI2luaXRRTW9kZVN3aXRjaGVyKCk7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBxIG1vZGUgc3dpdGNoIGJ1dHRvbnMuXHJcbiAgI2luaXRRTW9kZVN3aXRjaGVyKCkge1xyXG4gICAgZm9yIChsZXQgbW9kZUJ0bkxpbmsgb2YgdGhpcy5xTW9kZVN3aXRjaGVyKSB7XHJcbiAgICAgIGNvbnN0IHFNb2RlQnRuID0gbW9kZUJ0bkxpbmsuYnRuO1xyXG4gICAgICBjb25zdCBxTW9kZSA9IG1vZGVCdG5MaW5rLm1vZGU7XHJcblxyXG4gICAgICBxTW9kZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIERvbid0IHRyeSB0byBzd2l0Y2ggbW9kZSBpZiBhbHJlYWR5IHRyYW5zaXRpb25pbmcgYmV0d2VlbiB0d28gb3IgaWYgXHJcbiAgICAgICAgLy8gY2xpY2tlZCBvbiBjdXJyZW50IHFNb2RlLlxyXG4gICAgICAgIGNvbnN0IGRvbnRTd2l0Y2hNb2RlID0gdGhpcy4jc3dpdGNoaW5nTW9kZSB8fCAodGhpcy5jdXJyUXVlc3Rpb25Nb2RlID09PSBxTW9kZSk7XHJcbiAgICAgICAgaWYgKGRvbnRTd2l0Y2hNb2RlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuI3N3aXRjaGluZ01vZGUgPSB0cnVlO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc3dpdGNoUU1vZGUocU1vZGUpXHJcbiAgICAgICAgdGhpcy4jc3dpdGNoaW5nTW9kZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNhdmVzIChvciBvdmVyd3JpdGVzKSBuZXcgYW5zd2VyIHRvIG5vdFlldFBvc3RlZCBhbmQgYWxsUmVjZW50QW5zd2VycyBhbmQgXHJcbiAgLy8gdGhlbiBzZW5kcyB0aGUgdXBkYXRlZCByZWNlbnQgYW5zd2VycyBhcnJheSB0byB0aGUgY3VycmVudCBxdWVzdGlvbnMgbW9kZS5cclxuICBfaGFuZGxlTmV3QW5zd2VyKGFuc3dlck9iaikge1xyXG4gICAgdGhpcy5fdXBkYXRlQW5zQXJyYXlXaXRoQW5zKHRoaXMubm90WWV0UG9zdGVkQW5zd2VycywgYW5zd2VyT2JqKTtcclxuICAgIHRoaXMuX3VwZGF0ZUFuc0FycmF5V2l0aEFucyh0aGlzLmFsbFJlY2VudEFuc3dlcnMsIGFuc3dlck9iaik7XHJcbiAgICB0aGlzLl9zZXRSZWNlbnRBbnN3ZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgY3VycmVudCBxdWVzdGlvbiBtb2RlOiBoaWRlIGl0LCBnZXQgdGhlIGxhdGVzdCBhbnN3ZXJzIGFuZCBwb3N0IFxyXG4gIC8vIHRoZW0gdG8gdGhlIHNlcnZlci5cclxuICByZW1vdmVRbW9kZSgpIHtcclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5kZWFjdGl2YXRlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdGhlIG5ldyBxdWVzdGlvbnMgbW9kZSBhbmQgc2hvdyBpdC5cclxuICBhc3luYyBzZXRRTW9kZShuZXdRTW9kZSkge1xyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlID0gbmV3UU1vZGU7XHJcbiAgICBhd2FpdCB0aGlzLmN1cnJRdWVzdGlvbk1vZGUuYWN0aXZhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9zZXRSZWNlbnRBbnN3ZXJzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuY3VyclF1ZXN0aW9uTW9kZSBpbnN0YW5jZW9mIFFNb2RlV2l0aFF1ZXVlSW5wdXQpIHtcclxuICAgICAgLy8gVXBkYXRlIHRoZSBxdWV1ZSBmb3IgdGhlIHF1ZXN0aW9ucyBtb2RlIGFuZCBzaG93IGZpcnN0IGl0ZW0gaW4gdGhlIHF1ZXVlLlxyXG4gICAgICBhd2FpdCB0aGlzLmN1cnJRdWVzdGlvbk1vZGUudXBkYXRlUXVldWVBbmRTaG93Rmlyc3QoKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfc2V0UmVjZW50QW5zd2VycygpIHtcclxuICAgIC8vIERvbid0IG5lZWQgdG8ga2VlcCBhIGxpc3Qgb2YgcmVjZW50IGFuc3dlcnMgZm9yIHJlY29tbWVuZGF0aW9ucyBtb2RlLlxyXG4gICAgaWYgKHRoaXMuY3VyclF1ZXN0aW9uTW9kZT8ubmFtZSAhPT0gXCJyZWNzXCIpIHtcclxuICAgICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLnNldFJlY2VudEFuc3dlcnModGhpcy5hbGxSZWNlbnRBbnN3ZXJzKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIGFuIG9yaWdBbnNBcnJheSB3aXRoIGEgbmV3IGFuc3dlciwgb3ZlcndyaXRpbmcgd2hlcmUgXHJcbiAgLy8gcHJlc2VudCBpbiB0aGUgb3JpZ0Fuc0FycmF5IChvdGhlcndpc2UgYWRkaW5nKS5cclxuICBfdXBkYXRlQW5zQXJyYXlXaXRoQW5zKG9yaWdBbnNBcnJheSwgbmV3QW5zKSB7XHJcbiAgICBjb25zdCBtYXRjaEZ1bmMgPSAoYXJySXRlbSwgbmV3SXRlbSkgPT4ge1xyXG4gICAgICByZXR1cm4gYXJySXRlbS5xdWVzdGlvbklkID09PSBuZXdJdGVtLnF1ZXN0aW9uSWRcclxuICAgIH07XHJcblxyXG4gICAgZmluZEFuZE92ZXJ3cml0ZUVsc2VQdXNoKG9yaWdBbnNBcnJheSwgbmV3QW5zLCBtYXRjaEZ1bmMpO1xyXG4gIH1cclxuXHJcbiAgLy8gU3dpdGNoIGJldHdlZW4gcXVlc3Rpb24gbW9kZXMuXHJcbiAgYXN5bmMgc3dpdGNoUU1vZGUobmV3UU1vZGUpIHtcclxuICAgIHRoaXMucmVtb3ZlUW1vZGUoKTtcclxuICAgIGF3YWl0IGZpbmlzaEZhZGVPdXQodGhpcy5jdXJyUXVlc3Rpb25Nb2RlLm1haW5EaXYpO1xyXG4gICAgYXdhaXQgdGhpcy5zZXRRTW9kZShuZXdRTW9kZSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFJlc2V0cyB0aGUgbmV3IGFuZCB1cGRhdGVkIGFuc3dlcnMgZm9yIHRoaXMgcXVlc3Rpb25zIHBhZ2UuXHJcbiAgcmVzZXRBbnN3ZXJzKCkge1xyXG4gICAgdGhpcy5ub3RZZXRQb3N0ZWRBbnN3ZXJzID0gW107XHJcbiAgfVxyXG5cclxuICAvLyBPbmNlIHRoZSBmZXRjaCBQT1NUIG9mIHNvbWUgbmV3IGFuc3dlcnMgZXZlcnkgMTAgbWlucyBoYXMgYmVlbiBjb21wbGV0ZWQsIFxyXG4gIC8vIHVwZGF0ZSB0aGUgYWxsUmVjZW50QW5zd2VycyBzbyB0aGF0IHRoZSBxdWV1ZSBoYXMgbGVzcyB0byBtb2RpZnkuXHJcbiAgY2xlYXJSZWNlbnRseVBvc3RlZEFuc3dlcnMoc3VjY2Vzc1Bvc3RlZEFuc3dlcnMpIHtcclxuICAgIC8vIFJlbW92ZSBlYWNoIHN1Y2Nlc3NmdWxseSBQT1NUZWQgYW5zd2VyIGZyb20gdGhpcyBhbGxSZWNlbnRBbnN3ZXJzLlxyXG4gICAgZm9yIChsZXQgc3VjY2Vzc1Bvc3RlZEFuc3dlciBvZiBzdWNjZXNzUG9zdGVkQW5zd2Vycykge1xyXG4gICAgICBjb25zdCBmaW5kSW5kZXggPSBnZXRGaW5kSW5kZXgoc3VjY2Vzc1Bvc3RlZEFuc3dlciwgdGhpcy5hbGxSZWNlbnRBbnN3ZXJzKTtcclxuICAgICAgaWYgKGZpbmRJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgdGhpcy5hbGxSZWNlbnRBbnN3ZXJzLnNwbGljZShmaW5kSW5kZXgsIDEpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gRmluZHMgdGhpcyBleGFjdCBhbnN3ZXIgaW4gdGhlIGFsbFJlY2VudEFuc3dlcnMgKHNhbWUgXHJcbiAgICAvLyBxdWVzdGlvbklkIG1heSBhcHBlYXIgbW9yZSB0aGFuIG9uY2Ugc28gb25seSBmaW5kIGV4YWN0IG1hdGNoIHdpdGggXHJcbiAgICAvLyBhbnN3ZXIgLyBza2lwIHZhbHVlIHRvbykuXHJcbiAgICBmdW5jdGlvbiBnZXRGaW5kSW5kZXgoc3VjY2Vzc1Bvc3RlZEFuc3dlciwgdXBkYXRlQW5zd2Vyc0FycmF5KSB7XHJcbiAgICAgIGNvbnN0IGZpbmRJbmRleCA9IHVwZGF0ZUFuc3dlcnNBcnJheS5maW5kSW5kZXgoYW5zID0+IHtcclxuICAgICAgICBsZXQgaXNNYXRjaCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcHJvcHNUb0NoZWNrID0gW1wicXVlc3Rpb25JZFwiLCBcInNraXBcIiwgXCJhbnN3ZXJWYWxcIl07XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb3AgaW4gYW5zKSB7XHJcbiAgICAgICAgICBjb25zdCBza2lwUHJvcCA9ICFwcm9wc1RvQ2hlY2suaW5jbHVkZXMocHJvcCk7XHJcbiAgICAgICAgICBpZiAoc2tpcFByb3ApIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgIGlzTWF0Y2ggPSBhbnNbcHJvcF0gPT09IHN1Y2Nlc3NQb3N0ZWRBbnN3ZXJbcHJvcF07XHJcbiAgICAgICAgICBpZiAoIWlzTWF0Y2gpIGJyZWFrO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBpc01hdGNoO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBmaW5kSW5kZXg7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gUE9TVCB0aGVzZSBhbnN3ZXJzIGluZm8gdG8gdGhlIHNlcnZlci5cclxuICBhc3luYyBfcG9zdEFuc3dlcnMoaXNDaGFuZ2VPZlBhZ2UgPSBmYWxzZSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBhbnN3ZXJzIHRvIHVwbG9hZC5cclxuICAgIGNvbnN0IG5vTmV3QW5zd2VycyA9IHRoaXMubm90WWV0UG9zdGVkQW5zd2Vycy5sZW5ndGggPT09IDA7XHJcbiAgICBpZiAobm9OZXdBbnN3ZXJzKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgW3Bvc3RSb3V0ZSwgYW5zd2Vyc1RvUG9zdF0gPSB0aGlzLiNnZXRQb3N0SW5mbygpO1xyXG5cclxuICAgIGNvbnN0IHBvc3RPYmogPSB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICB0eXBlOiBcImFuc3dlcnNcIiwgXHJcbiAgICAgICAgZGF0YTogYW5zd2Vyc1RvUG9zdFxyXG4gICAgICB9KVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSWYgbW92aW5nIG9mZiB0aGUgcGFnZSwga2VlcCBmZXRjaCByZXF1ZXN0IGFsaXZlLlxyXG4gICAgaWYgKGlzQ2hhbmdlT2ZQYWdlKSB7XHJcbiAgICAgIHBvc3RPYmoua2VlcGFsaXZlID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMucmVzZXRBbnN3ZXJzKCk7XHJcbiAgICBhd2FpdCBmZXRjaChwb3N0Um91dGUsIHBvc3RPYmopO1xyXG5cclxuICAgIHRoaXMuY2xlYXJSZWNlbnRseVBvc3RlZEFuc3dlcnMoYW5zd2Vyc1RvUG9zdCk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXRzIHRoZSByZWxldmFudCBwb3N0Um91dGUgYW5kIGFuc3dlcnNUb1Bvc3QgZm9ybWF0IGZvciB3aGV0aGVyIHVwbG9hZGluZyBcclxuICAvLyBhbnN3ZXJzIGZvciBhIHNpbmdsZSBjYXRlZ29yeSAoZnJvbSBxdWVzdGlvbnMgcGFnZSkgb3IgZm9yIG11bHRpcGxlIFxyXG4gIC8vIGNhdGVnb3JpZXMgKGVnLiBmcm9tIHJlY29tbWVuZGF0aW9ucyBwYWdlKS5cclxuICAjZ2V0UG9zdEluZm8oKSB7XHJcbiAgICBjb25zdCBhbnN3ZXJzTWl4ZWRDYXRlZ29yaWVzID0gIXRoaXMuY2F0ZWdvcnlOYW1lO1xyXG5cclxuICAgIGxldCBwb3N0Um91dGU7XHJcbiAgICBsZXQgYW5zd2Vyc1RvUG9zdDtcclxuXHJcbiAgICBpZiAoYW5zd2Vyc01peGVkQ2F0ZWdvcmllcykge1xyXG4gICAgICBwb3N0Um91dGUgPSBgL3F1ZXN0aW9ucy9taXhlZC1jYXRlZ29yaWVzYDtcclxuICAgICAgYW5zd2Vyc1RvUG9zdCA9IHRoaXMuI2dldEFuc3dlcnNUb1Bvc3RDYXRJbmZvKHRoaXMubm90WWV0UG9zdGVkQW5zd2Vycyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcG9zdFJvdXRlID0gYC9xdWVzdGlvbnMvJHt0aGlzLmNhdGVnb3J5VHlwZU5hbWV9LyR7dGhpcy5jYXRlZ29yeU5hbWV9YDtcclxuICAgICAgYW5zd2Vyc1RvUG9zdCA9IHRoaXMubm90WWV0UG9zdGVkQW5zd2Vycy5zbGljZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gW3Bvc3RSb3V0ZSwgYW5zd2Vyc1RvUG9zdF07XHJcbiAgfVxyXG5cclxuICAvLyBNYWtlIGEgY2F0ZWdvcnkgaW5mbyBvYmplY3Qgd2l0aCB0aGUgYW5zd2VycyBmb3IgZWFjaCBjYXRlZ29yeSwgZm9yIHdoZW4gXHJcbiAgLy8gdXBsb2FkaW5nIGFuc3dlcnMgZm9yIG11bHRpcGxlIGNhdGVnb3JpZXMgYXQgb25jZSAoZWcuIGZyb20gcmVjb21tZW5kYXRpb25zIHBhZ2UpLlxyXG4gICNnZXRBbnN3ZXJzVG9Qb3N0Q2F0SW5mbyhhbnN3ZXJzVG9Qb3N0KSB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzQW5zd2VycyA9IFtdO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIGNhdGVnb3JpZXNBbnN3ZXJzIHdpdGggYW5zd2VycyBmb3IgZWFjaCBkaWZmZXJlbnQgY2F0ZWdvcnkuXHJcbiAgICBmb3IgKGxldCBhbnN3ZXIgb2YgYW5zd2Vyc1RvUG9zdCkge1xyXG4gICAgICBjb25zdCB0aGlzQW5zQ2F0VHlwZSA9IGFuc3dlci5xdWVzdGlvbkRldGFpbHMuY2F0ZWdvcnlUeXBlTmFtZTtcclxuICAgICAgY29uc3QgdGhpc0Fuc0NhdCA9IGFuc3dlci5xdWVzdGlvbkRldGFpbHMuY2F0ZWdvcnlOYW1lO1xyXG5cclxuICAgICAgY29uc3QgZm91bmRDYXRlZ29yeUlkeCA9IGNhdGVnb3JpZXNBbnN3ZXJzLmZpbmRJbmRleChsaXN0ID0+IHtcclxuICAgICAgICBjb25zdCBjYXRUeXBlTWF0Y2ggPSBsaXN0LmNhdFR5cGUgPT09IHRoaXNBbnNDYXRUeXBlO1xyXG4gICAgICAgIGNvbnN0IGNhdE1hdGNoID0gbGlzdC5jYXQgPT09IHRoaXNBbnNDYXQ7XHJcbiAgICAgICAgcmV0dXJuIChjYXRUeXBlTWF0Y2ggJiYgY2F0TWF0Y2gpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGZvcm1hdHRlZEFucyA9IGZvcm1hdEFuc3dlcihhbnN3ZXIpO1xyXG5cclxuICAgICAgaWYgKGZvdW5kQ2F0ZWdvcnlJZHggPiAtMSkge1xyXG4gICAgICAgIGNhdGVnb3JpZXNBbnN3ZXJzW2ZvdW5kQ2F0ZWdvcnlJZHhdLmFuc3dlcnMucHVzaChmb3JtYXR0ZWRBbnMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhdGVnb3J5ID0ge1xyXG4gICAgICAgICAgY2F0VHlwZTogdGhpc0Fuc0NhdFR5cGUsXHJcbiAgICAgICAgICBjYXQ6IHRoaXNBbnNDYXQsXHJcbiAgICAgICAgICBhbnN3ZXJzOiBbZm9ybWF0dGVkQW5zXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNhdGVnb3JpZXNBbnN3ZXJzLnB1c2gobmV3Q2F0ZWdvcnkpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIGNhdGVnb3J5IGFuZCBjYXRlZ29yeSB0eXBlIGZyb20gdGhlIGFuc3dlci5cclxuICAgIGZ1bmN0aW9uIGZvcm1hdEFuc3dlcihhbnN3ZXIpIHtcclxuICAgICAgZGVsZXRlIGFuc3dlci5xdWVzdGlvbkRldGFpbHMuY2F0ZWdvcnlOYW1lO1xyXG4gICAgICBkZWxldGUgYW5zd2VyLnF1ZXN0aW9uRGV0YWlscy5jYXRlZ29yeVR5cGVOYW1lO1xyXG4gICAgICByZXR1cm4gYW5zd2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjYXRlZ29yaWVzQW5zd2VycztcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUXVldWVJbnB1dFBhbmVsIHtcclxuICBtYWluRGl2O1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZURpdikge1xyXG4gICAgdGhpcy5tYWluRGl2ID0gcU1vZGVEaXYucXVlcnlTZWxlY3RvcihcIi5xdWV1ZS1pbnB1dC1wYW5lbFwiKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBRdWV1ZUlucHV0UGFuZWwgfSBmcm9tIFwiLi4vcXVldWVJbnB1dFBhbmVsLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0b1F1ZXVlSW5wdXRQYW5lbCBleHRlbmRzIFF1ZXVlSW5wdXRQYW5lbCB7XHJcbiAgaW5jbHVkZUFscmVhZHlBbnN3ZXJlZENoZWNrYm94O1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZURpdikge1xyXG4gICAgc3VwZXIocU1vZGVEaXYpO1xyXG4gICAgdGhpcy5pbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3ggPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5pbmNsLXByZXYtYW5zXCIpO1xyXG4gIH1cclxufSIsIi8vIFJldHVybnMgdGhlIGNhdGVnb3J5IGFuZCB0eXBlIGZvciBhIGdpdmVuIHF1ZXN0aW9uIGFuZCBvYmplY3QuIElmIG9iamVjdCBoYXMgXHJcbi8vIG5vIGNhdGVnb3J5IHRoZW4gdXNlIHRoYXQgb2YgdGhlIHF1ZXN0aW9uLiBVc2VkIG9uIGJhc2VRdWVzdGlvbnMgUXVldWUgYW5kIFxyXG4vLyBzaW5nbGVNb2RlUVNvdXJjZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFFDYXRlZ29yeShxLCBvYmpDYXRUeXBlLCBvYmpDYXQpIHtcclxuICByZXR1cm4gKG9iakNhdCkgPyBbb2JqQ2F0VHlwZSwgb2JqQ2F0XSA6IFxyXG4gICAgW3EuY2F0ZWdvcnlUeXBlTmFtZSA/PyBxLmNhdGVnb3J5VHlwZSwgcS5jYXRlZ29yeU5hbWUgPz8gcS5jYXRlZ29yeV07XHJcbn1cclxuXHJcbi8vIEdldHMgdGhlIGNvcnJlY3QgaW1hZ2UgcGF0aCwgZGVwZW5kaW5nIG9uIHRoZSBjYXRlZ29yeS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFFJbmZvKHEsIGRldGFpbCwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpIHtcclxuICBsZXQgaW5mbztcclxuXHJcbiAgc3dpdGNoKGNhdFR5cGVOYW1lLCBjYXROYW1lKSB7XHJcblxyXG4gICAgY2FzZSAoXCJJbnRlcmVzdHNcIiwgXCJGaWxtc1wiKSA6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8ucG9zdGVyUGF0aCA/IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTg1LyR7cS5wb3N0ZXJQYXRofWAgOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9ICgke2dldERpc3BsYXlSZWxlYXNlRGF0ZShxPy5yZWxlYXNlRGF0ZSl9KWAsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50aXRsZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiVFZcIikgOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LnBvc3RlclBhdGggPyBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzE4NS8ke3EucG9zdGVyUGF0aH1gIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtnZXREaXNwbGF5UmVsZWFzZURhdGUocT8ucmVsZWFzZURhdGUpfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9YCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogYCR7cT8udGl0bGV9YFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIChcIkludGVyZXN0c1wiLCBcIk11c2ljXCIpOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LmltYWdlLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udHJhY2tOYW1lfSAtICR7cT8uYXJ0aXN0fSAoJHtxPy5hbGJ1bX0gLSAke25ldyBEYXRlKHE/LnJlbGVhc2VEYXRlKS5nZXRGdWxsWWVhcigpfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udHJhY2tOYW1lfSAtICR7cT8uYXJ0aXN0fWAsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IGAke3E/LnRyYWNrTmFtZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiVmlkZW8gR2FtZXNcIik6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8uaW1hZ2UgPyBgaHR0cHM6Ly9pbWFnZXMuaWdkYi5jb20vaWdkYi9pbWFnZS91cGxvYWQvdF9jb3Zlcl9iaWcvJHtxLmltYWdlfS5qcGdgIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtnZXREaXNwbGF5UmVsZWFzZURhdGUocT8ucmVsZWFzZURhdGUpfSkgKCR7cS5wbGF0Zm9ybXN9KWAsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50aXRsZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiQm9va3NcIik6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8uaW1hZ2UgPyBgaHR0cHM6Ly9jb3ZlcnMub3BlbmxpYnJhcnkub3JnL2IvaWQvJHtxLmltYWdlfS1NLmpwZ2AgOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9ICgke3E/LmF1dGhvcn0pYCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfWAsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IGAke3E/LnRpdGxlfWBcclxuICAgICAgfTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaW5mbyA9IHtcclxuICAgICAgICBpbWdQYXRoOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogcT8udGV4dCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IHE/LnNob3J0VGV4dCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogcT8uc2hvcnRUZXh0ID8/IHEudGV4dFxyXG4gICAgICB9O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBpbmZvW2RldGFpbF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERpc3BsYXlSZWxlYXNlRGF0ZShyZWxlYXNlRGF0ZSkge1xyXG4gIHJldHVybiByZWxlYXNlRGF0ZSA/IG5ldyBEYXRlKHJlbGVhc2VEYXRlKS5nZXRGdWxsWWVhcigpIDogXCJVbmtub3duXCI7XHJcbn1cclxuXHJcbi8vIFVzZWQgaW4gdGhlIGRvbSBxdWV1ZSBmb3IgYW5zd2VyaW5nIHF1ZXN0aW9ucyAoc2VhcmNoIGFuZCBhdXRvKSBhbmQgYWxzbyBpbiBcclxuLy8gcHJldiBhbnN3ZXJzIGFuZCByZWNvbW1lbmRhdGlvbnMgcGFnZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVRRG9tSXRlbShxLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSkge1xyXG4gIGNvbnN0IG5ld0RvbVEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOztcclxuXHJcbiAgY29uc3QgaW1nUGF0aCA9IGdldFFJbmZvKHEsIFwiaW1nUGF0aFwiLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgXHJcbiAgaWYgKGltZ1BhdGgpIHtcclxuICAgIGNvbnN0IGRvbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBkb21JbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIGltZ1BhdGgpO1xyXG4gICAgZG9tSW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xyXG4gICAgZG9tSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBxPy50aXRsZSk7XHJcbiAgICBuZXdEb21RLmFwcGVuZENoaWxkKGRvbUltZyk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgY29uc3Qgbm9JbWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbm9JbWdEaXYuY2xhc3NMaXN0LmFkZChcInBsYWNlaG9sZGVyLWltZ1wiKTtcclxuICAgIGNvbnN0IG5vSW1nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJUZXh0ID0gZ2V0UUluZm8ocSwgXCJpbWdQbGFjZUhvbGRlclR4dFwiLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgICBub0ltZ1RleHQuaW5uZXJUZXh0ID0gcGxhY2Vob2xkZXJUZXh0O1xyXG5cclxuICAgIG5vSW1nRGl2LmFwcGVuZENoaWxkKG5vSW1nVGV4dCk7XHJcbiAgICBuZXdEb21RLmFwcGVuZENoaWxkKG5vSW1nRGl2KTtcclxuICB9O1xyXG5cclxuICBpZiAocS5wcmV2aWV3VXJsKSB7XHJcbiAgICBjb25zdCBkb21NdXNpY1BsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcclxuICAgIGRvbU11c2ljUGxheWVyLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwidHJ1ZVwiKTtcclxuICAgIGRvbU11c2ljUGxheWVyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBxLnByZXZpZXdVcmwpO1xyXG4gICAgbmV3RG9tUS5hcHBlbmRDaGlsZChkb21NdXNpY1BsYXllcik7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG5ld0RvbVE7XHJcbn0iLCIvLyBIZWxwZXIgY2xhc3MgZm9yIHRoZSBiYXNlIHF1ZXN0aW9ucyBxdWV1ZSwgdG8gcmVwcmVzZW50IHRoZSBET00gcXVldWUgaXRlbXMuXHJcbmltcG9ydCB7IGNyZWF0ZVFEb21JdGVtLCBnZXRRQ2F0ZWdvcnkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vcXVlc3Rpb25zSGVscGVycy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gKGVnLiBwb3N0ZXIgaW1hZ2VzKSBhbmQgaGFuZGxlIHRoZWlyIHRyYW5zaXRpb25zIHdoZW4gYW5zd2VyaW5nIHF1ZXN0aW9ucy5cclxuZXhwb3J0IGNsYXNzIERvbVF1ZXVlIHtcclxuICBfcXVldWUgPSBbXTtcclxuICAjbnVtVHJhbnNpdGlvbnMgPSAwO1xyXG4gICNjYXRlZ29yeVR5cGVOYW1lO1xyXG4gICNjYXRlZ29yeU5hbWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlLCBjYXRlZ29yeSkge1xyXG4gICAgdGhpcy5fcXVldWUgPSBxTW9kZU1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5xdWV1ZS1pbWdzXCIpO1xyXG4gICAgdGhpcy4jY2F0ZWdvcnlUeXBlTmFtZSA9IGNhdGVnb3J5VHlwZTtcclxuICAgIHRoaXMuI2NhdGVnb3J5TmFtZSA9IGNhdGVnb3J5O1xyXG5cclxuICAgIHRoaXMuX3F1ZXVlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuI2VuZFRyYW5zaXRpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gT25jZSBET00gcXVldWUgaGFzIGRvbmUgdGhlIHRyYW5zaXRpb24gZm9yIGFuc3dlcmluZyBhIHF1ZXN0aW9uLCBkZWxldGUgXHJcbiAgLy8gdGhlIGRvbSBxdWVzdGlvbi4gQ2hlY2sgaW4gY2FzZSBhbnkgbW9yZSB0cmFuc2l0aW9ucyBhcmUgcXVldWVkIGFuZCBjYXJyeSBcclxuICAvLyB0aGVtIG91dCBpZiBzby5cclxuICAjZW5kVHJhbnNpdGlvbihldnQpIHtcclxuICAgIGlmIChldnQucHJvcGVydHlOYW1lICE9PSBcImxlZnRcIikgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuI251bVRyYW5zaXRpb25zLS07XHJcbiAgICB0aGlzLl9kZWxldGVEb21RKDApO1xyXG4gICAgdGhpcy5fcXVldWUuY2xhc3NMaXN0LnJlbW92ZShcInF1ZXVlLWltZ3MtdHJhbnNpdGlvbmluZ1wiKTtcclxuICAgIFxyXG4gICAgLy8gSWYgdXNlciBoYXMgY2xpY2tlZCBtdWx0aXBsZSBhbnN3ZXJzIHF1aWNrbHksIHRoZW4gY2Fycnkgb3V0IGFueSBcclxuICAgIC8vIHF1ZXVlZCB0cmFuc2l0aW9ucyBmb3IgZnVydGhlciBhbnN3ZXJzLlxyXG4gICAgaWYgKHRoaXMuI251bVRyYW5zaXRpb25zID4gMCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuI2RvVHJhbnNpdGlvbigpLCAwKTtcclxuICAgIH07ICAgIFxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIERPTSBxdWV1ZSBpbWFnZXMgYW5kIGF1ZGlvICh3aGVyZSBwcmVzZW50KSBmcm9tIGxpc3Qgb2YgcXVlc3Rpb25zLlxyXG4gIGFkZFRvUXVldWUocXMpIHtcclxuICAgIGZvciAobGV0IHEgb2YgcXMpIHtcclxuICAgICAgY29uc3QgW2NhdFR5cGVOYW1lLCBjYXROYW1lXSA9IGdldFFDYXRlZ29yeShxLCBcclxuICAgICAgICB0aGlzLiNjYXRlZ29yeVR5cGVOYW1lLCB0aGlzLiNjYXRlZ29yeU5hbWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV3RG9tUSA9IGNyZWF0ZVFEb21JdGVtKHEsIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICAgICAgbmV3RG9tUS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHEuX2lkKTtcclxuICAgICAgdGhpcy5fcXVldWUuYXBwZW5kQ2hpbGQobmV3RG9tUSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgRE9NIGltYWdlcyBxdWV1ZSBhbmQgaGFuZGxlIHRoZSB0cmFuc2l0aW9uLlxyXG4gIHJlbW92ZVF1ZXVlSXRlbShpZHgsIGRvVHJhbnMpIHtcclxuICAgIGlmICh0aGlzLl9xdWV1ZS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgLy8gSWYgZmlyc3QgaXRlbSBpbiBxdWV1ZSAoaWUuIGhhdmUgYW5zd2VyZWQgYSBxdWVzdGlvbiksIHRoZW4gbmVlZCB0byBcclxuICAgICAgLy8gaGFuZGxlIHRoZSB0cmFuc2l0aW9uIG9mIGltYWdlcy5cclxuICAgICAgaWYgKGlkeCA9PT0gMCAmJiBkb1RyYW5zKSB7XHJcbiAgICAgICAgdGhpcy4jbnVtVHJhbnNpdGlvbnMrKztcclxuICAgICAgICB0aGlzLiNkb1RyYW5zaXRpb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3RoZXJ3aXNlIGp1c3QgZGVsZXRlIHRoZSBET00gcXVldWUgaXRlbS5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlRG9tUShpZHgpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIERlbGV0ZXMgYW4gaW5kaXZpZHVhbCBET00gcXVldWUgaXRlbS5cclxuICBfZGVsZXRlRG9tUShpZHgpIHtcclxuICAgIC8vIElmIHJlbW92aW5nIG91dGRhdGVkIHF1ZXVlIGl0ZW1zIGZyb20gbWlkZGxlIG9mIHF1ZXVlIGJ1dCBxdWV1ZSBpcyBzdGlsbCBcclxuICAgIC8vIHRyYW5zaXRpb25pbmcsIGJvb3N0IHRoZSBpbmRleCBieSAxIHRvIGZhY3RvciBpbiB0aGF0IHRoZSBwcmV2aW91c2x5IFxyXG4gICAgLy8gYW5zd2VyZWQgcSB3aWxsIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHF1ZXVlIGJ1dCBub3QgdGhlIGRvbSBxdWV1ZSB5ZXQgXHJcbiAgICAvLyBhcyB0aGUgdHJhbnNpdGlvbiBoYXNuJ3QgeWV0IGNvbXBsZXRlZC5cclxuICAgIGlmICh0aGlzLl9xdWV1ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJxdWV1ZS1pbWdzLXRyYW5zaXRpb25pbmdcIikgJiYgaWR4ID4gMCkge1xyXG4gICAgICBpZHgrKztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fcXVldWUucmVtb3ZlQ2hpbGQodGhpcy5fcXVldWUuY2hpbGRyZW5baWR4XSk7XHJcbiAgfVxyXG5cclxuICAvLyBDYXVzZXMgdHJhbnNpdGlvbmluZyBvZiBwb3N0ZXIgaW1hZ2VzIHdoZW4gYW5zd2VyaW5nIGEgcXVlc3Rpb24uXHJcbiAgI2RvVHJhbnNpdGlvbigpIHtcclxuICAgIHRoaXMuX3F1ZXVlLmNsYXNzTGlzdC5hZGQoXCJxdWV1ZS1pbWdzLXRyYW5zaXRpb25pbmdcIik7XHJcbiAgfVxyXG5cclxuICByZXNldFF1ZXVlKCkge1xyXG4gICAgdGhpcy5fcXVldWUuaW5uZXJUZXh0ID0gXCJcIjtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBnZXRRQ2F0ZWdvcnksIGdldFFJbmZvIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3F1ZXN0aW9uc0hlbHBlcnMubWpzXCI7XHJcbmltcG9ydCB7IERvbVF1ZXVlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kb21RdWV1ZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VRdWVzdGlvbnNRdWV1ZSB7XHJcbiAgX2NhdGVnb3J5VHlwZU5hbWU7XHJcbiAgX2NhdGVnb3J5TmFtZTtcclxuICBxdWV1ZSA9IFtdO1xyXG4gIHF1ZXVlVHlwZTtcclxuICBfZG9tUXVldWU7XHJcbiAgX3F1ZXVlUHJldlFzID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlID0gbnVsbCwgY2F0ZWdvcnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lID0gY2F0ZWdvcnlUeXBlO1xyXG4gICAgdGhpcy5fY2F0ZWdvcnlOYW1lID0gY2F0ZWdvcnk7XHJcbiAgICB0aGlzLl9kb21RdWV1ZSA9IG5ldyBEb21RdWV1ZShxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyB0aGUgdGV4dCB0byBkaXNwbGF5IG9mIHRoZSBjdXJyZW50IGZpcnN0IGl0ZW0gaW4gdGhlIHF1ZXN0aW9ucyBxdWV1ZS5cclxuICBnZXRDdXJyUUluZm8oKSB7XHJcbiAgICBsZXQgY3VyclFUZXh0O1xyXG4gICAgbGV0IGN1cnJRQW5zO1xyXG4gICAgbGV0IGVuZE9mUXVldWUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBIaWRlIHF1ZXN0aW9uIGFuc3dlciBwYW5lbCBpZiBydW4gb3V0IG9mIHF1ZXN0aW9ucyBhbmQgZGlzcGxheSBhIG1lc3NhZ2UuXHJcbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgY3VyclFUZXh0ID0gdGhpcy5fZ2V0RW5kUXVldWVNc2coKTtcclxuICAgICAgZW5kT2ZRdWV1ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgY3VyclEgPSB0aGlzLnF1ZXVlWzBdO1xyXG4gICAgICBjb25zdCBbY2F0VHlwZU5hbWUsIGNhdE5hbWVdID0gZ2V0UUNhdGVnb3J5KGN1cnJRLCB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lLCBcclxuICAgICAgICB0aGlzLl9jYXRlZ29yeU5hbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICBjdXJyUVRleHQgPSBnZXRRSW5mbyhjdXJyUSwgXCJxRGlzcGxheVRleHRcIiwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gICAgICBjdXJyUUFucyA9IGN1cnJRLmN1cnJBbnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7ZW5kT2ZRdWV1ZSwgY3VyclFUZXh0LCBjdXJyUUFuc307XHJcbiAgfVxyXG5cclxuICBfZ2V0RW5kUXVldWVNc2coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmRRdWV1ZU1zZztcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZXMgYW4gaXRlbSBmcm9tIHRoZSBxdWV1ZSBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBmcm9tIHRoZSBET00gXHJcbiAgLy8gcXVldWUuIFJldHVybnMgdGhlIHJlbW92ZWQgcXVldWUgaXRlbS5cclxuICByZW1vdmVRdWV1ZUl0ZW0oaWR4LCBkb1RyYW5zKSB7XHJcbiAgICBjb25zdCB0aGlzUXVldWVJdGVtID0gdGhpcy5xdWV1ZVtpZHhdO1xyXG4gICAgdGhpcy5xdWV1ZS5zcGxpY2UoaWR4LCAxKTtcclxuICAgIHRoaXMuX2RvbVF1ZXVlLnJlbW92ZVF1ZXVlSXRlbShpZHgsIGRvVHJhbnMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzUXVldWVJdGVtO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkcyBhcnJheSBvZiBxdWVzdGlvbnMgdG8gcXVldWUgYW5kIGFkZHMgY29ycmVzcG9uZGluZyBuZXcgZWxlbWVudHMgdG8gXHJcbiAgLy8gRE9NIHF1ZXVlIHRvby5cclxuICBfYWRkVG9RdWV1ZShxcykge1xyXG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuY29uY2F0KHFzKTtcclxuICAgIHRoaXMuX2RvbVF1ZXVlLmFkZFRvUXVldWUocXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2xlYXJzIHRoZSBET00gaXRlbXMgcXVldWUuXHJcbiAgX3Jlc2V0UXVldWUoKSB7XHJcbiAgICB0aGlzLnF1ZXVlID0gW107XHJcbiAgICB0aGlzLl9kb21RdWV1ZS5yZXNldFF1ZXVlKCk7XHJcbiAgICB0aGlzLl9xdWV1ZVByZXZRcyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVByZXZRKHFJZCkge1xyXG4gICAgdGhpcy5fcXVldWVQcmV2UXMucHVzaChxSWQpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEJhc2VRdWVzdGlvbnNRdWV1ZSB9IGZyb20gXCIuLi8uLi9iYXNlUXVlc3Rpb25zUXVldWUubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIEZvciByZXRyZWl2aW5nIG5ldyBxdWVzdGlvbnMgZnJvbSBzZXJ2ZXIuXHJcbmV4cG9ydCBjbGFzcyBRdWVzdGlvbnNRdWV1ZSBleHRlbmRzIEJhc2VRdWVzdGlvbnNRdWV1ZSB7XHJcbiAgc3RhdGljICNRVUVVRV9SRUZSRVNIX0FNT1VOVCA9IDMwO1xyXG4gIF9RVUVVRV9SRUZSRVNIX1RIUkVTSE9MRCA9IDEwO1xyXG4gICNmaWx0ZXJzO1xyXG4gIF9lbmRPZlFTb3VyY2UgPSBmYWxzZTtcclxuICBfY3VycmVudGx5VXBkYXRpbmcgPSBmYWxzZTtcclxuICBlbmRRdWV1ZU1zZztcclxuICBpbnB1dFBhbmVsO1xyXG4gIGFsbFJlY2VudEFuc3dlcnMgPSBbXTtcclxuXHJcbiAgLy8gQWRkIGl0ZW1zIHRvIHRoZSBxdWVzdGlvbnMgcXVldWUgaWYgaXQncyBydW5uaW5nIGxvdyBhbmQgdGhlcmUgYXJlIFxyXG4gIC8vIHVuYW5zd2VyZWQgcXVlc3Rpb25zIHJlbWFpbmluZyBpbiB0aGUgc291cmNlLiBpc05ld1F1ZXVlIGlzIGJvb2xlYW4gZm9yIFxyXG4gIC8vIHdoZXRoZXIgcXVldWUgc2hvdWxkIGJlIHN0YXJ0ZWQgZnJvbSBzY3JhdGNoLCB1c2VkIHdoZW4gdGhlIHF1ZXVlIGlucHV0IFxyXG4gIC8vIGNyaXRlcmlhIGhhdmUgY2hhbmdlZCBlZy4gbmV3IHNlYXJjaCB0ZXJtLlxyXG4gIGFzeW5jIHVwZGF0ZShpc05ld1F1ZXVlID0gZmFsc2UpIHtcclxuICAgIHRoaXMuX3VwZGF0ZVF1ZXVlUHJldlFzKGlzTmV3UXVldWUpO1xyXG5cclxuICAgIGxldCB1cGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgLy8gSWYgYWxyZWFkeSB3YWl0aW5nIGZvciBmZXRjaCBvbiBhIHByZXZpb3VzIHVwZGF0ZSBjYWxsLCBkb24ndCB1cGRhdGUuXHJcbiAgICBpZiAodGhpcy5fY3VycmVudGx5VXBkYXRpbmcpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBxdWV1ZVRvQmVVcGRhdGVkID0gdGhpcy5jaGVja1F1ZXVlVG9CZVVwZGF0ZWQoKTtcclxuXHJcbiAgICBpZiAocXVldWVUb0JlVXBkYXRlZCkge1xyXG4gICAgICAvLyBRdWV1ZSBuZWVkcyB0byBhbmQgY2FuIGJlIGV4dGVuZGVkLlxyXG4gICAgICBjb25zdCBudW1OZXdRcyA9IFF1ZXN0aW9uc1F1ZXVlLiNRVUVVRV9SRUZSRVNIX0FNT1VOVDtcclxuICAgICAgY29uc3QgY3VyclF1ZXVlSWRzID0gdGhpcy5xdWV1ZS5tYXAocSA9PiBxLl9pZCk7XHJcblxyXG4gICAgICBsZXQgc3RhcnRBcGlQYWdlID0gMTtcclxuICAgICAgaWYgKCFpc05ld1F1ZXVlKSB7XHJcbiAgICAgICAgY29uc3QgbWF4UXVldWVBcGlQYWdlID0gdGhpcy5xdWV1ZS5hdCgtMSk/LmFwaVBhZ2VOdW07XHJcbiAgICAgICAgc3RhcnRBcGlQYWdlID0gdGhpcy5xdWV1ZS5sZW5ndGggPiAwID8gbWF4UXVldWVBcGlQYWdlIDogMTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFBPU1QgcmVxdWVzdCB0byBzZXJ2ZXIgZm9yIG5ldyBxdWVzdGlvbnMgZm9yIHRoZSBxdWV1ZS5cclxuICAgICAgY29uc3QgbmV3UXVlc3Rpb25zT2JqID0gYXdhaXQgdGhpcy4jcG9zdE5ld1FzUmVxdWVzdChudW1OZXdRcywgXHJcbiAgICAgICAgY3VyclF1ZXVlSWRzLCBzdGFydEFwaVBhZ2UpO1xyXG5cclxuICAgICAgdGhpcy5fZW5kT2ZRU291cmNlID0gbmV3UXVlc3Rpb25zT2JqLmVuZE9mUVNvdXJjZTtcclxuXHJcbiAgICAgIHRoaXMuX2FkZFRvUXVldWUobmV3UXVlc3Rpb25zT2JqLnJlc3VsdHMpO1xyXG4gICAgICB1cGRhdGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBhIG5ldyBxdWV1ZSAoZWcuIGNoYW5naW5nIGluY2wuIGFscmVhZHkgYW5zd2VyZWQgdGlja2JveCBvciBuZXcgc2VhcmNoIFxyXG4gIC8vIHRlcm0pIHRoZW4gcmVzZXQgdGhpcyBxdWV1ZVByZXZRcy5cclxuICBfdXBkYXRlUXVldWVQcmV2UXMoaXNOZXdRdWV1ZSkge1xyXG4gICAgaWYgKGlzTmV3UXVldWUpIHtcclxuICAgICAgdGhpcy5fcXVldWVQcmV2UXMgPSBbXTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBDaGVja3MgaWYgdGhlIHF1ZXVlIG5lZWRzIGFuZCBjYW4gYmUgdXBkYXRlZC5cclxuICBjaGVja1F1ZXVlVG9CZVVwZGF0ZWQoKSB7XHJcbiAgICBjb25zdCBxdWV1ZU5lZWRzRXh0ZW5kaW5nID0gdGhpcy5xdWV1ZS5sZW5ndGggPD0gdGhpcy5fUVVFVUVfUkVGUkVTSF9USFJFU0hPTEQ7XHJcbiAgICBjb25zdCBtb3JlUXNJblNvdXJjZSA9ICF0aGlzLl9lbmRPZlFTb3VyY2U7XHJcblxyXG4gICAgY29uc3QgcXVldWVUb0JlVXBkYXRlZCA9IHF1ZXVlTmVlZHNFeHRlbmRpbmcgJiYgbW9yZVFzSW5Tb3VyY2U7XHJcbiAgICByZXR1cm4gcXVldWVUb0JlVXBkYXRlZDtcclxuICB9XHJcblxyXG4gIC8vIFxyXG4gIHNldFJlY2VudEFuc3dlcnMoYWxsUmVjZW50QW5zd2Vycykge1xyXG4gICAgdGhpcy5hbGxSZWNlbnRBbnN3ZXJzID0gYWxsUmVjZW50QW5zd2VycztcclxuICB9XHJcblxyXG4gIC8vIENoZWNrcyBlYWNoIHF1ZXN0aW9uIGluIHRoZSBxdWV1ZSB0byBzZWUgaWYgaXQgaGFzIHJlY2VudGx5IGJlZW4gYW5zd2VyZWQgXHJcbiAgLy8gKGFuZCB0aGVyZWZvcmUgc2hvdWxkIG5vIGxvbmdlciBiZSBpbiB0aGUgcXVldWUsIG9yIHNob3VsZCBiZSB0aGVyZSB3aXRoIGEgXHJcbiAgLy8gbmV3ZXIgYW5zd2VyIHZhbHVlKSBhbmQgaGFuZGxlcyB0aGlzLiBhbnN3ZXJRIGlzIHRydWUgb25seSBpZiB0aGlzIHdhcyBcclxuICAvLyB0cmlnZ2VyZWQgZnJvbSBhbnN3ZXJpbmcgYSBxdWVzdGlvbiwgc28gaW4gdGhpcyBjYXNlIHRoZSB0cmFuc2l0aW9ucyBzaG91bGQgYmUgZG9uZS5cclxuICBjaGVja0Zvck91dGRhdGVkUXMoYW5zd2VyUSA9IGZhbHNlKSB7XHJcbiAgICBmb3IgKGxldCBhbnMgb2YgdGhpcy5hbGxSZWNlbnRBbnN3ZXJzKSB7XHJcbiAgICAgIGNvbnN0IHF1ZXVlSW5kZXggPSB0aGlzLnF1ZXVlLmZpbmRJbmRleChxID0+IHEuX2lkID09PSBhbnMucXVlc3Rpb25JZCk7XHJcblxyXG4gICAgICBpZiAocXVldWVJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVPdXRkYXRlZFF1ZXVlSXRlbShxdWV1ZUluZGV4LCBhbnMsIGFuc3dlclEpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIElmIHF1ZXN0aW9uIGluIHRoZSBxdWV1ZSBoYXMgYmVlbiBhbnN3ZXJlZCByZWNlbnRseSBhbmQgZGF0YSBpc24ndCBcclxuICAvLyByZWZsZWN0ZWQgb24gc2VydmVyIHlldCwgdXBkYXRlIGFuc3dlciBpbmZvIHdpdGggbGF0ZXN0IGxvY2FsIGFuc3dlciBpbmZvLlxyXG4gIGhhbmRsZU91dGRhdGVkUXVldWVJdGVtKHF1ZXVlSW5kZXgsIHJlY2VudEFuc3dlciwgZG9UcmFucykge1xyXG4gICAgY29uc3QgaW5jbFByZXZBbnN3ZXJzID0gdGhpcy5pbnB1dFBhbmVsPy5pbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3g/LmNoZWNrZWQ7XHJcbiAgICBjb25zdCBwcmV2aW91c2x5SW5UaGlzUXVldWUgPSB0aGlzLl9xdWV1ZVByZXZRcy5pbmNsdWRlcyh0aGlzLnF1ZXVlW3F1ZXVlSW5kZXhdLl9pZCk7XHJcbiAgICAvLyBJZiB3YW50IHRvIGluY2x1ZGUgYWxyZWFkeSBhbnN3ZXJlZCBxdWVzdGlvbnMsIHRoZW4ganVzdCB1cGRhdGUgdGhlIFxyXG4gICAgLy8gcXVldWUgcXVlc3Rpb24gY3VyckFucyB0byB0aGUgbGF0ZXN0IGxvY2FsIGFuc3dlciBpbmZvLlxyXG4gICAgaWYgKGluY2xQcmV2QW5zd2VycyAmJiAhcHJldmlvdXNseUluVGhpc1F1ZXVlKSB7XHJcbiAgICAgIHRoaXMucXVldWVbcXVldWVJbmRleF0uY3VyckFucyA9IHtcclxuICAgICAgICBza2lwOiByZWNlbnRBbnN3ZXIuc2tpcCxcclxuICAgICAgICBhbnN3ZXJWYWw6IHJlY2VudEFuc3dlcj8uYW5zd2VyVmFsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBPdGhlcndpc2UsIHJlbW92ZSB0aGlzIG5vdyBhbnN3ZXJlZCBxdWVzdGlvbiBmcm9tIHRoZSBxdWV1ZS5cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnJlbW92ZVF1ZXVlSXRlbShxdWV1ZUluZGV4LCBkb1RyYW5zKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBHZXRzIG1vcmUgaXRlbXMgdG8gdGhlIHF1ZXN0aW9ucyBxdWV1ZSwgd2hlbiBpdCdzIHJ1bm5pbmcgbG93LlxyXG4gIGFzeW5jICNwb3N0TmV3UXNSZXF1ZXN0KG51bVF1ZXN0aW9ucywgY3VyclF1ZXVlSWRzLCBzdGFydEFwaVBhZ2UpIHtcclxuICAgIHRoaXMuX2N1cnJlbnRseVVwZGF0aW5nID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgY29uc3QgcG9zdE9iaiA9IHRoaXMuX2dldFBvc3RPYmoobnVtUXVlc3Rpb25zLCBjdXJyUXVldWVJZHMsIHN0YXJ0QXBpUGFnZSk7XHJcblxyXG4gICAgY29uc3QgZmV0Y2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvcXVlc3Rpb25zLyR7dGhpcy5fY2F0ZWdvcnlUeXBlTmFtZX0vJHt0aGlzLl9jYXRlZ29yeU5hbWV9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3RPYmopXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBuZXdRdWVzdGlvbnMgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICB0aGlzLl9jdXJyZW50bHlVcGRhdGluZyA9IGZhbHNlO1xyXG5cclxuICAgIHJldHVybiBuZXdRdWVzdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvLyBNYWtlcyB0aGUgb2JqZWN0IHRvIFBPU1QgZm9yIHVwZGF0aW5nIHRoZSBxdWV1ZS5cclxuICBfZ2V0UG9zdE9iaihudW1RdWVzdGlvbnMsIGN1cnJRdWV1ZUlkcywgc3RhcnRBcGlQYWdlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiBcInVwZGF0ZVF1ZXVlXCIsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBxdWV1ZVR5cGU6IHRoaXMucXVldWVUeXBlLFxyXG4gICAgICAgIG51bVFzOiBudW1RdWVzdGlvbnMsXHJcbiAgICAgICAgY3VyclF1ZXVlSWRzOiBjdXJyUXVldWVJZHMsXHJcbiAgICAgICAgc3RhcnRBcGlQYWdlOiBzdGFydEFwaVBhZ2UsXHJcbiAgICAgICAgZmlsdGVyczoge31cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFJlc2V0cyB0aGUgc2VhcmNoIHF1ZXVlLCByZWFkeSBmb3IgYSBuZXcgc2VhcmNoIHF1ZXJ5IGFuZCB1cGRhdGUgY2FsbCBvciBhIFxyXG4gIC8vIG5ldyBxdWV1ZSBhZnRlciB0b2dnbGluZyBcImluY2x1ZGUgYWxyZWFkeSBhbnN3ZXJlZFwiLlxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5fcmVzZXRRdWV1ZSgpO1xyXG4gICAgdGhpcy5fZW5kT2ZRU291cmNlID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jdXJyZW50bHlVcGRhdGluZyA9IGZhbHNlO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFF1ZXN0aW9uc1F1ZXVlIH0gZnJvbSBcIi4uL3F1ZXN0aW9uc1F1ZXVlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0b1F1ZXN0aW9uc1F1ZXVlIGV4dGVuZHMgUXVlc3Rpb25zUXVldWUge1xyXG4gIGVuZFF1ZXVlTXNnID0gXCJZb3UgaGF2ZSBhbnN3ZXJlZCBhbGwgc3VnZ2VzdGVkIHF1ZXN0aW9ucyBpbiB0aGlzIGNhdGVnb3J5ISBVc2UgU2VhcmNoIHRvIGFuc3dlciBtb3JlIVwiO1xyXG4gIHF1ZXVlVHlwZSA9IFwiYXV0b1wiO1xyXG5cclxuICAvLyBBZGRzIGluIGRhdGEgb24gd2hldGhlciBwcmV2aW91c2x5IGFuc3dlcmVkIHF1ZXN0aW9ucyBzaG91bGQgYmUgaW5jbHVkZWQuXHJcbiAgX2dldFBvc3RPYmoobnVtUXVlc3Rpb25zLCBjdXJyUXVldWVJZHMsIHN0YXJ0QXBpUGFnZSkge1xyXG4gICAgY29uc3QgcG9zdE9iaiA9IHN1cGVyLl9nZXRQb3N0T2JqKG51bVF1ZXN0aW9ucywgY3VyclF1ZXVlSWRzLCBcclxuICAgICAgc3RhcnRBcGlQYWdlKTtcclxuXHJcbiAgICBwb3N0T2JqLmRhdGEuaW5jbHVkZUFuc3dlcmVkUXMgPSB0aGlzLmlucHV0UGFuZWwuaW5jbHVkZUFscmVhZHlBbnN3ZXJlZENoZWNrYm94LmNoZWNrZWQ7XHJcbiAgICByZXR1cm4gcG9zdE9iajtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBRdWV1ZUlucHV0UGFuZWwgfSBmcm9tIFwiLi4vcXVldWVJbnB1dFBhbmVsLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2VhcmNoUXVldWVJbnB1dFBhbmVsIGV4dGVuZHMgUXVldWVJbnB1dFBhbmVsIHtcclxuICBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3g7XHJcbiAgc2VhcmNoSW5wdXQ7XHJcbiAgc2VhcmNoQnRuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZURpdikge1xyXG4gICAgc3VwZXIocU1vZGVEaXYpO1xyXG4gICAgdGhpcy5pbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3ggPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5pbmNsLXByZXYtYW5zXCIpO1xyXG4gICAgdGhpcy5zZWFyY2hJbnB1dCA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1pbnB1dFwiKTtcclxuICAgIHRoaXMuc2VhcmNoQnRuID0gdGhpcy5tYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWJ0blwiKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBQcmVzc2luZyBlbnRlciBpbiBzZWFyY2ggaW5wdXQgY2FycmllcyBvdXQgdGhlIHNlYXJjaC5cclxuICAgIHRoaXMuc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGV2ZW50ID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgdGhpcy5zZWFyY2hCdG4uY2xpY2soKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFF1ZXN0aW9uc1F1ZXVlIH0gZnJvbSBcIi4uL3F1ZXN0aW9uc1F1ZXVlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2VhcmNoUXVlc3Rpb25zUXVldWUgZXh0ZW5kcyBRdWVzdGlvbnNRdWV1ZSB7XHJcbiAgZW5kUXVldWVNc2cgPSBcIk5vIHJlc3VsdHMgZm9yIHRoaXMgc2VhcmNoIHRlcm0gKG9yIHlvdSBhbnN3ZXJlZCB0aGVtIGFsbCBhbHJlYWR5KSwgdHJ5IGFub3RoZXIhXCI7XHJcbiAgbm9TZWFyY2hUZXJtTXNnID0gXCJFbnRlciBhIHNlYXJjaCB0ZXJtIVwiO1xyXG4gIHF1ZXVlVHlwZSA9IFwic2VhcmNoXCI7XHJcbiAgc2VhcmNoUXVlcnkgPSBcIlwiO1xyXG5cclxuICBfZ2V0RW5kUXVldWVNc2coKSB7XHJcbiAgICBsZXQgZW5kUXVldWVNc2cgPSAodGhpcy5zZWFyY2hRdWVyeSA9PT0gXCJcIikgPyB0aGlzLm5vU2VhcmNoVGVybU1zZyA6IHRoaXMuZW5kUXVldWVNc2c7XHJcbiAgICByZXR1cm4gZW5kUXVldWVNc2c7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVja3MgaWYgdGhlIHF1ZXVlIG5lZWRzIGFuZCBjYW4gYmUgZXh0ZW5kZWQuXHJcbiAgY2hlY2tRdWV1ZVRvQmVVcGRhdGVkKCkge1xyXG4gICAgY29uc3QgY2FuQmVVcGRhdGVkID0gc3VwZXIuY2hlY2tRdWV1ZVRvQmVVcGRhdGVkKCk7XHJcbiAgICBjb25zdCBpc1ZhbGlkU2VhcmNoID0gdGhpcy5zZWFyY2hRdWVyeSAhPT0gXCJcIjtcclxuICAgIHJldHVybiBjYW5CZVVwZGF0ZWQgJiYgaXNWYWxpZFNlYXJjaDtcclxuICB9XHJcblxyXG4gIC8vIFJldHVybnMgd2hldGhlciBzZWFyY2ggcXVlcnkgaGFzIGNoYW5nZWQgb3Igbm90LlxyXG4gIGNoZWNrU2VhcmNoVGVybUNoYW5nZWQoKSB7XHJcbiAgICBjb25zdCBwcmV2U2VhcmNoVGVybSA9IHRoaXMuc2VhcmNoUXVlcnk7XHJcbiAgICB0aGlzLnNldFNlYXJjaFF1ZXJ5KCk7XHJcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hRdWVyeSAhPT0gcHJldlNlYXJjaFRlcm07XHJcbiAgfVxyXG5cclxuICBzZXRTZWFyY2hRdWVyeSgpIHtcclxuICAgIHRoaXMuc2VhcmNoUXVlcnkgPSBlbmNvZGVVUkkodGhpcy5pbnB1dFBhbmVsLnNlYXJjaElucHV0LnZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8vIFNlYXJjaCBxdWV1ZSB2ZXJzaW9uIG9mIHRoZSBtYWtpbmcgdGhlIHBvc3Qgb2JqZWN0IGZvciB1cGRhdGluZyB0aGUgcXVldWUsIFxyXG4gIC8vIGFsc28gaW5jbHVkZXMgdGhlIHNlYXJjaCBxdWVyeSBhbmQgd2hldGhlciBwcmV2aW91c2x5IGFuc3dlcmVkIHF1ZXN0aW9ucyBcclxuICAvLyBzaG91bGQgYmUgaW5jbHVkZWQuXHJcbiAgX2dldFBvc3RPYmoobnVtUXVlc3Rpb25zLCBjdXJyUXVldWVJZHMsIHN0YXJ0QXBpUGFnZSkge1xyXG4gICAgY29uc3QgcG9zdE9iaiA9IHN1cGVyLl9nZXRQb3N0T2JqKG51bVF1ZXN0aW9ucywgY3VyclF1ZXVlSWRzLCBcclxuICAgICAgc3RhcnRBcGlQYWdlKTtcclxuXHJcbiAgICBwb3N0T2JqLmRhdGEuc2VhcmNoUXVlcnkgPSB0aGlzLnNlYXJjaFF1ZXJ5O1xyXG4gICAgcG9zdE9iai5kYXRhLmluY2x1ZGVBbnN3ZXJlZFFzID0gdGhpcy5pbnB1dFBhbmVsLmluY2x1ZGVBbHJlYWR5QW5zd2VyZWRDaGVja2JveC5jaGVja2VkO1xyXG4gICAgcmV0dXJuIHBvc3RPYmo7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgRG9tUXVldWUgfSBmcm9tIFwiLi9kb21RdWV1ZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNpbmdsZURvbVF1ZXVlIGV4dGVuZHMgRG9tUXVldWUge1xyXG4gIC8vIFJlbW92ZSBhbiBpdGVtIGZyb20gdGhlIERPTSBpbWFnZXMgcXVldWUgYW5kIGhhbmRsZSB0aGUgdHJhbnNpdGlvbi5cclxuICByZW1vdmVRdWV1ZUl0ZW0oaWR4LCBkb1RyYW5zKSB7XHJcbiAgICBpZiAodGhpcy5fcXVldWUuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgIGlmIChpZHggPT09IDApIHtcclxuICAgICAgICB0aGlzLl9kZWxldGVEb21RKGlkeCk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH1cclxufSIsImltcG9ydCB7IEJhc2VRdWVzdGlvbnNRdWV1ZSB9IGZyb20gXCIuLi9iYXNlUXVlc3Rpb25zUXVldWUubWpzXCI7XHJcbmltcG9ydCB7IFNpbmdsZURvbVF1ZXVlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2luZ2xlRG9tUXVldWUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVRdWVzdGlvblF1ZXVlIGV4dGVuZHMgQmFzZVF1ZXN0aW9uc1F1ZXVlIHtcclxuXHJcbiAgY29uc3RydWN0b3IocU1vZGVNYWluRGl2LCBjYXRlZ29yeVR5cGUgPSBudWxsLCBjYXRlZ29yeSA9IG51bGwpIHtcclxuICAgIHN1cGVyKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlLCBjYXRlZ29yeSk7XHJcblxyXG4gICAgdGhpcy5fZG9tUXVldWUgPSBuZXcgU2luZ2xlRG9tUXVldWUocU1vZGVNYWluRGl2LCBjYXRlZ29yeVR5cGUsIGNhdGVnb3J5KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShxdWVzdGlvbikge1xyXG4gICAgdGhpcy5fcmVzZXRRdWV1ZSgpO1xyXG4gICAgdGhpcy5fYWRkVG9RdWV1ZShbcXVlc3Rpb25dKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmYWRlSW4sIGZ1bGx5RmFkZU91dCB9IGZyb20gXCIuL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENlbnRyZU1vZGFsIHtcclxuICB3cmFwcGVyO1xyXG4gICNtb2RhbDtcclxuICAjY2xvc2VNb2RhbEJ0bjtcclxuXHJcbiAgY29uc3RydWN0b3Iod3JhcHBlcikge1xyXG4gICAgdGhpcy53cmFwcGVyID0gd3JhcHBlcjtcclxuICAgIHRoaXMuI21vZGFsID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiLmNlbnRyZS1tb2RhbFwiKTtcclxuICAgIHRoaXMuI2Nsb3NlTW9kYWxCdG4gPSB0aGlzLiNtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHVwIHRoZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGNsb3NlTW9kYWxFbGVtcyA9IFt0aGlzLiNjbG9zZU1vZGFsQnRuLCB0aGlzLndyYXBwZXJdO1xyXG5cclxuICAgIGZvciAobGV0IGNsb3NlTW9kYWxFbGVtIG9mIGNsb3NlTW9kYWxFbGVtcykge1xyXG4gICAgICBjbG9zZU1vZGFsRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5oaWRlKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLiNtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IGV2dC5zdG9wUHJvcGFnYXRpb24oKSk7XHJcbiAgfVxyXG5cclxuICBzaG93KCkge1xyXG4gICAgZmFkZUluKHRoaXMud3JhcHBlcik7XHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgZnVsbHlGYWRlT3V0KHRoaXMud3JhcHBlcik7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUXVlc3Rpb25zTW9kZSB9IGZyb20gXCIuLi8uLi9xdWVzdGlvbnNNb2RlLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgU2luZ2xlUXVlc3Rpb25RdWV1ZSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9cXFxyXG5zdWItY2xhc3Nlcy9zaW5nbGVRdWVzdGlvblF1ZXVlLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgQ2VudHJlTW9kYWwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY2VudHJlTW9kYWwubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVBbnN3ZXJNb2RlIGV4dGVuZHMgUXVlc3Rpb25zTW9kZSB7XHJcbiAgbmFtZSA9IFwic2luZ2xlXCI7XHJcbiAgX3FTb3VyY2U7XHJcbiAgX2Fuc3dlclVpTW9kYWw7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1haW5EaXYsIHFTb3VyY2UsIGJ0biA9IG51bGwpIHtcclxuICAgIHN1cGVyKG1haW5EaXYsIGJ0bik7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlID0gbmV3IFNpbmdsZVF1ZXN0aW9uUXVldWUobWFpbkRpdik7XHJcbiAgICB0aGlzLl9xU291cmNlID0gcVNvdXJjZTtcclxuXHJcbiAgICBjb25zdCBtb2RhbFdyYXBwZXIgPSBtYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY2VudHJlLW1vZGFsLXdyYXBwZXJcIik7XHJcbiAgICB0aGlzLl9hbnN3ZXJVaU1vZGFsID0gbmV3IENlbnRyZU1vZGFsKG1vZGFsV3JhcHBlcik7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgc3VwZXIuaW5pdCgpO1xyXG5cclxuICAgIHRoaXMuX3FTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImFuc3dlclNpbmdsZVFcIiwgZXZ0ID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2xpY2tTaW5nbGVRKGV2dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9hbnN3ZXJVaU1vZGFsLmluaXQoKTtcclxuICB9XHJcblxyXG4gIC8vIFNhdmUgYW5zd2VyIGluZm9ybWF0aW9uLlxyXG4gIGFuc3dlclF1ZXN0aW9uKGV2ZW50KSB7XHJcbiAgICBjb25zdCBjdXJyUXVlc3Rpb24gPSB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnJlbW92ZVF1ZXVlSXRlbSgwLCB0cnVlKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGFuc3dlciBvYmplY3QgYXMgaXQgc2hvdWxkIGJlIHN0b3JlZCBpbiB0aGUgREIuXHJcbiAgICBjb25zdCBhbnN3ZXJPYmogPSB0aGlzLmdldEFuc3dlck9iaihldmVudCwgY3VyclF1ZXN0aW9uKTsgXHJcblxyXG4gICAgLy8gRW1pdCBldmVudCB0byBiZSBwaWNrZWQgdXAgYnkgdGhlIHF1ZXN0aW9ucyBwYWdlLlxyXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJhbnN3ZXJlZFFcIiwge2RldGFpbDoge2Fuc3dlck9iajogYW5zd2VyT2JqfX0pXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEhpZGUgdGhlIGFuc3dlciB1aSBwYW5lbC5cclxuICAgIHRoaXMuX2Fuc3dlclVpTW9kYWwuaGlkZSgpO1xyXG5cclxuICAgIHJldHVybiBhbnN3ZXJPYmo7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2xpY2tTaW5nbGVRKGV2dCkge1xyXG4gICAgLy8gR2V0IHRoZSBxdWVzdGlvbiBmcm9tIHRoaXMgaXRlbSBhbmQgbWFrZSBpdCB0aGUgcXVldWUgY29udGVudHMuXHJcbiAgICBjb25zdCB0aGlzUUl0ZW0gPSBldnQuZGV0YWlsLnF1ZXN0aW9uO1xyXG4gICAgY29uc3QgdGhpc1F1ZXN0aW9uID0gdGhpcy5fbWFrZVF1ZXN0aW9uKHRoaXNRSXRlbSk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnVwZGF0ZSh0aGlzUXVlc3Rpb24pO1xyXG5cclxuICAgIC8vIFNob3cgdGhlIGFuc3dlciB1aSBwYW5lbC5cclxuICAgIHRoaXMuX2Fuc3dlclVpTW9kYWwuc2hvdygpO1xyXG5cclxuICAgIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCBxdWVzdGlvbiBpbiB0aGUgYW5zd2VyIFVJIHBhbmVsIHdpdGggdGhlIG5ldyBmaXJzdCBcclxuICAgIC8vIHF1ZXVlIGl0ZW0uXHJcbiAgICB0aGlzLl9zaG93Q3VyclEoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBjcmVhdGVRRG9tSXRlbSwgZ2V0UUNhdGVnb3J5LCBnZXRRSW5mbyB9IGZyb20gXCIuLi8uLi9xdWVzdGlvbnNIZWxwZXJzLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlTW9kZVFTb3VyY2UgZXh0ZW5kcyBFdmVudFRhcmdldCB7XHJcbiAgX2xpc3REaXY7XHJcbiAgX2NvbnRlbnREaXY7XHJcbiAgX3FEaXZDbGFzcztcclxuXHJcbiAgY29uc3RydWN0b3IobGlzdERpdikge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMuX2xpc3REaXYgPSBsaXN0RGl2O1xyXG4gICAgdGhpcy5fY29udGVudERpdiA9IGxpc3REaXYucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGEgZGl2IHdpdGggaW5mb3JtYXRpb24gZm9yIGEgcXVlc3Rpb24gaXRlbS5cclxuICBfY3JlYXRlUURpdihxKSB7XHJcbiAgICBjb25zdCBbY2F0VHlwZU5hbWUsIGNhdE5hbWVdID0gZ2V0UUNhdGVnb3J5KHEsIHRoaXMuX2NhdGVnb3J5VHlwZU5hbWUsIFxyXG4gICAgICB0aGlzLl9jYXRlZ29yeU5hbWUpO1xyXG5cclxuICAgIGNvbnN0IHFTb3VyY2VJdGVtID0gY3JlYXRlUURvbUl0ZW0ocS5xdWVzdGlvbkRldGFpbHMsIGNhdFR5cGVOYW1lLCBcclxuICAgICAgY2F0TmFtZSk7XHJcbiAgICBcclxuICAgIHFTb3VyY2VJdGVtLmNsYXNzTGlzdC5hZGQodGhpcy5fcURpdkNsYXNzKTtcclxuXHJcbiAgICBjb25zdCBxVGV4dCA9IHRoaXMuX2NyZWF0ZVFUZXh0RWxlbShxLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgICBjb25zdCBxU2NvcmUgPSB0aGlzLl9jcmVhdGV0UVNjb3JlRWxlbShxKTtcclxuICAgIHRoaXMuX3NldHVwUUltZyhxLCBxU291cmNlSXRlbSk7XHJcblxyXG4gICAgY29uc3QgcUluZm8gPSB7XHJcbiAgICAgIHFTb3VyY2VJdGVtOiBxU291cmNlSXRlbSxcclxuICAgICAgcVRleHQ6IHFUZXh0LFxyXG4gICAgICBxU2NvcmU6IHFTY29yZSxcclxuICAgICAgY2F0VHlwZU5hbWU6IGNhdFR5cGVOYW1lLFxyXG4gICAgICBjYXROYW1lOiBjYXROYW1lXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2FkZFRvUURpdihxSW5mbyk7XHJcbiAgICByZXR1cm4gcVNvdXJjZUl0ZW07XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmF0ZUJ0bkNsaWNrKGV2dCwgcXVlc3Rpb24pIHtcclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiYW5zd2VyU2luZ2xlUVwiLCB7ZGV0YWlsOiB7cXVlc3Rpb246IHF1ZXN0aW9ufX0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gQnVpbGRzIHRoZSBjb250ZW50IGRpdiB3aXRoIGFsbCB0aGUgcXVlc3Rpb25zLlxyXG4gIF9idWlsZENvbnRlbnREaXYocXVlc3Rpb25zKSB7XHJcbiAgICBmb3IgKGxldCBxdWVzdGlvbiBvZiBxdWVzdGlvbnMpIHtcclxuICAgICAgY29uc3QgcVNvdXJjZUl0ZW0gPSB0aGlzLl9jcmVhdGVRRGl2KHF1ZXN0aW9uKTtcclxuICAgICAgdGhpcy5fY29udGVudERpdi5hcHBlbmRDaGlsZChxU291cmNlSXRlbSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZVFUZXh0RWxlbShxLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSkge1xyXG4gICAgY29uc3QgcVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcbiAgICBxVGV4dC5pbm5lclRleHQgPSBnZXRRSW5mbyhxLnF1ZXN0aW9uRGV0YWlscywgXCJxU291cmNlRGlzcGxheVRleHRcIiwgXHJcbiAgICAgIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICAgIFxyXG4gICAgcVRleHQuY2xhc3NMaXN0LmFkZChcInEtdGV4dFwiKTtcclxuICAgIHJldHVybiBxVGV4dDtcclxuICB9XHJcblxyXG4gIF9jcmVhdGV0UVNjb3JlRWxlbShxKSB7XHJcbiAgICBjb25zdCBxU2NvcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgIHFTY29yZS5pbm5lclRleHQgPSB0aGlzLl9nZXRTY29yZVRleHQocSk7XHJcbiAgICBxU2NvcmUuY2xhc3NMaXN0LmFkZChcInVzZXItc2NvcmVcIik7XHJcbiAgICByZXR1cm4gcVNjb3JlO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZvciBjbGljayB0byB0aGUgaW1hZ2UgLyBwbGFjZWhvbGRlciBpbWFnZS5cclxuICAvLyBBbHNvIGNyZWF0ZSBhbmQgYWRkIGhvdmVyIGVmZmVjdCBkaXYuXHJcbiAgX3NldHVwUUltZyhxLCBxU291cmNlSXRlbSkge1xyXG4gICAgY29uc3QgcUltZyA9IHFTb3VyY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikgPz8gXHJcbiAgICAgIHFTb3VyY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2Vob2xkZXItaW1nXCIpO1xyXG5cclxuICAgIHFJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVJhdGVCdG5DbGljayhldnQsIHEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW1nV3JhcHBlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbWdXcmFwcGVyRGl2LmNsYXNzTGlzdC5hZGQoXCJxLXNvdXJjZS1pbWctd3JhcHBlclwiKTtcclxuXHJcbiAgICAvLyBDaGFuZ2UgaW1nIHRvIGJlIHBhcmVudGVkIGJ5IHRoZSBpbWcgd3JhcHBlciBkaXYgaW5zdGVhZC5cclxuICAgIGltZ1dyYXBwZXJEaXYuYXBwZW5kQ2hpbGQocUltZyk7XHJcbiAgICBxU291cmNlSXRlbS5pbnNlcnRCZWZvcmUoaW1nV3JhcHBlckRpdiwgcVNvdXJjZUl0ZW0uY2hpbGRyZW5bMF0pO1xyXG5cclxuICAgIC8vIEFkZCBhIGhvdmVyIGRpdiwgYWxzbyBpbiB0aGUgd3JhcHBlciBkaXYuXHJcbiAgICBjb25zdCBob3ZlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBob3ZlckRpdi5jbGFzc0xpc3QuYWRkKFwicS1zb3VyY2UtaXRlbS1ob3ZlclwiKTtcclxuXHJcbiAgICBjb25zdCBob3ZlclR4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgaG92ZXJUeHQuaW5uZXJUZXh0ID0gdGhpcy5fZ2V0SG92ZXJUZXh0KCk7XHJcbiAgICBob3ZlclR4dC5jbGFzc0xpc3QuYWRkKFwicS1zb3VyY2UtaG92ZXItdHh0XCIpO1xyXG5cclxuICAgIGhvdmVyRGl2LmFwcGVuZENoaWxkKGhvdmVyVHh0KTtcclxuICAgIGltZ1dyYXBwZXJEaXYuYXBwZW5kQ2hpbGQoaG92ZXJEaXYpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEZ1bGxRdWVzdGlvbnNQYWdlIH0gZnJvbSBcIi4uL21vZHVsZXMvcXVlc3Rpb25zL3F1ZXN0aW9uc1BhZ2Uvc3ViLWNsYXNzZXMvZnVsbFF1ZXN0aW9uc1BhZ2UubWpzXCI7XHJcbmltcG9ydCB7IEF1dG9Nb2RlIH0gZnJvbSBcIi4uL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9xTW9kZVdpdGhRdWV1ZUlucHV0L3N1Yi1jbGFzc2VzL2F1dG9Nb2RlLm1qc1wiO1xyXG5pbXBvcnQgeyBTZWFyY2hNb2RlIH0gZnJvbSBcIi4uL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9xTW9kZVdpdGhRdWV1ZUlucHV0L3N1Yi1jbGFzc2VzL3NlYXJjaE1vZGUubWpzXCI7XHJcbmltcG9ydCB7IFByZXZBbnN3ZXJNb2RlIH0gZnJvbSBcIi4uL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9zaW5nbGVBbnN3ZXJNb2RlL3N1Yi1jbGFzc2VzL3ByZXZBbnN3ZXJNb2RlLm1qc1wiO1xyXG5pbXBvcnQgeyBQcmV2aW91c0Fuc3dlcnMgfSBmcm9tIFwiLi4vbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xU291cmNlL3N1Yi1jbGFzc2VzL3ByZXZpb3VzQW5zd2Vycy5tanNcIjtcclxuaW1wb3J0IFwiLi9sb2dnZWRJblBhZ2UuanNcIjtcclxuXHJcblxyXG5cclxuLy8gQ3VycmVudCBjYXRlZ29yeSBpbmZvLlxyXG5jb25zdCBtYWluSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWhlYWRlclwiKTtcclxuY29uc3QgY2F0ZWdvcnlUeXBlTmFtZSA9IG1haW5IZWFkZXIuZGF0YXNldC5jYXRUeXBlO1xyXG5jb25zdCBjYXRlZ29yeU5hbWUgPSBtYWluSGVhZGVyLmRhdGFzZXQuY2F0O1xyXG5cclxuLy8gUXVlc3Rpb24gbW9kZSBkaXZzLlxyXG5jb25zdCBhdXRvUU1vZGVEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dG8tbW9kZVwiKTtcclxuY29uc3Qgc2VhcmNoUU1vZGVEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1tb2RlXCIpO1xyXG5jb25zdCBzaW5nbGVBbnN3ZXJRTW9kZURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2luZ2xlLWFuc3dlci1tb2RlXCIpO1xyXG5cclxuLy8gUHJldmlvdXMgYW5zd2Vycy5cclxuY29uc3QgcHJldkFuc3dlcnNMaXN0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmV2LWFuc3dlcnMtbGlzdFwiKTtcclxuY29uc3QgcHJldkFuc3dlcnNMaXN0ID0gbmV3IFByZXZpb3VzQW5zd2VycyhwcmV2QW5zd2Vyc0xpc3REaXYsIFxyXG4gIGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSk7XHJcblxyXG4gIC8vIFF1ZXN0aW9uIG1vZGUgYnV0dG9ucy5cclxuY29uc3QgYXV0b01vZGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dG8tcXVldWUtbW9kZS1idG5cIik7XHJcbmNvbnN0IHNlYXJjaE1vZGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1tb2RlLWJ0blwiKTtcclxuY29uc3QgcHJldkFuc3dlcnNNb2RlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmV2LWFuc3dlcnMtbW9kZS1idG5cIik7XHJcblxyXG4vLyBDcmVhdGUgdGhlIHF1ZXN0aW9uIG1vZGVzLlxyXG5jb25zdCBhdXRvUU1vZGUgPSBuZXcgQXV0b01vZGUoYXV0b1FNb2RlRGl2LCBjYXRlZ29yeVR5cGVOYW1lLCBjYXRlZ29yeU5hbWUsIGF1dG9Nb2RlQnRuKTtcclxuY29uc3Qgc2VhcmNoUU1vZGUgPSBuZXcgU2VhcmNoTW9kZShzZWFyY2hRTW9kZURpdiwgY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBzZWFyY2hNb2RlQnRuKTtcclxuY29uc3QgcHJldkFuc3dlclFNb2RlID0gbmV3IFByZXZBbnN3ZXJNb2RlKHNpbmdsZUFuc3dlclFNb2RlRGl2LCBcclxuICBwcmV2QW5zd2Vyc0xpc3QsIGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgcHJldkFuc3dlcnNNb2RlQnRuKTtcclxuXHJcbmNvbnN0IGFsbFFNb2RlcyA9IFthdXRvUU1vZGUsIHNlYXJjaFFNb2RlLCBwcmV2QW5zd2VyUU1vZGVdO1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBxdWVzdGlvbnMgbW9kZSBzd2l0Y2hlci5cclxuY29uc3QgcU1vZGVTd2l0Y2hlciA9IFtcclxuICB7bW9kZTogYXV0b1FNb2RlLCBidG46IGF1dG9Nb2RlQnRufSxcclxuICB7bW9kZTogc2VhcmNoUU1vZGUsIGJ0bjogc2VhcmNoTW9kZUJ0bn0sXHJcbiAge21vZGU6IHByZXZBbnN3ZXJRTW9kZSwgYnRuOiBwcmV2QW5zd2Vyc01vZGVCdG59XHJcbl07XHJcblxyXG4vLyBDcmVhdGUgdGhlIHF1ZXN0aW9ucyBwYWdlLlxyXG5jb25zdCBxdWVzdGlvbnNQYWdlID0gbmV3IEZ1bGxRdWVzdGlvbnNQYWdlKGFsbFFNb2RlcywgcU1vZGVTd2l0Y2hlciwgXHJcbiAgY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lKTtcclxuXHJcbnF1ZXN0aW9uc1BhZ2UuaW5pdCgpO1xyXG5cclxuLy8gT24gcGFnZSBsb2FkLCB1cGRhdGUgdGhlIHF1ZXN0aW9ucyBxdWV1ZSBhbmQgc2hvdyB0aGUgZmlyc3QgcXVlc3Rpb24uXHJcbndpbmRvdy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgYXdhaXQgcXVlc3Rpb25zUGFnZS5zZXRRTW9kZShhdXRvUU1vZGUpO1xyXG59IiwiaW1wb3J0IHsgZmFkZUluLCBmdWxseUZhZGVPdXQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5pbXBvcnQgeyBnZXRRSW5mbyB9IGZyb20gXCIuLi8uLi8uLi9xdWVzdGlvbnNIZWxwZXJzLm1qc1wiO1xyXG5pbXBvcnQgeyBTaW5nbGVNb2RlUVNvdXJjZSB9IGZyb20gXCIuLi9zaW5nbGVNb2RlUVNvdXJjZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFByZXZpb3VzQW5zd2VycyBleHRlbmRzIFNpbmdsZU1vZGVRU291cmNlIHtcclxuICAjbm90WWV0QWN0aXZhdGVkID0gdHJ1ZTtcclxuICAvLyBDb21iaW5hdGlvbiBvZiBhbGwgREIgYW5zd2VycyBvdmVyd3JpdHRlbiB3aXRoIGFueSBtb3JlIHJlY2VudCBhbnN3ZXJzIGZvciBcclxuICAvLyBjdXJyZW50IHNlc3Npb24uXHJcbiAgI3ByZXZBbnN3ZXJzID0gW107XHJcbiAgX2NhdGVnb3J5VHlwZU5hbWU7XHJcbiAgX2NhdGVnb3J5TmFtZTtcclxuICBfcURpdkNsYXNzID0gXCJwcmV2LWFucy1pdGVtXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxpc3REaXYsIGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSkge1xyXG4gICAgc3VwZXIobGlzdERpdik7XHJcbiAgICB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lID0gY2F0ZWdvcnlUeXBlTmFtZTtcclxuICAgIHRoaXMuX2NhdGVnb3J5TmFtZSA9IGNhdGVnb3J5TmFtZTtcclxuICB9XHJcblxyXG4gIC8vIEdldCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgYWxsIHRoZSB1c2VyJ3MgY3VycmVudCBhbnN3ZXJzIGFuZCB1cGRhdGUgdGhlIFxyXG4gIC8vIGRpdiB3aXRoIHRoZW0uXHJcbiAgYXN5bmMgYWN0aXZhdGUoKSB7XHJcbiAgICAvLyBHZXQgdXNlcidzIGN1cnJlbnQgYW5zd2VycyBpbiB0aGUgREIgZm9yIHRoaXMgY2F0ZWdvcnksIGlmIGZpcnN0IHRpbWUgXHJcbiAgICAvLyBydW5uaW5nLCBhbmQgcG9wdWxhdGUgdGhlIERPTSBsaXN0LlxyXG4gICAgaWYgKHRoaXMuI25vdFlldEFjdGl2YXRlZCkge1xyXG4gICAgICB0aGlzLiNwcmV2QW5zd2VycyA9IGF3YWl0IHRoaXMuI2dldERCQW5zd2VycygpO1xyXG4gICAgICB0aGlzLl9idWlsZENvbnRlbnREaXYodGhpcy4jcHJldkFuc3dlcnMpO1xyXG4gICAgICB0aGlzLiNub3RZZXRBY3RpdmF0ZWQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgZmFkZUluKHRoaXMuX2xpc3REaXYpO1xyXG4gIH1cclxuXHJcbiAgLy8gSGlkZXMgdGhlIGxpc3QuXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIGZ1bGx5RmFkZU91dCh0aGlzLl9saXN0RGl2KTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZXMgdGhpcyAjcHJldkFuc3dlcnMgYW5kIHRoZSBkaXYgbGlzdCBvbiBhIGNoYW5nZS5cclxuICB1cGRhdGVBbnN3ZXJzTGlzdChsYXRlc3RTZXNzaW9uQW5zd2Vycykge1xyXG4gICAgZm9yIChsZXQgbmV3QW5zd2VyIG9mIGxhdGVzdFNlc3Npb25BbnN3ZXJzKSB7XHJcbiAgICAgIC8vIFVwZGF0ZSB0aGlzIHByZXZBbnN3ZXJzIGFuZCB0aGUgRE9NIGxpc3Qgd2l0aCB0aGUgbGF0ZXN0IFxyXG4gICAgICAvLyBzZXNzaW9uIGFuc3dlcnMuXHJcbiAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSB0aGlzLiNwcmV2QW5zd2Vycy5maW5kSW5kZXgocHJldkFucyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHByZXZBbnMucXVlc3Rpb25JZCA9PT0gbmV3QW5zd2VyLnF1ZXN0aW9uSWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBuZXdBbnNSb3dEaXYgPSB0aGlzLl9jcmVhdGVRRGl2KG5ld0Fuc3dlcik7XHJcblxyXG4gICAgICAvLyBJZiBmb3VuZCwgb3ZlcndyaXRlIHdpdGggbmV3IGFuc3dlci5cclxuICAgICAgaWYgKGZvdW5kSW5kZXggPiAtMSkge1xyXG4gICAgICAgIHRoaXMuI3ByZXZBbnN3ZXJzLnNwbGljZShmb3VuZEluZGV4LCAxLCBuZXdBbnN3ZXIpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRlbnREaXYucmVwbGFjZUNoaWxkKG5ld0Fuc1Jvd0RpdiwgdGhpcy5fY29udGVudERpdi5jaGlsZHJlbltmb3VuZEluZGV4XSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBuZXcgcm93IHRvIGVuZCBvZiB0aGUgY29udGVudERpdi5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy4jcHJldkFuc3dlcnMucHVzaChuZXdBbnN3ZXIpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRlbnREaXYuYXBwZW5kQ2hpbGQobmV3QW5zUm93RGl2KTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdXNlcidzIGN1cnJlbnQgYW5zd2VycyBpbiB0aGUgREIgZm9yIHRoaXMgY2F0ZWdvcnkuXHJcbiAgYXN5bmMgI2dldERCQW5zd2VycygpIHtcclxuICAgIGNvbnN0IGZldGNoQ3VyckRCQW5zd2VycyA9IGF3YWl0IGZldGNoKGAvcXVlc3Rpb25zL3VzZXItYW5zd2Vycy8ke3RoaXMuX2NhdGVnb3J5VHlwZU5hbWV9LyR7dGhpcy5fY2F0ZWdvcnlOYW1lfWApO1xyXG4gICAgY29uc3QgY3VyckRCQW5zd2VycyA9IGF3YWl0IGZldGNoQ3VyckRCQW5zd2Vycy5qc29uKCk7XHJcbiAgICByZXR1cm4gY3VyckRCQW5zd2VycztcclxuICB9XHJcblxyXG4gIF9nZXRTY29yZVRleHQocHJldkFucykge1xyXG4gICAgcmV0dXJuIHByZXZBbnMuc2tpcCA/IFwiU2tpcHBlZFwiIDogTnVtYmVyKHByZXZBbnMuYW5zd2VyVmFsKS50b0ZpeGVkKDEpO1xyXG4gIH1cclxuXHJcbiAgX2FkZFRvUURpdihxSW5mbykge1xyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uYXBwZW5kQ2hpbGQocUluZm8ucVRleHQpO1xyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uYXBwZW5kQ2hpbGQocUluZm8ucVNjb3JlKTtcclxuICAgIHJldHVybiBxSW5mby5xU291cmNlSXRlbTtcclxuICB9XHJcbiAgXHJcbiAgX2dldEhvdmVyVGV4dCgpIHtcclxuICAgIHJldHVybiBcIlJlLXJhdGUgaXQhXCI7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUU1vZGVXaXRoUXVldWVJbnB1dCB9IGZyb20gXCIuLi9xTW9kZVdpdGhRdWV1ZUlucHV0Lm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgQXV0b1F1ZXVlSW5wdXRQYW5lbCB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL3F1ZXVlSW5wdXRQYW5lbC9cXFxyXG5zdWItY2xhc3Nlcy9hdXRvUXVldWVJbnB1dFBhbmVsLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgQXV0b1F1ZXN0aW9uc1F1ZXVlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL1xcXHJcbnN1Yi1jbGFzc2VzL3F1ZXN0aW9uc1F1ZXVlL3N1Yi1jbGFzc2VzL2F1dG9RdWVzdGlvbnNRdWV1ZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEF1dG9Nb2RlIGV4dGVuZHMgUU1vZGVXaXRoUXVldWVJbnB1dCB7XHJcbiAgbmFtZSA9IFwiYXV0b1wiO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYWluRGl2LCBjYXRlZ29yeVR5cGUsIGNhdGVnb3J5LCBidG4gPSBudWxsKSB7XHJcbiAgICBzdXBlcihtYWluRGl2LCBidG4pO1xyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZSA9IG5ldyBBdXRvUXVlc3Rpb25zUXVldWUobWFpbkRpdiwgY2F0ZWdvcnlUeXBlLCBjYXRlZ29yeSk7XHJcbiAgICB0aGlzLnF1ZXVlSW5wdXRQYW5lbCA9IG5ldyBBdXRvUXVldWVJbnB1dFBhbmVsKG1haW5EaXYpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyB1cCB0aGUgcXVldWUgaW5wdXQgcGFuZWwgYW5kIGFuc3dlciBVSSBwYW5lbCBidXR0b24gZXZlbnQgbGlzdGVuZXJzLlxyXG4gIGluaXQoKSB7XHJcbiAgICBzdXBlci5pbml0KCk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmlucHV0UGFuZWwgPSB0aGlzLnF1ZXVlSW5wdXRQYW5lbDtcclxuXHJcbiAgICB0aGlzLnF1ZXVlSW5wdXRQYW5lbC5pbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnJlc2V0KCk7XHJcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlUXVldWVBbmRTaG93Rmlyc3QodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBRTW9kZVdpdGhRdWV1ZUlucHV0IH0gZnJvbSBcIi4uL3FNb2RlV2l0aFF1ZXVlSW5wdXQubWpzXCI7XHJcblxyXG5pbXBvcnQgeyBTZWFyY2hRdWV1ZUlucHV0UGFuZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9xdWV1ZUlucHV0UGFuZWwvXFxcclxuc3ViLWNsYXNzZXMvc2VhcmNoUXVldWVJbnB1dFBhbmVsLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgU2VhcmNoUXVlc3Rpb25zUXVldWUgfSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9iYXNlUXVlc3Rpb25zUXVldWUvXFxcclxuc3ViLWNsYXNzZXMvcXVlc3Rpb25zUXVldWUvc3ViLWNsYXNzZXMvc2VhcmNoUXVlc3Rpb25zUXVldWUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTZWFyY2hNb2RlIGV4dGVuZHMgUU1vZGVXaXRoUXVldWVJbnB1dCB7XHJcbiAgbmFtZSA9IFwic2VhcmNoXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnksIGJ0biA9IG51bGwpIHtcclxuICAgIHN1cGVyKG1haW5EaXYsIGJ0bik7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlID0gbmV3IFNlYXJjaFF1ZXN0aW9uc1F1ZXVlKG1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpO1xyXG4gICAgdGhpcy5xdWV1ZUlucHV0UGFuZWwgPSBuZXcgU2VhcmNoUXVldWVJbnB1dFBhbmVsKG1haW5EaXYpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgcXVlc3Rpb25zIHF1ZXVlIGFuZCB0aGVuIGRpc3BsYXlzIHRoZSBmaXJzdCBxdWVzdGlvbiBvZiBpdCwgXHJcbiAgLy8gY2FsbGVkIHdoZW4gc3dpdGNoaW5nIHRvIHRoaXMgcXVlc3Rpb25zIG1vZGUuXHJcbiAgYXN5bmMgdXBkYXRlUXVldWVBbmRTaG93Rmlyc3QoaXNOZXdRdWV1ZSA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGhpcy5xdWV1ZUlucHV0UGFuZWwuc2VhcmNoSW5wdXQudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnNob3dMb2FkZXIoKTtcclxuICAgICAgYXdhaXQgc3VwZXIudXBkYXRlUXVldWUoaXNOZXdRdWV1ZSk7XHJcbiAgICB9O1xyXG4gIFxyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLmhpZGVMb2FkZXIoKTtcclxuICAgIHRoaXMuX3Nob3dDdXJyUSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyB1cCB0aGUgcXVldWUgaW5wdXQgcGFuZWwgYW5kIGFuc3dlciBVSSBwYW5lbCBidXR0b24gZXZlbnQgbGlzdGVuZXJzLlxyXG4gIGluaXQoKSB7XHJcbiAgICBzdXBlci5pbml0KCk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmlucHV0UGFuZWwgPSB0aGlzLnF1ZXVlSW5wdXRQYW5lbDtcclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUuaW5wdXRQYW5lbC5pbml0KCk7XHJcblxyXG4gICAgdGhpcy5xdWV1ZUlucHV0UGFuZWwuc2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm1DaGFuZ2VkID0gdGhpcy5xdWVzdGlvbnNRdWV1ZS5jaGVja1NlYXJjaFRlcm1DaGFuZ2VkKCk7XHJcbiAgICAgIGlmIChzZWFyY2hUZXJtQ2hhbmdlZCkge1xyXG4gICAgICAgIHRoaXMuI3Jlc2V0UXVldWVBbmRVcGRhdGUoKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucXVldWVJbnB1dFBhbmVsLmluY2x1ZGVBbHJlYWR5QW5zd2VyZWRDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgdGhpcy4jcmVzZXRRdWV1ZUFuZFVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyAjcmVzZXRRdWV1ZUFuZFVwZGF0ZSgpIHtcclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUucmVzZXQoKTtcclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUuc2V0U2VhcmNoUXVlcnkoKTtcclxuICAgIGF3YWl0IHRoaXMudXBkYXRlUXVldWVBbmRTaG93Rmlyc3QodHJ1ZSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgU2luZ2xlQW5zd2VyTW9kZSB9IGZyb20gXCIuLi9zaW5nbGVBbnN3ZXJNb2RlLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgU2luZ2xlUXVlc3Rpb25RdWV1ZSB9IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9cXFxyXG5zdWItY2xhc3Nlcy9zaW5nbGVRdWVzdGlvblF1ZXVlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUHJldkFuc3dlck1vZGUgZXh0ZW5kcyBTaW5nbGVBbnN3ZXJNb2RlIHtcclxuICBuYW1lID0gXCJwcmV2QW5zXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1haW5EaXYsIHFTb3VyY2UsIGNhdFR5cGVOYW1lLCBjYXROYW1lLCBidG4gPSBudWxsKSB7XHJcbiAgICBzdXBlcihtYWluRGl2LCBxU291cmNlLCBidG4pO1xyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZSA9IG5ldyBTaW5nbGVRdWVzdGlvblF1ZXVlKG1haW5EaXYsIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICB9XHJcblxyXG4gIC8vIFBhc3NlcyB0aGUgbGF0ZXN0U2Vzc2lvbiBhbnN3ZXJzIG9uIHRvIHRoZSBxU291cmNlLlxyXG4gIHNldFJlY2VudEFuc3dlcnMobGF0ZXN0U2Vzc2lvbkFuc3dlcnMpIHtcclxuICAgIHRoaXMuX3FTb3VyY2UudXBkYXRlQW5zd2Vyc0xpc3QobGF0ZXN0U2Vzc2lvbkFuc3dlcnMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWN0aXZhdGUoKSB7XHJcbiAgICBzdXBlci5hY3RpdmF0ZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5fcVNvdXJjZS5hY3RpdmF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIHRoaXMuX3FTb3VyY2UuZGVhY3RpdmF0ZSgpO1xyXG4gICAgc3VwZXIuZGVhY3RpdmF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFrZXMgYSBxdWVzdGlvbiwgcmVhZHkgdG8gYmUgc2hvd24gaW4gdGhlIGFuc3dlclVpUGFuZWwsIGZyb20gdGhlIGNsaWNrZWQgXHJcbiAgLy8gb24gcHJldkFuc3dlci5cclxuICBfbWFrZVF1ZXN0aW9uKHByZXZBbnMpIHtcclxuICAgIGNvbnN0IHRoaXNRID0ge1xyXG4gICAgICBfaWQ6IHByZXZBbnMucXVlc3Rpb25JZCxcclxuICAgICAgY3VyckFuczoge1xyXG4gICAgICAgIHNraXA6IHByZXZBbnM/LnNraXAsXHJcbiAgICAgICAgYW5zd2VyVmFsOiBwcmV2QW5zPy5hbnN3ZXJWYWxcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGxldCBwcm9wIGluIHByZXZBbnMucXVlc3Rpb25EZXRhaWxzKSB7XHJcbiAgICAgIHRoaXNRW3Byb3BdID0gcHJldkFucy5xdWVzdGlvbkRldGFpbHNbcHJvcF1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXNRO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFF1ZXN0aW9uc1BhZ2UgfSBmcm9tIFwiLi4vcXVlc3Rpb25zUGFnZS5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gUXVlc3Rpb25zIHBhZ2UgdGhhdCBpbmNsdWRlZCBhIHByZXZpb3VzIGFuc3dlcnMgc2VjdGlvbiBmb3Igc2VlaW5nIHByZXZpb3VzIFxyXG4vLyBhbnN3ZXJzIG1hZGUgYnkgdGhlIHVzZXIsIGZvciB1c2Ugd2hlbiBpbiBxdWVzdGlvbnMgbW9kZSBwcm9wZXIuXHJcbmV4cG9ydCBjbGFzcyBGdWxsUXVlc3Rpb25zUGFnZSBleHRlbmRzIFF1ZXN0aW9uc1BhZ2Uge1xyXG4gIC8vIEp1c3QgdGhlIHNlc3Npb24gYW5zd2VycyBzaW5jZSBsYXN0IHRpbWUgd2FzIG9uIHRoZSBwcmV2IGFuc3dlcnMgbW9kZS5cclxuICAjbGF0ZXN0U2Vzc2lvbkFuc3dlcnMgPSBbXTtcclxuXHJcbiAgX3NldFJlY2VudEFuc3dlcnMoKSB7XHJcbiAgICAvLyBJZiBjdXJyZW50bHkgaW4gdGhlIHByZXZpb3VzIGFuc3dlcnMgbW9kZSwgcmVzZXQgdGhlIGxhdGVzdFNlc3Npb25BbnN3ZXJzIFxyXG4gICAgLy8gaW1tZWRpYXRlbHkgYWZ0ZXIgc2V0dGluZyBpdCBhcyBpdCB3aWxsIGJlIHJlZmxlY3RlZCBpbiB0aGUgcHJldiBhbnN3ZXJzIFxyXG4gICAgLy8gbGlzdCBzdHJhaWdodCBhd2F5LlxyXG4gICAgaWYgKHRoaXMuY3VyclF1ZXN0aW9uTW9kZT8ubmFtZSA9PT0gXCJwcmV2QW5zXCIpIHtcclxuICAgICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLnNldFJlY2VudEFuc3dlcnModGhpcy4jbGF0ZXN0U2Vzc2lvbkFuc3dlcnMpO1xyXG4gICAgICB0aGlzLiNsYXRlc3RTZXNzaW9uQW5zd2VycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5zZXRSZWNlbnRBbnN3ZXJzKHRoaXMuYWxsUmVjZW50QW5zd2Vycyk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkcyBuZXcgYW5zd2VyIHRvIGxhdGVzdCBzZXNzaW9uIGFuc3dlcnMuXHJcbiAgX2hhbmRsZU5ld0Fuc3dlcihhbnN3ZXJPYmopIHtcclxuICAgIHRoaXMuX3VwZGF0ZUFuc0FycmF5V2l0aEFucyh0aGlzLiNsYXRlc3RTZXNzaW9uQW5zd2VycywgYW5zd2VyT2JqKTtcclxuICAgIHN1cGVyLl9oYW5kbGVOZXdBbnN3ZXIoYW5zd2VyT2JqKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZmFkZUluIiwiZWxlbSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJhc3luYyIsImZ1bGx5RmFkZUluIiwiZmluaXNoRmFkZUluIiwiZmFkZU91dCIsImFkZCIsImZpbmlzaEZhZGVPdXQiLCJmdWxseUZhZGVPdXQiLCJQb3BCdG4iLCJjb25zdHJ1Y3RvciIsInBvcEJ0bkNvbnRhaW5lciIsInRoaXMiLCJxdWVyeVNlbGVjdG9yIiwiaW5pdCIsImJ0biIsImNvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIndpbmRvdyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2giLCJhcnJheSIsIm5ld0l0ZW0iLCJlbGVtQ29tcEZ1bmMiLCJmb3VuZEluZGV4IiwiZmluZEluZGV4IiwiYXJySXRlbSIsInNwbGljZSIsInB1c2giLCJhd2FpdFRyYW5zaXRpb24iLCJwcm9wTmFtZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXZ0IiwicHJvcGVydHlOYW1lIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQW5zd2VyVUlQYW5lbCIsIm1haW5EaXYiLCJyYXRlUGFuZWwiLCJyYXRlQnRuIiwic2tpcEJ0biIsInNjb3JlU2xpZGVyIiwic2NvcmVTbGlkZXJJbnB1dCIsImN1cnJRdWVzdGlvblRleHQiLCJwcmV2QW5zRGl2IiwicHJldkFuc1ZhbCIsImxvYWRlciIsImRldGFpbHMiLCJxTW9kZURpdiIsImRpc3BsYXlDdXJyUSIsIm5ld1FJbmZvIiwiaW5jbHVkZUFscmVhZHlBbnN3ZXJlZCIsImlubmVySFRNTCIsImN1cnJRVGV4dCIsImlubmVyVGV4dCIsInByZXZTY29yZSIsInZhbHVlIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiZW5kT2ZRdWV1ZSIsInByZXZBbnNTY29yZSIsImN1cnJRQW5zIiwic2tpcCIsImFuc3dlclZhbCIsIlF1ZXN0aW9uc01vZGUiLCJFdmVudFRhcmdldCIsImFuc3dlclVpUGFuZWwiLCJxdWVzdGlvbnNRdWV1ZSIsInN1cGVyIiwiYW5zd2VyUXVlc3Rpb24iLCJzZXRSZWNlbnRBbnN3ZXJzIiwiYWxsUmVjZW50QW5zd2VycyIsIl9zaG93Q3VyclEiLCJpbmNsQWxyZWFkeUFuc3dlcmVkIiwibmV3Q3VyclFJbmZvIiwiZ2V0Q3VyclFJbmZvIiwiZ2V0QW5zd2VyT2JqIiwiZXZlbnQiLCJjdXJyUXVlc3Rpb24iLCJ1c2VyU2tpcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJ0aGlzU2NvcmUiLCJOdW1iZXIiLCJxdWVzdGlvbkRldGFpbHMiLCJfZ2V0UXVlc3Rpb25EZXRhaWxzIiwiYW5zd2VySW5mbyIsInF1ZXN0aW9uSWQiLCJfaWQiLCJwcm9wc1RvSWdub3JlIiwiaW5jbHVkZXMiLCJhY3RpdmF0ZSIsImRlYWN0aXZhdGUiLCJRTW9kZVdpdGhRdWV1ZUlucHV0IiwicXVldWVJbnB1dFBhbmVsIiwicmVtb3ZlUXVldWVJdGVtIiwic2F2ZVByZXZRIiwiYW5zd2VyT2JqIiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJ1cGRhdGUiLCJjaGVja0Zvck91dGRhdGVkUXMiLCJpbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3giLCJjaGVja2VkIiwiaXNOZXdRdWV1ZSIsInNob3dMb2FkZXIiLCJ1cGRhdGVRdWV1ZSIsImhpZGVMb2FkZXIiLCJRdWVzdGlvbnNQYWdlIiwicXVlc3Rpb25zTW9kZXMiLCJxTW9kZVN3aXRjaGVyIiwiY3VyclF1ZXN0aW9uTW9kZSIsImNhdGVnb3J5VHlwZU5hbWUiLCJjYXRlZ29yeU5hbWUiLCJub3RZZXRQb3N0ZWRBbnN3ZXJzIiwic3RhdGljIiwicU1vZGVzIiwicU1vZGUiLCJfcG9zdEFuc3dlcnMiLCJzZXRJbnRlcnZhbCIsIl9oYW5kbGVOZXdBbnN3ZXIiLCJtb2RlQnRuTGluayIsInFNb2RlQnRuIiwibW9kZSIsInN3aXRjaFFNb2RlIiwiX3VwZGF0ZUFuc0FycmF5V2l0aEFucyIsIl9zZXRSZWNlbnRBbnN3ZXJzIiwicmVtb3ZlUW1vZGUiLCJuZXdRTW9kZSIsInVwZGF0ZVF1ZXVlQW5kU2hvd0ZpcnN0IiwibmFtZSIsIm9yaWdBbnNBcnJheSIsIm5ld0FucyIsInNldFFNb2RlIiwicmVzZXRBbnN3ZXJzIiwiY2xlYXJSZWNlbnRseVBvc3RlZEFuc3dlcnMiLCJzdWNjZXNzUG9zdGVkQW5zd2VycyIsInN1Y2Nlc3NQb3N0ZWRBbnN3ZXIiLCJnZXRGaW5kSW5kZXgiLCJ1cGRhdGVBbnN3ZXJzQXJyYXkiLCJhbnMiLCJpc01hdGNoIiwicHJvcHNUb0NoZWNrIiwiaXNDaGFuZ2VPZlBhZ2UiLCJsZW5ndGgiLCJwb3N0Um91dGUiLCJhbnN3ZXJzVG9Qb3N0IiwicG9zdE9iaiIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJkYXRhIiwia2VlcGFsaXZlIiwiZmV0Y2giLCJzbGljZSIsImNhdGVnb3JpZXNBbnN3ZXJzIiwiYW5zd2VyIiwidGhpc0Fuc0NhdFR5cGUiLCJ0aGlzQW5zQ2F0IiwiZm91bmRDYXRlZ29yeUlkeCIsImxpc3QiLCJjYXRUeXBlTWF0Y2giLCJjYXRUeXBlIiwiY2F0TWF0Y2giLCJjYXQiLCJmb3JtYXR0ZWRBbnMiLCJmb3JtYXRBbnN3ZXIiLCJhbnN3ZXJzIiwibmV3Q2F0ZWdvcnkiLCJRdWV1ZUlucHV0UGFuZWwiLCJBdXRvUXVldWVJbnB1dFBhbmVsIiwiZ2V0UUNhdGVnb3J5IiwicSIsIm9iakNhdFR5cGUiLCJvYmpDYXQiLCJjYXRlZ29yeVR5cGUiLCJjYXRlZ29yeSIsImdldFFJbmZvIiwiY2F0VHlwZU5hbWUiLCJjYXROYW1lIiwiaW5mbyIsImltZ1BhdGgiLCJwb3N0ZXJQYXRoIiwicURpc3BsYXlUZXh0IiwidGl0bGUiLCJnZXREaXNwbGF5UmVsZWFzZURhdGUiLCJyZWxlYXNlRGF0ZSIsInFTb3VyY2VEaXNwbGF5VGV4dCIsImltZ1BsYWNlSG9sZGVyVHh0IiwiaW1hZ2UiLCJ0cmFja05hbWUiLCJhcnRpc3QiLCJhbGJ1bSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInBsYXRmb3JtcyIsImF1dGhvciIsInRleHQiLCJzaG9ydFRleHQiLCJjcmVhdGVRRG9tSXRlbSIsIm5ld0RvbVEiLCJjcmVhdGVFbGVtZW50IiwiZG9tSW1nIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJub0ltZ0RpdiIsIm5vSW1nVGV4dCIsInBsYWNlaG9sZGVyVGV4dCIsInByZXZpZXdVcmwiLCJkb21NdXNpY1BsYXllciIsIkRvbVF1ZXVlIiwiX3F1ZXVlIiwicU1vZGVNYWluRGl2IiwiX2RlbGV0ZURvbVEiLCJhZGRUb1F1ZXVlIiwicXMiLCJpZHgiLCJkb1RyYW5zIiwiaGFzQ2hpbGROb2RlcyIsImNvbnRhaW5zIiwicmVtb3ZlQ2hpbGQiLCJjaGlsZHJlbiIsInJlc2V0UXVldWUiLCJCYXNlUXVlc3Rpb25zUXVldWUiLCJfY2F0ZWdvcnlUeXBlTmFtZSIsIl9jYXRlZ29yeU5hbWUiLCJxdWV1ZSIsInF1ZXVlVHlwZSIsIl9kb21RdWV1ZSIsIl9xdWV1ZVByZXZRcyIsIl9nZXRFbmRRdWV1ZU1zZyIsImN1cnJRIiwiY3VyckFucyIsImVuZFF1ZXVlTXNnIiwidGhpc1F1ZXVlSXRlbSIsIl9hZGRUb1F1ZXVlIiwiY29uY2F0IiwiX3Jlc2V0UXVldWUiLCJxSWQiLCJRdWVzdGlvbnNRdWV1ZSIsIl9RVUVVRV9SRUZSRVNIX1RIUkVTSE9MRCIsIl9lbmRPZlFTb3VyY2UiLCJfY3VycmVudGx5VXBkYXRpbmciLCJpbnB1dFBhbmVsIiwiX3VwZGF0ZVF1ZXVlUHJldlFzIiwidXBkYXRlZCIsImNoZWNrUXVldWVUb0JlVXBkYXRlZCIsIm51bU5ld1FzIiwiY3VyclF1ZXVlSWRzIiwibWFwIiwic3RhcnRBcGlQYWdlIiwibWF4UXVldWVBcGlQYWdlIiwiYXQiLCJhcGlQYWdlTnVtIiwibmV3UXVlc3Rpb25zT2JqIiwiZW5kT2ZRU291cmNlIiwicmVzdWx0cyIsInF1ZXVlTmVlZHNFeHRlbmRpbmciLCJtb3JlUXNJblNvdXJjZSIsImFuc3dlclEiLCJxdWV1ZUluZGV4IiwiaGFuZGxlT3V0ZGF0ZWRRdWV1ZUl0ZW0iLCJyZWNlbnRBbnN3ZXIiLCJpbmNsUHJldkFuc3dlcnMiLCJwcmV2aW91c2x5SW5UaGlzUXVldWUiLCJudW1RdWVzdGlvbnMiLCJfZ2V0UG9zdE9iaiIsImZldGNoUmVzcG9uc2UiLCJuZXdRdWVzdGlvbnMiLCJqc29uIiwibnVtUXMiLCJmaWx0ZXJzIiwicmVzZXQiLCJBdXRvUXVlc3Rpb25zUXVldWUiLCJpbmNsdWRlQW5zd2VyZWRRcyIsIlNlYXJjaFF1ZXVlSW5wdXRQYW5lbCIsInNlYXJjaElucHV0Iiwic2VhcmNoQnRuIiwia2V5Q29kZSIsInByZXZlbnREZWZhdWx0IiwiY2xpY2siLCJTZWFyY2hRdWVzdGlvbnNRdWV1ZSIsIm5vU2VhcmNoVGVybU1zZyIsInNlYXJjaFF1ZXJ5IiwiY2FuQmVVcGRhdGVkIiwiaXNWYWxpZFNlYXJjaCIsImNoZWNrU2VhcmNoVGVybUNoYW5nZWQiLCJwcmV2U2VhcmNoVGVybSIsInNldFNlYXJjaFF1ZXJ5IiwiZW5jb2RlVVJJIiwiU2luZ2xlRG9tUXVldWUiLCJTaW5nbGVRdWVzdGlvblF1ZXVlIiwicXVlc3Rpb24iLCJDZW50cmVNb2RhbCIsIndyYXBwZXIiLCJjbG9zZU1vZGFsRWxlbXMiLCJjbG9zZU1vZGFsRWxlbSIsImhpZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJzaG93IiwiU2luZ2xlQW5zd2VyTW9kZSIsIl9xU291cmNlIiwiX2Fuc3dlclVpTW9kYWwiLCJxU291cmNlIiwibW9kYWxXcmFwcGVyIiwiX2hhbmRsZUNsaWNrU2luZ2xlUSIsInRoaXNRSXRlbSIsInRoaXNRdWVzdGlvbiIsIl9tYWtlUXVlc3Rpb24iLCJTaW5nbGVNb2RlUVNvdXJjZSIsIl9saXN0RGl2IiwiX2NvbnRlbnREaXYiLCJfcURpdkNsYXNzIiwibGlzdERpdiIsIl9jcmVhdGVRRGl2IiwicVNvdXJjZUl0ZW0iLCJxVGV4dCIsIl9jcmVhdGVRVGV4dEVsZW0iLCJxU2NvcmUiLCJfY3JlYXRldFFTY29yZUVsZW0iLCJfc2V0dXBRSW1nIiwicUluZm8iLCJfYWRkVG9RRGl2IiwiX2hhbmRsZVJhdGVCdG5DbGljayIsIl9idWlsZENvbnRlbnREaXYiLCJxdWVzdGlvbnMiLCJfZ2V0U2NvcmVUZXh0IiwicUltZyIsImltZ1dyYXBwZXJEaXYiLCJpbnNlcnRCZWZvcmUiLCJob3ZlckRpdiIsImhvdmVyVHh0IiwiX2dldEhvdmVyVGV4dCIsIm1haW5IZWFkZXIiLCJkYXRhc2V0IiwiYXV0b1FNb2RlRGl2Iiwic2VhcmNoUU1vZGVEaXYiLCJzaW5nbGVBbnN3ZXJRTW9kZURpdiIsInByZXZBbnN3ZXJzTGlzdERpdiIsInByZXZBbnN3ZXJzTGlzdCIsInVwZGF0ZUFuc3dlcnNMaXN0IiwibGF0ZXN0U2Vzc2lvbkFuc3dlcnMiLCJuZXdBbnN3ZXIiLCJwcmV2QW5zIiwibmV3QW5zUm93RGl2IiwicmVwbGFjZUNoaWxkIiwiZmV0Y2hDdXJyREJBbnN3ZXJzIiwidG9GaXhlZCIsImF1dG9Nb2RlQnRuIiwic2VhcmNoTW9kZUJ0biIsInByZXZBbnN3ZXJzTW9kZUJ0biIsImF1dG9RTW9kZSIsInNlYXJjaFFNb2RlIiwicHJldkFuc3dlclFNb2RlIiwidGhpc1EiLCJhbGxRTW9kZXMiLCJxdWVzdGlvbnNQYWdlIiwib25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==