(()=>{"use strict";var e={733:(e,t,s)=>{s.d(t,{Ji:()=>n,U6:()=>a,Yi:()=>c,_5:()=>r,tA:()=>u,xS:()=>o});var i=s(922);function n(e){e.classList.remove("fully-hidden"),setTimeout((()=>e.classList.remove("transparent")),10)}async function r(e){n(e),await async function(e){await(0,i.hk)(e,"opacity")}(e)}function a(e){e.classList.add("transparent")}async function o(e){await(0,i.hk)(e,"opacity"),e.classList.add("fully-hidden")}async function c(e){a(e),await o(e)}function u(e,t){return new Promise((async s=>{await c(e),await r(t),s()}))}},300:(e,t,s)=>{var i=s(733);class n{#e;#t;constructor(e){this.#e=e.querySelector(".pop-btn"),this.#t=e.querySelector(".pop-btn-content")}init(){this.#s(this.#e,this.#t)}#s(e,t){e.addEventListener("click",(()=>{this.#i(e,t)}),{once:!0})}async#i(e,t){await(0,i._5)(t),window.addEventListener("click",(async()=>{await(0,i.Yi)(t),this.#s(e,t)}),{once:!0})}}document.querySelectorAll(".pop-btn-container").forEach((e=>{new n(e).init()}))},922:(e,t,s)=>{function i(e,t,s){const i=e.findIndex((e=>s(e,t)));i>-1?e.splice(i,1,t):e.push(t)}function n(e,t=null){return new Promise((s=>{e.addEventListener("transitionend",(async i=>{t?(i.propertyName===t||await n(e,t),s()):s()}),{once:!0})}))}s.d(t,{cT:()=>i,hk:()=>n})}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(733);class t{mainDiv;ratePanel;rateBtn;skipBtn;scoreSlider;scoreSliderInput;currQuestionText;prevAnsDiv;prevAnsVal;loader;details;constructor(e){this.mainDiv=e.querySelector(".answer-panel"),this.ratePanel=this.mainDiv.querySelector(".rate-panel"),this.rateBtn=this.mainDiv.querySelector(".rate-btn"),this.skipBtn=this.mainDiv.querySelector(".skip-btn"),this.scoreSlider=this.mainDiv.querySelector(".score-slider"),this.scoreSliderInput=this.scoreSlider.querySelector("input"),this.currQuestionText=this.mainDiv.querySelector(".curr-question"),this.prevAnsDiv=this.mainDiv.querySelector(".prev-ans-info"),this.prevAnsVal=this.mainDiv.querySelector(".prev-ans-val"),this.loader=this.mainDiv.querySelector(".loader"),this.details=this.mainDiv.querySelector(".details")}displayCurrQ(e,t){this.#n(e),this.currQuestionText.innerHTML=e.currQText,this.prevAnsVal.innerText="";const s=this.#r(e,t);this.scoreSliderInput.value=s,this.scoreSliderInput.dispatchEvent(new Event("input"))}async showLoader(){this.loader.classList.remove("fully-hidden"),this.details.classList.add("fully-hidden"),this.details.classList.add("transparent")}async hideLoader(){this.loader.classList.add("fully-hidden"),this.details.classList.remove("fully-hidden"),setTimeout((()=>this.details.classList.remove("transparent")),10)}#n(e){e.endOfQueue?this.ratePanel.classList.add("hidden"):this.ratePanel.classList.remove("hidden")}#r(e,t){let s=5;return t&&e.currQAns?(this.prevAnsDiv.classList.remove("hidden"),this.prevAnsVal.innerText="Skipped",e.currQAns.skip||(s=e.currQAns.answerVal,this.prevAnsVal.innerText=s)):this.prevAnsDiv.classList.add("hidden"),s}}class i extends EventTarget{mainDiv;answerUiPanel;questionsQueue;btn;constructor(e,s=null){super(),this.mainDiv=e,this.btn=s,this.answerUiPanel=new t(e)}init(){this.answerUiPanel.rateBtn.addEventListener("click",(e=>{this.answerQuestion(e)})),this.answerUiPanel.skipBtn.addEventListener("click",(e=>{this.answerQuestion(e)}))}setRecentAnswers(e){this.questionsQueue.setRecentAnswers(e)}_showCurrQ(e=!0){const t=this.questionsQueue.getCurrQInfo();this.answerUiPanel.displayCurrQ(t,e)}getAnswerObj(e,t){const s=e.currentTarget===this.answerUiPanel.skipBtn,i=s?null:Number(this.answerUiPanel.scoreSliderInput.value),n=this._getQuestionDetails(t),r={questionId:t._id,skip:s,questionDetails:n};return s||(r.answerVal=i),r}_getQuestionDetails(e){const t={},s=["_id","apiPageNum","alreadyInDb","currAns"];for(let i in e)s.includes(i)||(t[i]=e[i]);return t}activate(){this.btn&&this.btn.classList.add("active-q-mode"),(0,e.Ji)(this.mainDiv)}deactivate(){this.btn&&this.btn.classList.remove("active-q-mode"),(0,e.U6)(this.mainDiv)}}function n(e,t,s){return s?[t,s]:[e.categoryTypeName??e.categoryType,e.categoryName??e.category]}function r(e,t,s,i){let n;switch(i){case"Films":case"TV":n={imgPath:e?.posterPath?`https://image.tmdb.org/t/p/w185/${e.posterPath}`:null,qDisplayText:`${e?.title} (${a(e?.releaseDate)})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Music":n={imgPath:e?.image,qDisplayText:`${e?.trackName} - ${e?.artist} (${e?.album} - ${new Date(e?.releaseDate).getFullYear()})`,qSourceDisplayText:`${e?.trackName} - ${e?.artist}`,imgPlaceHolderTxt:`${e?.trackName}`};break;case"Video Games":n={imgPath:e?.image?`https://images.igdb.com/igdb/image/upload/t_cover_big/${e.image}.jpg`:null,qDisplayText:`${e?.title} (${a(e?.releaseDate)}) (${e.platforms})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Books":n={imgPath:e?.image?`https://covers.openlibrary.org/b/id/${e.image}-M.jpg`:null,qDisplayText:`${e?.title} (${e?.author})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;default:n={imgPath:null,qDisplayText:e?.text,qSourceDisplayText:e?.shortText,imgPlaceHolderTxt:e?.shortText??e.text}}return n[t]}function a(e){return e?new Date(e).getFullYear():"Unknown"}function o(e,t,s){const i=document.createElement("div"),n=r(e,"imgPath",0,s);if(n){const t=document.createElement("img");t.setAttribute("src",n),t.setAttribute("alt",e?.title),i.appendChild(t)}else{const t=document.createElement("div");t.classList.add("placeholder-img");const n=document.createElement("span"),a=r(e,"imgPlaceHolderTxt",0,s);n.innerText=a,t.appendChild(n),i.appendChild(t)}if(e.previewUrl){const t=document.createElement("audio");t.setAttribute("controls","true"),t.setAttribute("src",e.previewUrl),i.appendChild(t)}return i}class c{_queue=[];#a=0;#o;#c;constructor(e,t,s){this._queue=e.querySelector(".queue-imgs"),this.#o=t,this.#c=s,this._queue.addEventListener("transitionend",(e=>{this.#u(e)}))}#u(e){"left"===e.propertyName&&(this.#a--,this._deleteDomQ(0),this._queue.classList.remove("queue-imgs-transitioning"),this.#a>0&&setTimeout((()=>this.#d()),0))}addToQueue(e){for(let t of e){const[e,s]=n(t,this.#o,this.#c),i=o(t,0,s);i.setAttribute("data-id",t._id),this._queue.appendChild(i)}}removeQueueItem(e,t){this._queue.hasChildNodes()&&(0===e&&t?(this.#a++,this.#d()):this._deleteDomQ(e))}_deleteDomQ(e){this._queue.classList.contains("queue-imgs-transitioning")&&e>0&&e++,this._queue.removeChild(this._queue.children[e])}#d(){this._queue.classList.add("queue-imgs-transitioning")}resetQueue(){this._queue.innerText=""}}class u{_categoryTypeName;_categoryName;queue=[];queueType;_domQueue;_queuePrevQs=[];constructor(e,t=null,s=null){this._categoryTypeName=t,this._categoryName=s,this._domQueue=new c(e,t,s)}getCurrQInfo(){let e,t,s=!1;if(0===this.queue.length)e=this._getEndQueueMsg(),s=!0;else{const s=this.queue[0],[i,a]=n(s,this._categoryTypeName,this._categoryName);e=r(s,"qDisplayText",0,a),t=s.currAns}return{endOfQueue:s,currQText:e,currQAns:t}}_getEndQueueMsg(){return this.endQueueMsg}removeQueueItem(e,t){const s=this.queue[e];return this.queue.splice(e,1),this._domQueue.removeQueueItem(e,t),s}_addToQueue(e){this.queue=this.queue.concat(e),this._domQueue.addToQueue(e)}_resetQueue(){this.queue=[],this._domQueue.resetQueue(),this._queuePrevQs=[]}savePrevQ(e){this._queuePrevQs.push(e)}}class d extends c{removeQueueItem(e,t){this._queue.hasChildNodes()&&0===e&&this._deleteDomQ(e)}}class l extends u{constructor(e,t=null,s=null){super(e,t,s),this._domQueue=new d(e,t,s)}update(e){this._resetQueue(),this._addToQueue([e])}}class h{wrapper;#l;#h;constructor(e){this.wrapper=e,this.#l=e.querySelector(".centre-modal"),this.#h=this.#l.querySelector(".close")}init(){const e=[this.#h,this.wrapper];for(let t of e)t.addEventListener("click",(()=>this.hide()));this.#l.addEventListener("click",(e=>e.stopPropagation()))}show(){(0,e.Ji)(this.wrapper)}hide(){(0,e.Yi)(this.wrapper)}}class p extends i{name="single";_qSource;_answerUiModal;constructor(e,t,s=null){super(e,s),this.questionsQueue=new l(e),this._qSource=t;const i=e.querySelector(".centre-modal-wrapper");this._answerUiModal=new h(i)}init(){super.init(),this._qSource.addEventListener("answerSingleQ",(e=>{this._handleClickSingleQ(e)})),this._answerUiModal.init()}answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0),s=this.getAnswerObj(e,t);return this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._answerUiModal.hide(),s}_handleClickSingleQ(e){const t=e.detail.question,s=this._makeQuestion(t);this.questionsQueue.update(s),this._answerUiModal.show(),this._showCurrQ()}}class m extends EventTarget{_listDiv;_contentDiv;_qDivClass;constructor(e){super(),this._listDiv=e,this._contentDiv=e.querySelector(".content")}_createQDiv(e){const[t,s]=n(e,this._categoryTypeName,this._categoryName),i=o(e.questionDetails,0,s);i.classList.add(this._qDivClass);const r=this._createQTextElem(e,t,s),a=this._createtQScoreElem(e);this._setupQImg(e,i);const c={qSourceItem:i,qText:r,qScore:a,catTypeName:t,catName:s};return this._addToQDiv(c),i}_handleRateBtnClick(e,t){this.dispatchEvent(new CustomEvent("answerSingleQ",{detail:{question:t}}))}_buildContentDiv(e){for(let t of e){const e=this._createQDiv(t);this._contentDiv.appendChild(e)}}_createQTextElem(e,t,s){const i=document.createElement("p");return i.innerText=r(e.questionDetails,"qSourceDisplayText",0,s),i.classList.add("q-text"),i}_createtQScoreElem(e){const t=document.createElement("p");return t.innerText=this._getScoreText(e),t.classList.add("user-score"),t}_setupQImg(e,t){const s=t.querySelector("img")??t.querySelector(".placeholder-img");s.addEventListener("click",(t=>{this._handleRateBtnClick(t,e)}));const i=document.createElement("div");i.classList.add("q-source-img-wrapper"),i.appendChild(s),t.insertBefore(i,t.children[0]);const n=document.createElement("div");n.classList.add("q-source-item-hover");const r=document.createElement("span");r.innerText=this._getHoverText(),r.classList.add("q-source-hover-txt"),n.appendChild(r),i.appendChild(n)}}class y{catTypes={};constructor(e=null,t=null){e&&(this.catTypes=e.catTypes),t&&this.#p(t)}#p(e){for(let t of e)for(let e of t.categories){const s={isRecommendable:e.isRecommendable};this.checkAndAddCategoryWithType(t.name,e.name,s)}}checkAndAddCategoryWithType(e,t,s=null){const i=this._doesCategoryOrTypeExist(e,t);"nor"===i?this._addTypeAndCategory(e,t,s):"typeOnly"===i&&this._addCategory(e,t,s)}cloneWithData(e,t){const s=new y,i=this.getAllCategories();for(let n of i){const i=n.categoryType,r=n.category,a=e(i,r,t);s.checkAndAddCategoryWithType(i,r,a)}return s}getAllCategories(e=!1){const t=[];for(let s in this.catTypes)for(let i in this.catTypes[s]?.categories){const n={categoryType:s,category:i};if(e){const e=this.catTypes[s].categories[i];for(let t in e)n[t]=e[t]}t.push(n)}return t}_doesCategoryOrTypeExist(e,t){return e in this.catTypes?t in(this.catTypes.categoryTypeName?.categories??[])?"typeAndCat":"typeOnly":"nor"}_addTypeAndCategory(e,t,s){this.catTypes[e]={categories:{}},this._addCategory(e,t,s)}_addCategory(e,t,s){this.catTypes[e].categories[t]=null,s&&this._setData(e,t,s)}_setData(e,t,s){this.catTypes[e].categories[t]={};for(let i in s)this.catTypes[e].categories[t][i]=s[i]}}class g{#m;categoryInfo;constructor(e){this.#m=e}getSelectedCategoryInfo(){let e=new y;return this.#m.forEach((function(t){if(t.checked){const s=t.getAttribute("name").split(".");e.checkAndAddCategoryWithType(s[0],s[1])}})),this.categoryInfo=e,this.categoryInfo}getNumSelected(){return Array.from(this.#m).reduce(((e,t)=>e+t.checked),0)}}const w={_rebuildContentDiv(e){this._clearContentDiv(),this._buildContentDiv(e)},_clearContentDiv(){this._contentDiv.replaceChildren()},_showLoader(){return(0,e.tA)(this._contentDiv,this._loader)},_hideLoader(){return(0,e.tA)(this._loader,this._contentDiv)},async handleUpdateBtnClick(){const e=this._showLoader(),t=await this._getUpdatedSourceData();await e,this._rebuildContentDiv(t),this._hideLoader()},validateHandleUpdate(e,t){this._validateSelections()?(e.scrollIntoView({behavior:"smooth"}),this.handleUpdateBtnClick()):alert(t)}};class v extends m{#y=null;#g;#w;#v;_loader;_qDivClass="rec-item";static#_='At least one category must be selected from each of the "Recommend for" and "Based on" groups.';static#q=["You're one of a kind!","We couldn't find anyone similar enough to you for the selected categories. Try a different selection or answer more questions."];static#T=["No recommendations!","Your Kindred spirits for the categories selected have nothing to recommend you that you haven't rated already! Try a different selection."];constructor(e){super(e),this._loader=e.querySelector(".loader");const t=document.querySelector(".recommendations-for"),s=document.querySelector(".based-on"),i=t.querySelectorAll(".category-checkbox"),n=s.querySelectorAll(".category-checkbox");this.#g=new g(i),this.#w=new g(n),this.#v=document.querySelector(".get-recs-btn"),this.#v.addEventListener("click",(()=>{this.validateHandleUpdate(this._listDiv,v.#_)}))}_buildContentDiv(e){e.numKindred>0?e.recommendList.length>0?super._buildContentDiv(e.recommendList):this.#Q(v.#T):this.#Q(v.#q)}#Q(e){const t=document.createElement("div"),s=document.createElement("h5"),i=document.createElement("p");s.innerText=e[0],i.innerText=e[1],t.appendChild(s),t.appendChild(i),t.classList.add("no-recs-msg"),this._contentDiv.appendChild(t)}_validateSelections(){const e=this.#g.getNumSelected(),t=this.#w.getNumSelected();return e>0&&t>0}_addToQDiv(e){e.qSourceItem.appendChild(e.qText),e.qSourceItem.insertBefore(e.qScore,e.qSourceItem.children[0]);const t=document.createElement("p"),s=document.createElement("p");return t.classList.add("rec-cat-type"),s.classList.add("rec-cat"),[t.innerText,s.innerText]=[e.catTypeName,e.catName],e.qSourceItem.appendChild(t),e.qSourceItem.appendChild(s),e.qSourceItem}async getRecs(){const e={recommendationsFor:this.#g.getSelectedCategoryInfo(),basedOn:this.#w.getSelectedCategoryInfo()},t=await fetch("/recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}_handleRateBtnClick(e,t){this.#y=e.currentTarget.parentNode.parentNode,super._handleRateBtnClick(e,t)}removeAnsweredQ(){this._contentDiv.removeChild(this.#y)}_getScoreText(e){return e.rating.strength.toFixed(1)}async#f(){return this.dispatchEvent(new CustomEvent("getRecsClick")),await new Promise((e=>{this.addEventListener("postAnswersComplete",e(),{once:!0})})),await this.getRecs()}async _getUpdatedSourceData(){return await this.#f()}_getHoverText(){return"Rate it!"}}Object.assign(v.prototype,w);var _=s(922);class q extends i{queueInputPanel;async answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0);this.questionsQueue.savePrevQ(t._id);const s=this.getAnswerObj(e,t);this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._showCurrQ(),await this.questionsQueue.update()&&this.questionsQueue.checkForOutdatedQs(!0)}_showCurrQ(){const e=this.queueInputPanel?.includeAlreadyAnsweredCheckbox.checked;super._showCurrQ(e)}async activate(){super.activate()}async updateQueueAndShowFirst(e=!1){this.answerUiPanel.showLoader(),await this.updateQueue(e),this.answerUiPanel.hideLoader(),this._showCurrQ()}async updateQueue(e){await this.questionsQueue.update(e),this.questionsQueue.checkForOutdatedQs()}}class T{#C=!1;questionsModes;qModeSwitcher;currQuestionMode;categoryTypeName;categoryName;notYetPostedAnswers=[];allRecentAnswers=[];static#S=6e5;constructor(e,t=[],s=null,i=null){this.questionsModes=e,this.qModeSwitcher=t,this.categoryTypeName=s,this.categoryName=i}init(){for(let e of this.questionsModes)e.init();window.addEventListener("beforeunload",(()=>{this._postAnswers(!0)})),setInterval((()=>{this._postAnswers(!1)}),T.#S);for(let e of this.questionsModes)e.addEventListener("answeredQ",(e=>{const t=e.detail.answerObj;this._handleNewAnswer(t)}));this.#A()}#A(){for(let e of this.qModeSwitcher){const t=e.btn,s=e.mode;t.addEventListener("click",(async()=>{this.#C||this.currQuestionMode===s||(this.#C=!0,await this.switchQMode(s),this.#C=!1)}))}}_handleNewAnswer(e){this._updateAnsArrayWithAns(this.notYetPostedAnswers,e),this._updateAnsArrayWithAns(this.allRecentAnswers,e),this._setRecentAnswers()}removeQmode(){this.currQuestionMode.deactivate()}async setQMode(e){this.currQuestionMode=e,await this.currQuestionMode.activate(),this._setRecentAnswers(),this.currQuestionMode instanceof q&&await this.currQuestionMode.updateQueueAndShowFirst()}_setRecentAnswers(){"recs"!==this.currQuestionMode?.name&&this.currQuestionMode.setRecentAnswers(this.allRecentAnswers)}_updateAnsArrayWithAns(e,t){(0,_.cT)(e,t,((e,t)=>e.questionId===t.questionId))}async switchQMode(t){this.removeQmode(),await(0,e.xS)(this.currQuestionMode.mainDiv),await this.setQMode(t)}resetAnswers(){this.notYetPostedAnswers=[]}clearRecentlyPostedAnswers(e){for(let s of e){const e=t(s,this.allRecentAnswers);e>-1&&this.allRecentAnswers.splice(e,1)}function t(e,t){return t.findIndex((t=>{let s=!0;const i=["questionId","skip","answerVal"];for(let n in t)if(i.includes(n)&&(s=t[n]===e[n],!s))break;return s}))}}async _postAnswers(e=!1){if(0===this.notYetPostedAnswers.length)return;const[t,s]=this.#D(),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"answers",data:s})};e&&(i.keepalive=!0),this.resetAnswers(),await fetch(t,i),this.clearRecentlyPostedAnswers(s)}#D(){let e,t;return this.categoryName?(e=`/questions/${this.categoryTypeName}/${this.categoryName}`,t=this.notYetPostedAnswers.slice()):(e="/questions/mixed-categories",t=this.#x(this.notYetPostedAnswers)),[e,t]}#x(e){const t=[];for(let i of e){const e=i.questionDetails.categoryTypeName,n=i.questionDetails.categoryName,r=t.findIndex((t=>{const s=t.catType===e,i=t.cat===n;return s&&i})),a=s(i);if(r>-1)t[r].answers.push(a);else{const s={catType:e,cat:n,answers:[a]};t.push(s)}}function s(e){return delete e.questionDetails.categoryName,delete e.questionDetails.categoryTypeName,e}return t}}s(300);const Q=document.querySelector(".single-answer-mode"),f=document.querySelector(".recommendations-list"),C=new v(f),S=new class extends p{name="recs";answerQuestion(e){super.answerQuestion(e).skip||this._qSource.removeAnsweredQ()}_makeQuestion(e){const t={_id:e.questionId,categoryTypeName:e.categoryType,categoryName:e.category};for(let s in e.questionDetails)t[s]=e.questionDetails[s];return t}}(Q,C),A=new class extends T{setQMode(e){super.setQMode(e),this.currQuestionMode._qSource.addEventListener("getRecsClick",(async()=>{this._postAnswers()}))}async _postAnswers(e=!1){super._postAnswers(e),this.currQuestionMode._qSource.dispatchEvent(new CustomEvent("postAnswersComplete"))}}([S]);A.init(),window.onload=async()=>{await A.setQMode(S)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjb21tZW5kYXRpb25zLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoib0hBUU8sU0FBU0EsRUFBT0MsR0FDckJBLEVBQUtDLFVBQVVDLE9BQU8sZ0JBQ3RCQyxZQUFXLElBQU1ILEVBQUtDLFVBQVVDLE9BQU8sZ0JBQWdCLEdBQ3pELENBT09FLGVBQWVDLEVBQVlMLEdBQ2hDRCxFQUFPQyxTQU5GSSxlQUE0QkosU0FDM0IsUUFBZ0JBLEVBQU0sVUFDOUIsQ0FLUU0sQ0FBYU4sRUFDckIsQ0FFTyxTQUFTTyxFQUFRUCxHQUN0QkEsRUFBS0MsVUFBVU8sSUFBSSxjQUNyQixDQUlPSixlQUFlSyxFQUFjVCxTQUM1QixRQUFnQkEsRUFBTSxXQUM1QkEsRUFBS0MsVUFBVU8sSUFBSSxlQUNyQixDQUdPSixlQUFlTSxFQUFhVixHQUNqQ08sRUFBUVAsU0FDRlMsRUFBY1QsRUFDdEIsQ0FJTyxTQUFTVyxFQUFXQyxFQUFPQyxHQU9oQyxPQU40QixJQUFJQyxTQUFRVixnQkFDaENNLEVBQWFFLFNBQ2JQLEVBQVlRLEdBQ2xCRSxHQUFTLEdBSWIsQyw2QkM1Q0EsTUFBTUMsRUFDSixHQUNBLEdBRUFDLFlBQVlDLEdBQ1ZDLE1BQUssRUFBT0QsRUFBZ0JFLGNBQWMsWUFDMUNELE1BQUssRUFBV0QsRUFBZ0JFLGNBQWMsbUJBQ2hELENBRUFDLE9BQ0VGLE1BQUssRUFBbUJBLE1BQUssRUFBTUEsTUFBSyxFQUMxQyxDQUVBLEdBQW1CRyxFQUFLQyxHQUN0QkQsRUFBSUUsaUJBQWlCLFNBQVMsS0FDNUJMLE1BQUssRUFBb0JHLEVBQUtDLEVBQVEsR0FDckMsQ0FBQ0UsTUFBTSxHQUNaLENBRUFyQixRQUEwQmtCLEVBQUtDLFNBQ3ZCLFFBQVlBLEdBQ2xCRyxPQUFPRixpQkFBaUIsU0FBU3BCLGdCQUN6QixRQUFhbUIsR0FDbkJKLE1BQUssRUFBbUJHLEVBQUtDLEVBQVEsR0FDcEMsQ0FBQ0UsTUFBTSxHQUNaLEVBS3lCRSxTQUFTQyxpQkFBaUIsc0JBRWxDQyxTQUFRWCxJQUNSLElBQUlGLEVBQU9FLEdBQ25CRyxNQUFNLEcsZ0JDaUJWLFNBQVNTLEVBQXlCQyxFQUFPQyxFQUFTQyxHQUN2RCxNQUFNQyxFQUFhSCxFQUFNSSxXQUFVQyxHQUFXSCxFQUFhRyxFQUFTSixLQUdoRUUsR0FBYyxFQUNoQkgsRUFBTU0sT0FBT0gsRUFBWSxFQUFHRixHQUk1QkQsRUFBTU8sS0FBS04sRUFFZixDQUlPLFNBQVNPLEVBQWdCdkMsRUFBTXdDLEVBQVcsTUFDL0MsT0FBTyxJQUFJMUIsU0FBUUMsSUFDakJmLEVBQUt3QixpQkFBaUIsaUJBQWlCcEIsVUFFakNvQyxHQUNFQyxFQUFJQyxlQUFpQkYsU0FLakJELEVBQWdCdkMsRUFBTXdDLEdBSjVCekIsS0FVRkEsR0FDRCxHQUVBLENBQUNVLE1BQU0sR0FBTSxHQUVwQixDLDZCQzVGSWtCLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsRyxtQkNBM0UsTUFBTUksRUFDWEMsUUFDQUMsVUFDQUMsUUFDQUMsUUFDQUMsWUFDQUMsaUJBQ0FDLGlCQUNBQyxXQUNBQyxXQUNBQyxPQUNBQyxRQUVBMUQsWUFBWTJELEdBQ1Z6RCxLQUFLOEMsUUFBVVcsRUFBU3hELGNBQWMsaUJBQ3RDRCxLQUFLK0MsVUFBWS9DLEtBQUs4QyxRQUFRN0MsY0FBYyxlQUM1Q0QsS0FBS2dELFFBQVVoRCxLQUFLOEMsUUFBUTdDLGNBQWMsYUFDMUNELEtBQUtpRCxRQUFVakQsS0FBSzhDLFFBQVE3QyxjQUFjLGFBQzFDRCxLQUFLa0QsWUFBY2xELEtBQUs4QyxRQUFRN0MsY0FBYyxpQkFDOUNELEtBQUttRCxpQkFBbUJuRCxLQUFLa0QsWUFBWWpELGNBQWMsU0FDdkRELEtBQUtvRCxpQkFBbUJwRCxLQUFLOEMsUUFBUTdDLGNBQWMsa0JBQ25ERCxLQUFLcUQsV0FBYXJELEtBQUs4QyxRQUFRN0MsY0FBYyxrQkFDN0NELEtBQUtzRCxXQUFhdEQsS0FBSzhDLFFBQVE3QyxjQUFjLGlCQUM3Q0QsS0FBS3VELE9BQVN2RCxLQUFLOEMsUUFBUTdDLGNBQWMsV0FDekNELEtBQUt3RCxRQUFVeEQsS0FBSzhDLFFBQVE3QyxjQUFjLFdBQzVDLENBR0F5RCxhQUFhQyxFQUFVQyxHQUNyQjVELE1BQUssRUFBaUIyRCxHQUd0QjNELEtBQUtvRCxpQkFBaUJTLFVBQVlGLEVBQVNHLFVBQzNDOUQsS0FBS3NELFdBQVdTLFVBQVksR0FFNUIsTUFBTUMsRUFBWWhFLE1BQUssRUFBYTJELEVBQVVDLEdBSTlDNUQsS0FBS21ELGlCQUFpQmMsTUFBUUQsRUFDOUJoRSxLQUFLbUQsaUJBQWlCZSxjQUFjLElBQUlDLE1BQU0sU0FDaEQsQ0FFQWxGLG1CQUNFZSxLQUFLdUQsT0FBT3pFLFVBQVVDLE9BQU8sZ0JBQzdCaUIsS0FBS3dELFFBQVExRSxVQUFVTyxJQUFJLGdCQUMzQlcsS0FBS3dELFFBQVExRSxVQUFVTyxJQUFJLGNBQzdCLENBRUFKLG1CQUNFZSxLQUFLdUQsT0FBT3pFLFVBQVVPLElBQUksZ0JBQzFCVyxLQUFLd0QsUUFBUTFFLFVBQVVDLE9BQU8sZ0JBQzlCQyxZQUFXLElBQU1nQixLQUFLd0QsUUFBUTFFLFVBQVVDLE9BQU8sZ0JBQWdCLEdBQ2pFLENBR0EsR0FBaUI0RSxHQUVYQSxFQUFTUyxXQUNYcEUsS0FBSytDLFVBQVVqRSxVQUFVTyxJQUFJLFVBRzdCVyxLQUFLK0MsVUFBVWpFLFVBQVVDLE9BQU8sU0FFcEMsQ0FLQSxHQUFhNEUsRUFBVUMsR0FDckIsSUFBSVMsRUFBZSxFQWlCbkIsT0FiSVQsR0FBMEJELEVBQVNXLFVBQ3JDdEUsS0FBS3FELFdBQVd2RSxVQUFVQyxPQUFPLFVBQ2pDaUIsS0FBS3NELFdBQVdTLFVBQVksVUFFdkJKLEVBQVNXLFNBQVNDLE9BQ3JCRixFQUFlVixFQUFTVyxTQUFTRSxVQUNqQ3hFLEtBQUtzRCxXQUFXUyxVQUFZTSxJQUk5QnJFLEtBQUtxRCxXQUFXdkUsVUFBVU8sSUFBSSxVQUd6QmdGLENBQ1QsRUNuRkssTUFBTUksVUFBc0JDLFlBQ2pDNUIsUUFDQTZCLGNBQ0FDLGVBQ0F6RSxJQUVBTCxZQUFZZ0QsRUFBUzNDLEVBQU0sTUFDekIwRSxRQUNBN0UsS0FBSzhDLFFBQVVBLEVBQ2Y5QyxLQUFLRyxJQUFNQSxFQUNYSCxLQUFLMkUsY0FBZ0IsSUFBSTlCLEVBQWNDLEVBQ3pDLENBR0E1QyxPQUNFRixLQUFLMkUsY0FBYzNCLFFBQVEzQyxpQkFBaUIsU0FBU2lCLElBQ25EdEIsS0FBSzhFLGVBQWV4RCxFQUFJLElBRTFCdEIsS0FBSzJFLGNBQWMxQixRQUFRNUMsaUJBQWlCLFNBQVNpQixJQUNuRHRCLEtBQUs4RSxlQUFleEQsRUFBSSxHQUU1QixDQUdBeUQsaUJBQWlCQyxHQUNmaEYsS0FBSzRFLGVBQWVHLGlCQUFpQkMsRUFDdkMsQ0FJQUMsV0FBV0MsR0FBc0IsR0FHL0IsTUFBTUMsRUFBZW5GLEtBQUs0RSxlQUFlUSxlQUV6Q3BGLEtBQUsyRSxjQUFjakIsYUFBYXlCLEVBQWNELEVBQ2hELENBR0FHLGFBQWFDLEVBQU9DLEdBQ2xCLE1BQU1DLEVBQWVGLEVBQU1HLGdCQUFrQnpGLEtBQUsyRSxjQUFjMUIsUUFDMUR5QyxFQUFhRixFQUFjLEtBQU9HLE9BQU8zRixLQUFLMkUsY0FDbER4QixpQkFBaUJjLE9BRWIyQixFQUFrQjVGLEtBQUs2RixvQkFBb0JOLEdBRTNDTyxFQUFhLENBQ2pCQyxXQUFZUixFQUFhUyxJQUN6QnpCLEtBQU1pQixFQUNOSSxnQkFBaUJBLEdBT25CLE9BSktKLElBQ0hNLEVBQVd0QixVQUFZa0IsR0FHbEJJLENBQ1QsQ0FJQUQsb0JBQW9CTixHQUNsQixNQUFNSyxFQUFrQixDQUFDLEVBQ25CSyxFQUFnQixDQUFDLE1BQU8sYUFBYyxjQUFlLFdBRTNELElBQUssSUFBSXhELEtBQVE4QyxFQUNJVSxFQUFjQyxTQUFTekQsS0FFMUNtRCxFQUFnQm5ELEdBQVE4QyxFQUFhOUMsSUFHdkMsT0FBT21ELENBQ1QsQ0FFQU8sV0FDTW5HLEtBQUtHLEtBQ1BILEtBQUtHLElBQUlyQixVQUFVTyxJQUFJLGtCQUd6QixRQUFPVyxLQUFLOEMsUUFDZCxDQUVBc0QsYUFDTXBHLEtBQUtHLEtBQ1BILEtBQUtHLElBQUlyQixVQUFVQyxPQUFPLGtCQUc1QixRQUFRaUIsS0FBSzhDLFFBQ2YsRUMxRkssU0FBU3VELEVBQWFDLEVBQUdDLEVBQVlDLEdBQzFDLE9BQU8sRUFBVyxDQUFDRCxFQUFZQyxHQUM3QixDQUFDRixFQUFFRyxrQkFBb0JILEVBQUVJLGFBQWNKLEVBQUVLLGNBQWdCTCxFQUFFTSxTQUMvRCxDQUdPLFNBQVNDLEVBQVNQLEVBQUdRLEVBQVFDLEVBQWFDLEdBQy9DLElBQUlDLEVBRUosT0FBb0JELEdBRWxCLElBQW1CLFFBU25CLElBQW1CLEtBQ2pCQyxFQUFPLENBQ0xDLFFBQVNaLEdBQUdhLFdBQWEsbUNBQW1DYixFQUFFYSxhQUFlLEtBQzdFQyxhQUFjLEdBQUdkLEdBQUdlLFVBQVVDLEVBQXNCaEIsR0FBR2lCLGdCQUN2REMsbUJBQW9CLEdBQUdsQixHQUFHZSxRQUMxQkksa0JBQW1CLEdBQUduQixHQUFHZSxTQUUzQixNQUVGLElBQW1CLFFBQ2pCSixFQUFPLENBQ0xDLFFBQVNaLEdBQUdvQixNQUNaTixhQUFjLEdBQUdkLEdBQUdxQixlQUFlckIsR0FBR3NCLFdBQVd0QixHQUFHdUIsV0FBVyxJQUFJQyxLQUFLeEIsR0FBR2lCLGFBQWFRLGlCQUN4RlAsbUJBQW9CLEdBQUdsQixHQUFHcUIsZUFBZXJCLEdBQUdzQixTQUM1Q0gsa0JBQW1CLEdBQUduQixHQUFHcUIsYUFFM0IsTUFFRixJQUFtQixjQUNqQlYsRUFBTyxDQUNMQyxRQUFTWixHQUFHb0IsTUFBUSx5REFBeURwQixFQUFFb0IsWUFBYyxLQUM3Rk4sYUFBYyxHQUFHZCxHQUFHZSxVQUFVQyxFQUFzQmhCLEdBQUdpQixrQkFBa0JqQixFQUFFMEIsYUFDM0VSLG1CQUFvQixHQUFHbEIsR0FBR2UsUUFDMUJJLGtCQUFtQixHQUFHbkIsR0FBR2UsU0FFM0IsTUFFRixJQUFtQixRQUNqQkosRUFBTyxDQUNMQyxRQUFTWixHQUFHb0IsTUFBUSx1Q0FBdUNwQixFQUFFb0IsY0FBZ0IsS0FDN0VOLGFBQWMsR0FBR2QsR0FBR2UsVUFBVWYsR0FBRzJCLFVBQ2pDVCxtQkFBb0IsR0FBR2xCLEdBQUdlLFFBQzFCSSxrQkFBbUIsR0FBR25CLEdBQUdlLFNBRTNCLE1BRUYsUUFDRUosRUFBTyxDQUNMQyxRQUFTLEtBQ1RFLGFBQWNkLEdBQUc0QixLQUNqQlYsbUJBQW9CbEIsR0FBRzZCLFVBQ3ZCVixrQkFBbUJuQixHQUFHNkIsV0FBYTdCLEVBQUU0QixNQUkzQyxPQUFPakIsRUFBS0gsRUFDZCxDQUVBLFNBQVNRLEVBQXNCQyxHQUM3QixPQUFPQSxFQUFjLElBQUlPLEtBQUtQLEdBQWFRLGNBQWdCLFNBQzdELENBSU8sU0FBU0ssRUFBZTlCLEVBQUdTLEVBQWFDLEdBQzdDLE1BQU1xQixFQUFVN0gsU0FBUzhILGNBQWMsT0FFakNwQixFQUFVTCxFQUFTUCxFQUFHLFVBQVdTLEVBQWFDLEdBRXBELEdBQUlFLEVBQVMsQ0FDWCxNQUFNcUIsRUFBUy9ILFNBQVM4SCxjQUFjLE9BQ3RDQyxFQUFPQyxhQUFhLE1BQU90QixHQUUzQnFCLEVBQU9DLGFBQWEsTUFBT2xDLEdBQUdlLE9BQzlCZ0IsRUFBUUksWUFBWUYsRUFDdEIsS0FDSyxDQUNILE1BQU1HLEVBQVdsSSxTQUFTOEgsY0FBYyxPQUN4Q0ksRUFBUzVKLFVBQVVPLElBQUksbUJBQ3ZCLE1BQU1zSixFQUFZbkksU0FBUzhILGNBQWMsUUFDbkNNLEVBQWtCL0IsRUFBU1AsRUFBRyxvQkFBcUJTLEVBQWFDLEdBQ3RFMkIsRUFBVTVFLFVBQVk2RSxFQUV0QkYsRUFBU0QsWUFBWUUsR0FDckJOLEVBQVFJLFlBQVlDLEVBQ3RCLENBRUEsR0FBSXBDLEVBQUV1QyxXQUFZLENBQ2hCLE1BQU1DLEVBQWlCdEksU0FBUzhILGNBQWMsU0FDOUNRLEVBQWVOLGFBQWEsV0FBWSxRQUN4Q00sRUFBZU4sYUFBYSxNQUFPbEMsRUFBRXVDLFlBQ3JDUixFQUFRSSxZQUFZSyxFQUN0QixDQUVBLE9BQU9ULENBQ1QsQ0N0R08sTUFBTVUsRUFDWEMsT0FBUyxHQUNULEdBQWtCLEVBQ2xCLEdBQ0EsR0FFQWxKLFlBQVltSixFQUFjdkMsRUFBY0UsR0FDdEM1RyxLQUFLZ0osT0FBU0MsRUFBYWhKLGNBQWMsZUFDekNELE1BQUssRUFBb0IwRyxFQUN6QjFHLE1BQUssRUFBZ0I0RyxFQUVyQjVHLEtBQUtnSixPQUFPM0ksaUJBQWlCLGlCQUFpQmlCLElBQzVDdEIsTUFBSyxFQUFlc0IsRUFBSSxHQUU1QixDQUtBLEdBQWVBLEdBQ1ksU0FBckJBLEVBQUlDLGVBRVJ2QixNQUFLLElBQ0xBLEtBQUtrSixZQUFZLEdBQ2pCbEosS0FBS2dKLE9BQU9sSyxVQUFVQyxPQUFPLDRCQUl6QmlCLE1BQUssRUFBa0IsR0FDekJoQixZQUFXLElBQU1nQixNQUFLLEtBQWlCLEdBRTNDLENBR0FtSixXQUFXQyxHQUNULElBQUssSUFBSTlDLEtBQUs4QyxFQUFJLENBQ2hCLE1BQU9yQyxFQUFhQyxHQUFXWCxFQUFhQyxFQUMxQ3RHLE1BQUssRUFBbUJBLE1BQUssR0FFekJxSSxFQUFVRCxFQUFlOUIsRUFBR1MsRUFBYUMsR0FDL0NxQixFQUFRRyxhQUFhLFVBQVdsQyxFQUFFTixLQUNsQ2hHLEtBQUtnSixPQUFPUCxZQUFZSixFQUMxQixDQUNGLENBR0FnQixnQkFBZ0JDLEVBQUtDLEdBQ2Z2SixLQUFLZ0osT0FBT1Esa0JBR0YsSUFBUkYsR0FBYUMsR0FDZnZKLE1BQUssSUFDTEEsTUFBSyxLQUtMQSxLQUFLa0osWUFBWUksR0FHdkIsQ0FHQUosWUFBWUksR0FLTnRKLEtBQUtnSixPQUFPbEssVUFBVTJLLFNBQVMsNkJBQStCSCxFQUFNLEdBQ3RFQSxJQUdGdEosS0FBS2dKLE9BQU9VLFlBQVkxSixLQUFLZ0osT0FBT1csU0FBU0wsR0FDL0MsQ0FHQSxLQUNFdEosS0FBS2dKLE9BQU9sSyxVQUFVTyxJQUFJLDJCQUM1QixDQUVBdUssYUFDRTVKLEtBQUtnSixPQUFPakYsVUFBWSxFQUMxQixFQ25GSyxNQUFNOEYsRUFDWEMsa0JBQ0FDLGNBQ0FDLE1BQVEsR0FDUkMsVUFDQUMsVUFDQUMsYUFBZSxHQUVmckssWUFBWW1KLEVBQWN2QyxFQUFlLEtBQU1FLEVBQVcsTUFDeEQ1RyxLQUFLOEosa0JBQW9CcEQsRUFDekIxRyxLQUFLK0osY0FBZ0JuRCxFQUNyQjVHLEtBQUtrSyxVQUFZLElBQUluQixFQUFTRSxFQUFjdkMsRUFBY0UsRUFDNUQsQ0FHQXhCLGVBQ0UsSUFBSXRCLEVBQ0FRLEVBQ0FGLEdBQWEsRUFHakIsR0FBMEIsSUFBdEJwRSxLQUFLZ0ssTUFBTUksT0FDYnRHLEVBQVk5RCxLQUFLcUssa0JBQ2pCakcsR0FBYSxNQUVWLENBQ0gsTUFBTWtHLEVBQVF0SyxLQUFLZ0ssTUFBTSxJQUNsQmpELEVBQWFDLEdBQVdYLEVBQWFpRSxFQUFPdEssS0FBSzhKLGtCQUN0RDlKLEtBQUsrSixlQUVQakcsRUFBWStDLEVBQVN5RCxFQUFPLGVBQWdCdkQsRUFBYUMsR0FDekQxQyxFQUFXZ0csRUFBTUMsT0FDbkIsQ0FFQSxNQUFPLENBQUNuRyxhQUFZTixZQUFXUSxXQUNqQyxDQUVBK0Ysa0JBQ0UsT0FBT3JLLEtBQUt3SyxXQUNkLENBSUFuQixnQkFBZ0JDLEVBQUtDLEdBQ25CLE1BQU1rQixFQUFnQnpLLEtBQUtnSyxNQUFNVixHQUlqQyxPQUhBdEosS0FBS2dLLE1BQU05SSxPQUFPb0ksRUFBSyxHQUN2QnRKLEtBQUtrSyxVQUFVYixnQkFBZ0JDLEVBQUtDLEdBRTdCa0IsQ0FDVCxDQUlBQyxZQUFZdEIsR0FDVnBKLEtBQUtnSyxNQUFRaEssS0FBS2dLLE1BQU1XLE9BQU92QixHQUMvQnBKLEtBQUtrSyxVQUFVZixXQUFXQyxFQUM1QixDQUdBd0IsY0FDRTVLLEtBQUtnSyxNQUFRLEdBQ2JoSyxLQUFLa0ssVUFBVU4sYUFDZjVKLEtBQUttSyxhQUFlLEVBQ3RCLENBRUFVLFVBQVVDLEdBQ1I5SyxLQUFLbUssYUFBYWhKLEtBQUsySixFQUN6QixFQ3BFSyxNQUFNQyxVQUF1QmhDLEVBRWxDTSxnQkFBZ0JDLEVBQUtDLEdBQ2Z2SixLQUFLZ0osT0FBT1EsaUJBQ0YsSUFBUkYsR0FDRnRKLEtBQUtrSixZQUFZSSxFQUd2QixFQ1BLLE1BQU0wQixVQUE0Qm5CLEVBRXZDL0osWUFBWW1KLEVBQWN2QyxFQUFlLEtBQU1FLEVBQVcsTUFDeEQvQixNQUFNb0UsRUFBY3ZDLEVBQWNFLEdBRWxDNUcsS0FBS2tLLFVBQVksSUFBSWEsRUFBZTlCLEVBQWN2QyxFQUFjRSxFQUNsRSxDQUVBcUUsT0FBT0MsR0FDTGxMLEtBQUs0SyxjQUNMNUssS0FBSzBLLFlBQVksQ0FBQ1EsR0FDcEIsRUNaSyxNQUFNQyxFQUNYQyxRQUNBLEdBQ0EsR0FFQXRMLFlBQVlzTCxHQUNWcEwsS0FBS29MLFFBQVVBLEVBQ2ZwTCxNQUFLLEVBQVNvTCxFQUFRbkwsY0FBYyxpQkFDcENELE1BQUssRUFBaUJBLE1BQUssRUFBT0MsY0FBYyxTQUNsRCxDQUdBQyxPQUNFLE1BQU1tTCxFQUFrQixDQUFDckwsTUFBSyxFQUFnQkEsS0FBS29MLFNBRW5ELElBQUssSUFBSUUsS0FBa0JELEVBQ3pCQyxFQUFlakwsaUJBQWlCLFNBQVMsSUFBTUwsS0FBS3VMLFNBR3REdkwsTUFBSyxFQUFPSyxpQkFBaUIsU0FBU2lCLEdBQU9BLEVBQUlrSyxtQkFDbkQsQ0FFQUMsUUFDRSxRQUFPekwsS0FBS29MLFFBQ2QsQ0FFQUcsUUFDRSxRQUFhdkwsS0FBS29MLFFBQ3BCLEVDdkJLLE1BQU1NLFVBQXlCakgsRUFDcENrSCxLQUFPLFNBQ1BDLFNBQ0FDLGVBRUEvTCxZQUFZZ0QsRUFBU2dKLEVBQVMzTCxFQUFNLE1BQ2xDMEUsTUFBTS9CLEVBQVMzQyxHQUNmSCxLQUFLNEUsZUFBaUIsSUFBSW9HLEVBQW9CbEksR0FDOUM5QyxLQUFLNEwsU0FBV0UsRUFFaEIsTUFBTUMsRUFBZWpKLEVBQVE3QyxjQUFjLHlCQUMzQ0QsS0FBSzZMLGVBQWlCLElBQUlWLEVBQVlZLEVBQ3hDLENBRUE3TCxPQUNFMkUsTUFBTTNFLE9BRU5GLEtBQUs0TCxTQUFTdkwsaUJBQWlCLGlCQUFpQmlCLElBQzlDdEIsS0FBS2dNLG9CQUFvQjFLLEVBQUksSUFHL0J0QixLQUFLNkwsZUFBZTNMLE1BQ3RCLENBR0E0RSxlQUFlUSxHQUNiLE1BQU1DLEVBQWV2RixLQUFLNEUsZUFBZXlFLGdCQUFnQixHQUFHLEdBR3RENEMsRUFBWWpNLEtBQUtxRixhQUFhQyxFQUFPQyxHQVUzQyxPQVBBdkYsS0FBS2tFLGNBQ0gsSUFBSWdJLFlBQVksWUFBYSxDQUFDcEYsT0FBUSxDQUFDbUYsVUFBV0EsTUFJcERqTSxLQUFLNkwsZUFBZU4sT0FFYlUsQ0FDVCxDQUVBRCxvQkFBb0IxSyxHQUVsQixNQUFNNkssRUFBWTdLLEVBQUl3RixPQUFPb0UsU0FDdkJrQixFQUFlcE0sS0FBS3FNLGNBQWNGLEdBQ3hDbk0sS0FBSzRFLGVBQWVxRyxPQUFPbUIsR0FHM0JwTSxLQUFLNkwsZUFBZUosT0FJcEJ6TCxLQUFLaUYsWUFDUCxFQzNESyxNQUFNcUgsVUFBMEI1SCxZQUNyQzZILFNBQ0FDLFlBQ0FDLFdBRUEzTSxZQUFZNE0sR0FDVjdILFFBQ0E3RSxLQUFLdU0sU0FBV0csRUFDaEIxTSxLQUFLd00sWUFBY0UsRUFBUXpNLGNBQWMsV0FDM0MsQ0FHQTBNLFlBQVlyRyxHQUNWLE1BQU9TLEVBQWFDLEdBQVdYLEVBQWFDLEVBQUd0RyxLQUFLOEosa0JBQ2xEOUosS0FBSytKLGVBRUQ2QyxFQUFjeEUsRUFBZTlCLEVBQUVWLGdCQUFpQm1CLEVBQ3BEQyxHQUVGNEYsRUFBWTlOLFVBQVVPLElBQUlXLEtBQUt5TSxZQUUvQixNQUFNSSxFQUFRN00sS0FBSzhNLGlCQUFpQnhHLEVBQUdTLEVBQWFDLEdBQzlDK0YsRUFBUy9NLEtBQUtnTixtQkFBbUIxRyxHQUN2Q3RHLEtBQUtpTixXQUFXM0csRUFBR3NHLEdBRW5CLE1BQU1NLEVBQVEsQ0FDWk4sWUFBYUEsRUFDYkMsTUFBT0EsRUFDUEUsT0FBUUEsRUFDUmhHLFlBQWFBLEVBQ2JDLFFBQVNBLEdBSVgsT0FEQWhILEtBQUttTixXQUFXRCxHQUNUTixDQUNULENBRUFRLG9CQUFvQjlMLEVBQUs0SixHQUN2QmxMLEtBQUtrRSxjQUNILElBQUlnSSxZQUFZLGdCQUFpQixDQUFDcEYsT0FBUSxDQUFDb0UsU0FBVUEsS0FFekQsQ0FHQW1DLGlCQUFpQkMsR0FDZixJQUFLLElBQUlwQyxLQUFZb0MsRUFBVyxDQUM5QixNQUFNVixFQUFjNU0sS0FBSzJNLFlBQVl6QixHQUNyQ2xMLEtBQUt3TSxZQUFZL0QsWUFBWW1FLEVBQy9CLENBQ0YsQ0FFQUUsaUJBQWlCeEcsRUFBR1MsRUFBYUMsR0FDL0IsTUFBTTZGLEVBQVFyTSxTQUFTOEgsY0FBYyxLQU1yQyxPQUpBdUUsRUFBTTlJLFVBQVk4QyxFQUFTUCxFQUFFVixnQkFBaUIscUJBQzVDbUIsRUFBYUMsR0FFZjZGLEVBQU0vTixVQUFVTyxJQUFJLFVBQ2J3TixDQUNULENBRUFHLG1CQUFtQjFHLEdBQ2pCLE1BQU15RyxFQUFTdk0sU0FBUzhILGNBQWMsS0FHdEMsT0FGQXlFLEVBQU9oSixVQUFZL0QsS0FBS3VOLGNBQWNqSCxHQUN0Q3lHLEVBQU9qTyxVQUFVTyxJQUFJLGNBQ2QwTixDQUNULENBSUFFLFdBQVczRyxFQUFHc0csR0FDWixNQUFNWSxFQUFPWixFQUFZM00sY0FBYyxRQUNyQzJNLEVBQVkzTSxjQUFjLG9CQUU1QnVOLEVBQUtuTixpQkFBaUIsU0FBU2lCLElBQzdCdEIsS0FBS29OLG9CQUFvQjlMLEVBQUtnRixFQUFFLElBR2xDLE1BQU1tSCxFQUFnQmpOLFNBQVM4SCxjQUFjLE9BQzdDbUYsRUFBYzNPLFVBQVVPLElBQUksd0JBRzVCb08sRUFBY2hGLFlBQVkrRSxHQUMxQlosRUFBWWMsYUFBYUQsRUFBZWIsRUFBWWpELFNBQVMsSUFHN0QsTUFBTWdFLEVBQVduTixTQUFTOEgsY0FBYyxPQUN4Q3FGLEVBQVM3TyxVQUFVTyxJQUFJLHVCQUV2QixNQUFNdU8sRUFBV3BOLFNBQVM4SCxjQUFjLFFBQ3hDc0YsRUFBUzdKLFVBQVkvRCxLQUFLNk4sZ0JBQzFCRCxFQUFTOU8sVUFBVU8sSUFBSSxzQkFFdkJzTyxFQUFTbEYsWUFBWW1GLEdBQ3JCSCxFQUFjaEYsWUFBWWtGLEVBQzVCLEVDakdLLE1BQU1HLEVBQ1hDLFNBQVcsQ0FBQyxFQU1aak8sWUFBWWtPLEVBQVUsS0FBTUMsRUFBYSxNQUNuQ0QsSUFDRmhPLEtBQUsrTixTQUFXQyxFQUFRRCxVQUd0QkUsR0FDRmpPLE1BQUssRUFBdUJpTyxFQUVoQyxDQUlBLEdBQXVCQSxHQUNyQixJQUFLLElBQUlDLEtBQVdELEVBQ2xCLElBQUssSUFBSUUsS0FBT0QsRUFBUUUsV0FBWSxDQUNsQyxNQUFNQyxFQUFZLENBQUNDLGdCQUFpQkgsRUFBSUcsaUJBQ3hDdE8sS0FBS3VPLDRCQUE0QkwsRUFBUXZDLEtBQU13QyxFQUFJeEMsS0FBTTBDLEVBQzNELENBRUosQ0FNQUUsNEJBQTRCOUgsRUFBa0JFLEVBQWM2SCxFQUFPLE1BQ2pFLE1BQU1DLEVBQWtCek8sS0FBSzBPLHlCQUF5QmpJLEVBQWtCRSxHQUNoRCxRQUFwQjhILEVBQ0Z6TyxLQUFLMk8sb0JBQW9CbEksRUFBa0JFLEVBQWM2SCxHQUU5QixhQUFwQkMsR0FDUHpPLEtBQUs0TyxhQUFhbkksRUFBa0JFLEVBQWM2SCxFQUV0RCxDQUlBSyxjQUFjQyxFQUFhQyxHQUN6QixNQUFNQyxFQUFhLElBQUlsQixFQUVqQm1CLEVBQXlCalAsS0FBS2tQLG1CQUVwQyxJQUFLLElBQUlDLEtBQW9CRixFQUF3QixDQUNuRCxNQUFNbEksRUFBY29JLEVBQWlCekksYUFDL0JDLEVBQWV3SSxFQUFpQnZJLFNBQ2hDNEgsRUFBT00sRUFBWS9ILEVBQWFKLEVBQWNvSSxHQUVwREMsRUFBV1QsNEJBQTRCeEgsRUFBYUosRUFBYzZILEVBQ3BFLENBRUEsT0FBT1EsQ0FDVCxDQUlBRSxpQkFBaUJFLEdBQVcsR0FDMUIsTUFBTUMsRUFBc0IsR0FFNUIsSUFBSyxJQUFJbkIsS0FBV2xPLEtBQUsrTixTQUN2QixJQUFLLElBQUluSCxLQUFZNUcsS0FBSytOLFNBQVNHLElBQVVFLFdBQVksQ0FDdkQsTUFBTWtCLEVBQWlCLENBQ3JCNUksYUFBY3dILEVBQ2R0SCxTQUFVQSxHQUdaLEdBQUl3SSxFQUFVLENBQ1osTUFBTUcsRUFBVXZQLEtBQUsrTixTQUFTRyxHQUFTRSxXQUFXeEgsR0FDbEQsSUFBSyxJQUFJMUUsS0FBT3FOLEVBQ2RELEVBQWVwTixHQUFPcU4sRUFBUXJOLEVBRWxDLENBRUFtTixFQUFvQmxPLEtBQUttTyxFQUMzQixDQUdGLE9BQU9ELENBQ1QsQ0FJQVgseUJBQXlCakksRUFBa0JFLEdBQ3pDLE9BQU1GLEtBQW9CekcsS0FBSytOLFNBR3BCcEgsS0FBaUIzRyxLQUFLK04sU0FBU3RILGtCQUFrQjJILFlBQWMsSUFJakUsYUFIQSxXQUhBLEtBUVgsQ0FFQU8sb0JBQW9CbEksRUFBa0JFLEVBQWM2SCxHQUNsRHhPLEtBQUsrTixTQUFTdEgsR0FBb0IsQ0FDaEMySCxXQUFZLENBQUMsR0FFZnBPLEtBQUs0TyxhQUFhbkksRUFBa0JFLEVBQWM2SCxFQUNwRCxDQUVBSSxhQUFhbkksRUFBa0JFLEVBQWM2SCxHQUMzQ3hPLEtBQUsrTixTQUFTdEgsR0FBa0IySCxXQUFXekgsR0FBZ0IsS0FDdkQ2SCxHQUNGeE8sS0FBS3dQLFNBQVMvSSxFQUFrQkUsRUFBYzZILEVBRWxELENBRUFnQixTQUFTL0ksRUFBa0JFLEVBQWM2SCxHQUN2Q3hPLEtBQUsrTixTQUFTdEgsR0FBa0IySCxXQUFXekgsR0FBZ0IsQ0FBQyxFQUM1RCxJQUFLLElBQUl6RSxLQUFPc00sRUFDZHhPLEtBQUsrTixTQUFTdEgsR0FBa0IySCxXQUFXekgsR0FBY3pFLEdBQU9zTSxFQUFLdE0sRUFFekUsRUNuSEssTUFBTXVOLEVBQ1QsR0FDQUMsYUFFQTVQLFlBQVk2UCxHQUNSM1AsTUFBSyxFQUFjMlAsQ0FDdkIsQ0FJQUMsMEJBQ0ksSUFBSUMsRUFBdUIsSUFBSS9CLEVBVy9CLE9BVEE5TixNQUFLLEVBQVlVLFNBQVEsU0FBU29QLEdBQ2hDLEdBQUlBLEVBQVNDLFFBQVMsQ0FDcEIsTUFBTUMsRUFBZ0JGLEVBQVNHLGFBQWEsUUFBUUMsTUFBTSxLQUMxREwsRUFBcUJ0Qiw0QkFBNEJ5QixFQUFjLEdBQzdEQSxFQUFjLEdBQ2xCLENBQ0YsSUFFQWhRLEtBQUswUCxhQUFlRyxFQUNiN1AsS0FBSzBQLFlBQ2hCLENBRUFTLGlCQUVFLE9BRHNCQyxNQUFNQyxLQUFLclEsTUFBSyxHQUNqQnNRLFFBQU8sQ0FBQ0MsRUFBS0MsSUFBVUQsRUFBTUMsRUFBS1QsU0FBVSxFQUNuRSxFQzVCRyxNQUFNVSxFQUFtQixDQUM5QkMsbUJBQW1CbEMsR0FDakJ4TyxLQUFLMlEsbUJBQ0wzUSxLQUFLcU4saUJBQWlCbUIsRUFDeEIsRUFHQW1DLG1CQUNFM1EsS0FBS3dNLFlBQVlvRSxpQkFDbkIsRUFFQUMsY0FDRSxPQUFPLFFBQVc3USxLQUFLd00sWUFBYXhNLEtBQUs4USxRQUMzQyxFQUVBQyxjQUNFLE9BQU8sUUFBVy9RLEtBQUs4USxRQUFTOVEsS0FBS3dNLFlBQ3ZDLEVBRUF2Tiw2QkFDRSxNQUFNK1IsRUFBY2hSLEtBQUs2USxjQUNuQnJDLFFBQWF4TyxLQUFLaVIsOEJBSWxCRCxFQUNOaFIsS0FBSzBRLG1CQUFtQmxDLEdBQ3hCeE8sS0FBSytRLGFBQ1AsRUFJQUcscUJBQXFCQyxFQUFZQyxHQUNMcFIsS0FBS3FSLHVCQUc3QkYsRUFBV0csZUFBZSxDQUFDQyxTQUFVLFdBQ3JDdlIsS0FBS3dSLHdCQUdMQyxNQUFNTCxFQUVWLEdDMUNLLE1BQU1NLFVBQW9CcEYsRUFFL0IsR0FBWSxLQUNaLEdBQ0EsR0FDQSxHQUNBd0UsUUFDQXJFLFdBQWEsV0FFYmtGLFNBQThCLGlHQUM5QkEsU0FBeUIsQ0FBQyx3QkFBeUIsa0lBQ25EQSxTQUE4QixDQUFDLHNCQUF1Qiw2SUFFdEQ3UixZQUFZNE0sR0FDVjdILE1BQU02SCxHQUVOMU0sS0FBSzhRLFFBQVVwRSxFQUFRek0sY0FBYyxXQUVyQyxNQUFNMlIsRUFBYXBSLFNBQVNQLGNBQWMsd0JBQ3BDNFIsRUFBYXJSLFNBQVNQLGNBQWMsYUFDcEM2UixFQUFzQkYsRUFBV25SLGlCQUFpQixzQkFDbERzUixFQUF1QkYsRUFBV3BSLGlCQUFpQixzQkFFekRULE1BQUssRUFBNEIsSUFBSXlQLEVBQW1CcUMsR0FDeEQ5UixNQUFLLEVBQTZCLElBQUl5UCxFQUFtQnNDLEdBRXpEL1IsTUFBSyxFQUFjUSxTQUFTUCxjQUFjLGlCQUUxQ0QsTUFBSyxFQUFZSyxpQkFBaUIsU0FBUyxLQUN6Q0wsS0FBS2tSLHFCQUFxQmxSLEtBQUt1TSxTQUFVbUYsR0FBWSxFQUFxQixHQUU5RSxDQUdBckUsaUJBQWlCMkUsR0FDWEEsRUFBU0MsV0FBYSxFQUNwQkQsRUFBU0UsY0FBYzlILE9BQVMsRUFDbEN2RixNQUFNd0ksaUJBQWlCMkUsRUFBU0UsZUFHaENsUyxNQUFLLEVBQWMwUixHQUFZLEdBSWpDMVIsTUFBSyxFQUFjMFIsR0FBWSxFQUVuQyxDQUdBLEdBQWNTLEdBQ1osTUFBTUMsRUFBZTVSLFNBQVM4SCxjQUFjLE9BQ3RDK0osRUFBZTdSLFNBQVM4SCxjQUFjLE1BQ3RDZ0ssRUFBWTlSLFNBQVM4SCxjQUFjLEtBRXpDK0osRUFBYXRPLFVBQVlvTyxFQUFRLEdBQ2pDRyxFQUFVdk8sVUFBWW9PLEVBQVEsR0FFOUJDLEVBQWEzSixZQUFZNEosR0FDekJELEVBQWEzSixZQUFZNkosR0FFekJGLEVBQWF0VCxVQUFVTyxJQUFJLGVBQzNCVyxLQUFLd00sWUFBWS9ELFlBQVkySixFQUMvQixDQUdBZixzQkFDRSxNQUFNa0IsRUFBaUJ2UyxNQUFLLEVBQTBCbVEsaUJBQ2hEcUMsRUFBYXhTLE1BQUssRUFBMkJtUSxpQkFFbkQsT0FEMkJvQyxFQUFpQixHQUFPQyxFQUFhLENBRWxFLENBRUFyRixXQUFXRCxHQUNUQSxFQUFNTixZQUFZbkUsWUFBWXlFLEVBQU1MLE9BQ3BDSyxFQUFNTixZQUFZYyxhQUFhUixFQUFNSCxPQUFRRyxFQUFNTixZQUFZakQsU0FBUyxJQUV4RSxNQUFNOEksRUFBY2pTLFNBQVM4SCxjQUFjLEtBQ3JDb0ssRUFBVWxTLFNBQVM4SCxjQUFjLEtBVXZDLE9BUkFtSyxFQUFZM1QsVUFBVU8sSUFBSSxnQkFDMUJxVCxFQUFRNVQsVUFBVU8sSUFBSSxZQUVyQm9ULEVBQVkxTyxVQUFXMk8sRUFBUTNPLFdBQWEsQ0FBQ21KLEVBQU1uRyxZQUFhbUcsRUFBTWxHLFNBRXZFa0csRUFBTU4sWUFBWW5FLFlBQVlnSyxHQUM5QnZGLEVBQU1OLFlBQVluRSxZQUFZaUssR0FFdkJ4RixFQUFNTixXQUNmLENBR0EzTixnQkFDRSxNQUdNMFQsRUFBa0IsQ0FDdEJDLG1CQUp5QjVTLE1BQUssRUFBMEI0UCwwQkFLeERpRCxRQUowQjdTLE1BQUssRUFBMkI0UCwyQkFPdERrRCxRQUFzQkMsTUFBTSxtQkFBb0IsQ0FDcERDLE9BQVEsT0FDUkMsUUFBUyxDQUFDLGVBQWdCLG9CQUMxQkMsS0FBTUMsS0FBS0MsVUFBVVQsS0FJdkIsYUFENkJHLEVBQWNPLE1BRTdDLENBSUFqRyxvQkFBb0I5TCxFQUFLNEosR0FDdkJsTCxNQUFLLEVBQWFzQixFQUFJbUUsY0FBYzZOLFdBQVdBLFdBQy9Dek8sTUFBTXVJLG9CQUFvQjlMLEVBQUs0SixFQUNqQyxDQUdBcUksa0JBQ0V2VCxLQUFLd00sWUFBWTlDLFlBQVkxSixNQUFLLEVBQ3BDLENBRUF1TixjQUFjaUcsR0FDWixPQUFPQSxFQUFJQyxPQUFPQyxTQUFTQyxRQUFRLEVBQ3JDLENBR0ExVSxVQVNFLE9BUkFlLEtBQUtrRSxjQUFjLElBQUlnSSxZQUFZLHVCQUc3QixJQUFJdk0sU0FBUUMsSUFDaEJJLEtBQUtLLGlCQUFpQixzQkFBdUJULElBQVcsQ0FBQ1UsTUFBTSxHQUFNLFVBRzFDTixLQUFLNFQsU0FFcEMsQ0FHQTNVLDhCQUNFLGFBQWFlLE1BQUssR0FDcEIsQ0FFQTZOLGdCQUNFLE1BQU8sVUFDVCxFQUdGekwsT0FBT3lSLE9BQU9uQyxFQUFZaFAsVUFBVytOLEcsYUN2SjlCLE1BQU1xRCxVQUE0QnJQLEVBQ3ZDc1AsZ0JBR0E5VSxxQkFBcUJxRyxHQUNuQixNQUFNQyxFQUFldkYsS0FBSzRFLGVBQWV5RSxnQkFBZ0IsR0FBRyxHQUU1RHJKLEtBQUs0RSxlQUFlaUcsVUFBVXRGLEVBQWFTLEtBRzNDLE1BQU1pRyxFQUFZak0sS0FBS3FGLGFBQWFDLEVBQU9DLEdBRzNDdkYsS0FBS2tFLGNBQ0gsSUFBSWdJLFlBQVksWUFBYSxDQUFDcEYsT0FBUSxDQUFDbUYsVUFBV0EsTUFLcERqTSxLQUFLaUYsbUJBR29CakYsS0FBSzRFLGVBQWVxRyxVQUUzQ2pMLEtBQUs0RSxlQUFlb1Asb0JBQW1CLEVBRTNDLENBSUEvTyxhQUNFLE1BQU1DLEVBQXNCbEYsS0FBSytULGlCQUMvQkUsK0JBQStCbEUsUUFFakNsTCxNQUFNSSxXQUFXQyxFQUNuQixDQUVBakcsaUJBQ0U0RixNQUFNc0IsVUFDUixDQUlBbEgsOEJBQThCaVYsR0FBYSxHQUN6Q2xVLEtBQUsyRSxjQUFjd1AsbUJBQ2JuVSxLQUFLb1UsWUFBWUYsR0FDdkJsVSxLQUFLMkUsY0FBYzBQLGFBQ25CclUsS0FBS2lGLFlBQ1AsQ0FHQWhHLGtCQUFrQmlWLFNBRVZsVSxLQUFLNEUsZUFBZXFHLE9BQU9pSixHQUtqQ2xVLEtBQUs0RSxlQUFlb1Asb0JBQ3RCLEVDdkRLLE1BQU1NLEVBQ1gsSUFBaUIsRUFDakJDLGVBQ0FDLGNBQ0FDLGlCQUNBaE8saUJBQ0FFLGFBRUErTixvQkFBc0IsR0FHdEIxUCxpQkFBbUIsR0FDbkIyTSxTQUFnQyxJQUVoQzdSLFlBQVk2VSxFQUFRSCxFQUFnQixHQUFJL04sRUFBbUIsS0FDekRFLEVBQWUsTUFFZjNHLEtBQUt1VSxlQUFpQkksRUFDdEIzVSxLQUFLd1UsY0FBZ0JBLEVBQ3JCeFUsS0FBS3lHLGlCQUFtQkEsRUFDeEJ6RyxLQUFLMkcsYUFBZUEsQ0FDdEIsQ0FJQXpHLE9BRUUsSUFBSyxJQUFJMFUsS0FBUzVVLEtBQUt1VSxlQUNyQkssRUFBTTFVLE9BSVJLLE9BQU9GLGlCQUFpQixnQkFBZ0IsS0FDdENMLEtBQUs2VSxjQUFhLEVBQUssSUFJekJDLGFBQVksS0FDVjlVLEtBQUs2VSxjQUFhLEVBQU0sR0FDdkJQLEdBQWMsR0FHakIsSUFBSyxJQUFJTSxLQUFTNVUsS0FBS3VVLGVBQ3JCSyxFQUFNdlUsaUJBQWlCLGFBQWFpQixJQUNsQyxNQUFNMkssRUFBWTNLLEVBQUl3RixPQUFPbUYsVUFDN0JqTSxLQUFLK1UsaUJBQWlCOUksRUFBVSxJQUtwQ2pNLE1BQUssR0FDUCxDQUdBLEtBQ0UsSUFBSyxJQUFJZ1YsS0FBZWhWLEtBQUt3VSxjQUFlLENBQzFDLE1BQU1TLEVBQVdELEVBQVk3VSxJQUN2QnlVLEVBQVFJLEVBQVlFLEtBRTFCRCxFQUFTNVUsaUJBQWlCLFNBQVNwQixVQUdWZSxNQUFLLEdBQW1CQSxLQUFLeVUsbUJBQXFCRyxJQUd6RTVVLE1BQUssR0FBaUIsUUFDaEJBLEtBQUttVixZQUFZUCxHQUN2QjVVLE1BQUssR0FBaUIsRUFBSyxHQUUvQixDQUNGLENBSUErVSxpQkFBaUI5SSxHQUNmak0sS0FBS29WLHVCQUF1QnBWLEtBQUswVSxvQkFBcUJ6SSxHQUN0RGpNLEtBQUtvVix1QkFBdUJwVixLQUFLZ0YsaUJBQWtCaUgsR0FDbkRqTSxLQUFLcVYsbUJBQ1AsQ0FJQUMsY0FDRXRWLEtBQUt5VSxpQkFBaUJyTyxZQUN4QixDQUdBbkgsZUFBZXNXLEdBQ2J2VixLQUFLeVUsaUJBQW1CYyxRQUNsQnZWLEtBQUt5VSxpQkFBaUJ0TyxXQUU1Qm5HLEtBQUtxVixvQkFFRHJWLEtBQUt5VSw0QkFBNEJYLFNBRTdCOVQsS0FBS3lVLGlCQUFpQmUseUJBRWhDLENBRUFILG9CQUVzQyxTQUFoQ3JWLEtBQUt5VSxrQkFBa0I5SSxNQUN6QjNMLEtBQUt5VSxpQkFBaUIxUCxpQkFBaUIvRSxLQUFLZ0YsaUJBRWhELENBSUFvUSx1QkFBdUJLLEVBQWNDLElBS25DLFFBQXlCRCxFQUFjQyxHQUpyQixDQUFDelUsRUFBU0osSUFDbkJJLEVBQVE4RSxhQUFlbEYsRUFBUWtGLFlBSTFDLENBR0E5RyxrQkFBa0JzVyxHQUNoQnZWLEtBQUtzVixvQkFDQyxRQUFjdFYsS0FBS3lVLGlCQUFpQjNSLGVBQ3BDOUMsS0FBSzJWLFNBQVNKLEVBQ3RCLENBR0FLLGVBQ0U1VixLQUFLMFUsb0JBQXNCLEVBQzdCLENBSUFtQiwyQkFBMkJDLEdBRXpCLElBQUssSUFBSUMsS0FBdUJELEVBQXNCLENBQ3BELE1BQU05VSxFQUFZZ1YsRUFBYUQsRUFBcUIvVixLQUFLZ0Ysa0JBQ3JEaEUsR0FBYSxHQUNmaEIsS0FBS2dGLGlCQUFpQjlELE9BQU9GLEVBQVcsRUFFNUMsQ0FLQSxTQUFTZ1YsRUFBYUQsRUFBcUJFLEdBZ0J6QyxPQWZrQkEsRUFBbUJqVixXQUFVa1YsSUFDN0MsSUFBSUMsR0FBVSxFQUNkLE1BQU1DLEVBQWUsQ0FBQyxhQUFjLE9BQVEsYUFFNUMsSUFBSyxJQUFJM1QsS0FBUXlULEVBRWYsR0FEa0JFLEVBQWFsUSxTQUFTekQsS0FHeEMwVCxFQUFVRCxFQUFJelQsS0FBVXNULEVBQW9CdFQsSUFDdkMwVCxHQUFTLE1BR2hCLE9BQU9BLENBQU8sR0FJbEIsQ0FDRixDQUdBbFgsbUJBQW1Cb1gsR0FBaUIsR0FHbEMsR0FEeUQsSUFBcENyVyxLQUFLMFUsb0JBQW9CdEssT0FDNUIsT0FFbEIsTUFBT2tNLEVBQVdDLEdBQWlCdlcsTUFBSyxJQUVsQ3dXLEVBQVUsQ0FDZHhELE9BQVEsT0FDUkMsUUFBUyxDQUFDLGVBQWdCLG9CQUMxQkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnFELEtBQU0sVUFDTmpJLEtBQU0rSCxLQUtORixJQUNGRyxFQUFRRSxXQUFZLEdBR3RCMVcsS0FBSzRWLHFCQUNDN0MsTUFBTXVELEVBQVdFLEdBRXZCeFcsS0FBSzZWLDJCQUEyQlUsRUFDbEMsQ0FLQSxLQUdFLElBQUlELEVBQ0FDLEVBV0osT0FkZ0N2VyxLQUFLMkcsY0FVbkMyUCxFQUFZLGNBQWN0VyxLQUFLeUcsb0JBQW9CekcsS0FBSzJHLGVBQ3hENFAsRUFBZ0J2VyxLQUFLMFUsb0JBQW9CaUMsVUFMekNMLEVBQVksOEJBQ1pDLEVBQWdCdlcsTUFBSyxFQUF5QkEsS0FBSzBVLHNCQU85QyxDQUFDNEIsRUFBV0MsRUFDckIsQ0FJQSxHQUF5QkEsR0FDdkIsTUFBTUssRUFBb0IsR0FHMUIsSUFBSyxJQUFJQyxLQUFVTixFQUFlLENBQ2hDLE1BQU1PLEVBQWlCRCxFQUFPalIsZ0JBQWdCYSxpQkFDeENzUSxFQUFhRixFQUFPalIsZ0JBQWdCZSxhQUVwQ3FRLEVBQW1CSixFQUFrQjVWLFdBQVVpVyxJQUNuRCxNQUFNQyxFQUFlRCxFQUFLL0ksVUFBWTRJLEVBQ2hDSyxFQUFXRixFQUFLOUksTUFBUTRJLEVBQzlCLE9BQVFHLEdBQWdCQyxDQUFTLElBRzdCQyxFQUFlQyxFQUFhUixHQUVsQyxHQUFJRyxHQUFvQixFQUN0QkosRUFBa0JJLEdBQWtCTSxRQUFRblcsS0FBS2lXLE9BRTlDLENBQ0gsTUFBTUcsRUFBYyxDQUNsQnJKLFFBQVM0SSxFQUNUM0ksSUFBSzRJLEVBQ0xPLFFBQVMsQ0FBQ0YsSUFHWlIsRUFBa0J6VixLQUFLb1csRUFDekIsQ0FDRixDQUdBLFNBQVNGLEVBQWFSLEdBR3BCLGNBRk9BLEVBQU9qUixnQkFBZ0JlLG9CQUN2QmtRLEVBQU9qUixnQkFBZ0JhLGlCQUN2Qm9RLENBQ1QsQ0FFQSxPQUFPRCxDQUNULEUsT0M1UEYsTUFBTVksRUFBdUJoWCxTQUFTUCxjQUFjLHVCQUU5Q3dYLEVBQXlCalgsU0FBU1AsY0FBYyx5QkFDaER5WCxFQUFzQixJQUFJaEcsRUFBWStGLEdBRXRDRSxFQUFzQixJQ1JyQixjQUFrQ2pNLEVBQ3ZDQyxLQUFPLE9BR1A3RyxlQUFlUSxHQUNHVCxNQUFNQyxlQUFlUSxHQUl4QmYsTUFDWHZFLEtBQUs0TCxTQUFTMkgsaUJBRWxCLENBSUFsSCxjQUFjdUwsR0FDWixNQUFNQyxFQUFRLENBQ1o3UixJQUFLNFIsRUFBTTdSLFdBQ1hVLGlCQUFrQm1SLEVBQU1sUixhQUN4QkMsYUFBY2lSLEVBQU1oUixVQUd0QixJQUFLLElBQUluRSxLQUFRbVYsRUFBTWhTLGdCQUNyQmlTLEVBQU1wVixHQUFRbVYsRUFBTWhTLGdCQUFnQm5ELEdBR3RDLE9BQU9vVixDQUNULEdEcEJrREwsRUFDbERFLEdBR0lJLEVBQWdCLElFWmYsY0FBZ0N4RCxFQUVyQ3FCLFNBQVNKLEdBQ1AxUSxNQUFNOFEsU0FBU0osR0FFZnZWLEtBQUt5VSxpQkFBaUI3SSxTQUFTdkwsaUJBQWlCLGdCQUFnQnBCLFVBQzlEZSxLQUFLNlUsY0FBYyxHQUV2QixDQUlBNVYsbUJBQW1Cb1gsR0FBaUIsR0FDbEN4UixNQUFNZ1EsYUFBYXdCLEdBQ25CclcsS0FBS3lVLGlCQUFpQjdJLFNBQVMxSCxjQUFjLElBQUlnSSxZQUFZLHVCQUMvRCxHRkgwQyxDQUFDeUwsSUFFN0NHLEVBQWM1WCxPQUdkSyxPQUFPd1gsT0FBUzlZLGdCQUNSNlksRUFBY25DLFNBQVNnQyxFQUFvQixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2ZhZGVUcmFuc2l0aW9ucy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3BvcEJ0bnMubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvc2hhcmVkSnMvdXRpbHMubWpzIiwid2VicGFjazovL2tpbmRyZWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8va2luZHJlZC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8va2luZHJlZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYW5zd2VyVWlQYW5lbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvcXVlc3Rpb25zTW9kZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9xdWVzdGlvbnNIZWxwZXJzLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9jb21wb25lbnRzL2RvbVF1ZXVlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9jb21wb25lbnRzL2Jhc2VRdWVzdGlvbnNRdWV1ZS9iYXNlUXVlc3Rpb25zUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL2NvbXBvbmVudHMvc2luZ2xlRG9tUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL3N1Yi1jbGFzc2VzL3NpbmdsZVF1ZXN0aW9uUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9jZW50cmVNb2RhbC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvc2luZ2xlQW5zd2VyTW9kZS9zaW5nbGVBbnN3ZXJNb2RlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcVNvdXJjZS9zaW5nbGVNb2RlUVNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9zaGFyZWRKcy9jYXRlZ29yeUluZm8ubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9jYXRlZ29yeUNoZWNrYm94ZXMubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9raW5kcmVkUmVjc01peGluLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcVNvdXJjZS9zdWItY2xhc3Nlcy9yZWNzUVNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvcU1vZGVXaXRoUXVldWVJbnB1dC9xTW9kZVdpdGhRdWV1ZUlucHV0Lm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL3F1ZXN0aW9uc1BhZ2UvcXVlc3Rpb25zUGFnZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9wYWdlcy9yZWNvbW1lbmRhdGlvbnMuanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvc2luZ2xlQW5zd2VyTW9kZS9zdWItY2xhc3Nlcy9yZWNvbW1lbmRhdGlvbnNNb2RlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL3F1ZXN0aW9uc1BhZ2Uvc3ViLWNsYXNzZXMvcmVjc1F1ZXN0aW9uc1BhZ2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEhlbHBlciBmdW5jdGlvbnMgdG8gYXNzaXN0IHdpdGggZmFkaW5nIGluIC8gb3V0IERPTSBlbGVtZW50cy5cclxuaW1wb3J0IHsgYXdhaXRUcmFuc2l0aW9uIH0gZnJvbSBcIi4uLy4uL3NoYXJlZEpzL3V0aWxzLm1qc1wiO1xyXG5cclxuXHJcblxyXG4vLyBGYWRlIHRyYW5zaXRpb24gaGVscGVyIGZ1bmN0aW9ucywgdXNlZCB3aXRoIHRyYW5zcGFyZW50LCBmdWxseS1oaWRkZW4gYW5kIFxyXG4vLyBmYWRlLXRyYW5zIGNzcyBjbGFzc2VzLlxyXG4vLyBNYWtlcyBkaXNwbGF5IHByb3BlcnR5IHZpc2libGUgYW5kIHRoZW4gcmVtb3ZlcyB0cmFuc3BhcmVuY3kuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWRlSW4oZWxlbSkge1xyXG4gIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImZ1bGx5LWhpZGRlblwiKTtcclxuICBzZXRUaW1lb3V0KCgpID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInRyYW5zcGFyZW50XCIpLCAxMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5pc2hGYWRlSW4oZWxlbSkge1xyXG4gIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBcIm9wYWNpdHlcIik7XHJcbn1cclxuXHJcbi8vIEZpbmlzaGVzIHdoZW4gZmFkZSBpbiBpcyBjb21wbGV0ZWQuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmdWxseUZhZGVJbihlbGVtKSB7XHJcbiAgZmFkZUluKGVsZW0pO1xyXG4gIGF3YWl0IGZpbmlzaEZhZGVJbihlbGVtKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQoZWxlbSkge1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChcInRyYW5zcGFyZW50XCIpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBvcGFjaXR5IHRyYW5zaXRpb24gb24gdGhlIFxyXG4vLyBnaXZlbiBlbGVtZW50IGlzIGNvbXBsZXRlZC4gQWxzbyBmdWxseSBoaWRlcyB0aGUgZWxlbWVudC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmlzaEZhZGVPdXQoZWxlbSkge1xyXG4gIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBcIm9wYWNpdHlcIik7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKFwiZnVsbHktaGlkZGVuXCIpO1xyXG59XHJcblxyXG4vLyBGYWRlIG91dCBhbmQgZnVsbHkgaGlkZSB0aGUgZ2l2ZW4gZWxlbWVudC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZ1bGx5RmFkZU91dChlbGVtKSB7XHJcbiAgZmFkZU91dChlbGVtKTtcclxuICBhd2FpdCBmaW5pc2hGYWRlT3V0KGVsZW0pO1xyXG59XHJcblxyXG4vLyBGYWRlcyBvdXQgZWxlbTEgYW5kIGZhZGVzIGluIGVsZW0yIG9uY2UgdHJhbnNpdGlvbiBjb21wbGV0ZWQsIGRvZXNuJ3QgZmluaXNoIFxyXG4vLyB1bnRpbCBlbGVtMiBmdWxseSBmYWRlZCBpbi4gUmV0dXJucyBwcm9taXNlLlxyXG5leHBvcnQgZnVuY3Rpb24gZmFkZUZyb21UbyhlbGVtMSwgZWxlbTIpIHtcclxuICBjb25zdCBmYWRlQ29tcGxldGVQcm9taXNlID0gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICBhd2FpdCBmdWxseUZhZGVPdXQoZWxlbTEpO1xyXG4gICAgYXdhaXQgZnVsbHlGYWRlSW4oZWxlbTIpO1xyXG4gICAgcmVzb2x2ZSgpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZmFkZUNvbXBsZXRlUHJvbWlzZTtcclxufSIsImltcG9ydCB7IGZ1bGx5RmFkZUluLCBmdWxseUZhZGVPdXQgfSBmcm9tIFwiLi9mYWRlVHJhbnNpdGlvbnMubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIEJ0biB3aXRoIGFzc29jaWF0ZWQgY29udGVudC4gQ29udGVudCBmYWRlcyBpbiB3aGVuIGJ1dHRvbiBpcyBjbGlja2VkIGFuZCBcclxuLy8gZmFkZXMgb3V0IHdoZW4gYW55dGhpbmcgaXMgY2xpY2tlZC4gVXNlZCBieSBpbmZvIGJ1dHRvbnMgYW5kIG5hdiBkcm9wZG93bi5cclxuY2xhc3MgUG9wQnRuIHtcclxuICAjYnRuO1xyXG4gICNjb250ZW50O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3BCdG5Db250YWluZXIpIHtcclxuICAgIHRoaXMuI2J0biA9IHBvcEJ0bkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcC1idG5cIik7XHJcbiAgICB0aGlzLiNjb250ZW50ID0gcG9wQnRuQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLWJ0bi1jb250ZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuI3NldHVwSW5mb0J0bkNsaWNrKHRoaXMuI2J0biwgdGhpcy4jY29udGVudCk7XHJcbiAgfVxyXG5cclxuICAjc2V0dXBJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KSB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy4jaGFuZGxlSW5mb0J0bkNsaWNrKGJ0biwgY29udGVudCk7XHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgI2hhbmRsZUluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpIHtcclxuICAgIGF3YWl0IGZ1bGx5RmFkZUluKGNvbnRlbnQpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IGZ1bGx5RmFkZU91dChjb250ZW50KTtcclxuICAgICAgdGhpcy4jc2V0dXBJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KTtcclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbml0cyBhbGwgcG9wIGJ0bnMgb24gYSBwYWdlLlxyXG5mdW5jdGlvbiBzZXR1cFBvcEJ0bnMoKSB7XHJcbiAgY29uc3QgcG9wQnRuQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wLWJ0bi1jb250YWluZXJcIik7XHJcbiAgXHJcbiAgcG9wQnRuQ29udGFpbmVycy5mb3JFYWNoKHBvcEJ0bkNvbnRhaW5lciA9PiB7XHJcbiAgICBjb25zdCBwb3BCdG4gPSBuZXcgUG9wQnRuKHBvcEJ0bkNvbnRhaW5lcik7XHJcbiAgICBwb3BCdG4uaW5pdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5zZXR1cFBvcEJ0bnMoKTsiLCIvLyBDbGFtcCBudW1iZXIgYmV0d2VlbiB0d28gdmFsdWVzLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xyXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKHN0YXJ0LCBlbmQsIHBycHJ0biA9IDAuNSkge1xyXG4gIHJldHVybiBzdGFydCArICgoZW5kIC0gc3RhcnQpICogcHJwcnRuKTtcclxufVxyXG5cclxuLy8gRm9yIGludHMsIGl0IGlzIGluY2x1c2l2ZSBvZiBzdGFydCBhbmQgbm90IGluY2x1c2l2ZSBvZiBlbmQuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kQmV0d2VlbihzdGFydCA9IDAsIGVuZCA9IDEsIGludHMgPSBmYWxzZSkge1xyXG4gIGNvbnN0IHJhbmdlID0gZW5kIC0gc3RhcnQ7XHJcbiAgY29uc3QgcmFuZEZsb2F0ID0gKE1hdGgucmFuZG9tKCkgKiByYW5nZSkgKyBzdGFydDtcclxuICByZXR1cm4gaW50cyA/IE1hdGguZmxvb3IocmFuZEZsb2F0KSA6IHJhbmRGbG9hdDtcclxufVxyXG5cclxuLy8gUHJvYmFiaWxpdHkgc2hvdWxkIGJlIGEgZGVjaW1hbCwgcmV0dXJucyB0cnVlIG9yIGZhbHNlLlxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdFJhbmRvbShwcm9iYWJpbGl0eSkge1xyXG4gIHJldHVybiAoTWF0aC5yYW5kb20oKSA8PSBwcm9iYWJpbGl0eSkgPyB0cnVlIDogZmFsc2U7XHJcbn1cclxuXHJcbi8vIFRha2VzIGEgbGlzdCBvZiBwcm9iIG9iamVjdHMgYXMgaW5wdXQgaW4gZm9ybWF0IHtuYW1lOiBuYW1lLCBwcm9iOiBwcm9ifSBhbmQgXHJcbi8vIHJldHVybnMgbmFtZSBvZiBjaG9zZW4gcHJvYk9iaiwgb3IgZmFsc2UgaWYgbm9uZSBjaG9zZW4gKGluIGNhc2UgdGhhdCBwcm9iT2JqcyBcclxuLy8gcHJvYnMgZG9udCBzdW0gdG8gMSkuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UmFuZE11bHQoLi4ucHJvYnMpIHtcclxuICBjb25zdCBwcm9ic09ianMgPSBbXTtcclxuICBsZXQgY3VyclByb2JTdGFydCA9IDA7XHJcblxyXG4gIHByb2JzLmZvckVhY2gocHJvYiA9PiB7XHJcbiAgICBjb25zdCB0aGlzUHJvYiA9IHtcclxuICAgICAgbmFtZTogcHJvYi5uYW1lLFxyXG4gICAgICBzdGFydDogY3VyclByb2JTdGFydCxcclxuICAgICAgZW5kOiBjdXJyUHJvYlN0YXJ0ICsgcHJvYi5wcm9iXHJcbiAgICB9O1xyXG5cclxuICAgIHByb2JzT2Jqcy5wdXNoKHRoaXNQcm9iKTtcclxuXHJcbiAgICBjdXJyUHJvYlN0YXJ0ICs9IHByb2I7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNob3NlblZhbCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgbGV0IHJldHVyblZhbCA9IGZhbHNlO1xyXG5cclxuICBwcm9ic09ianMuZm9yRWFjaChwcm9iID0+IHtcclxuICAgIGNvbnN0IGNob3NlblRoaXNQcm9iID0gcHJvYi5zdGFydCA8PSBjaG9zZW5WYWwgJiYgcHJvYi5lbmQgPiBjaG9zZW5WYWw7XHJcbiAgICBpZiAoY2hvc2VuVGhpc1Byb2IpIHtcclxuICAgICAgcmV0dXJuVmFsID0gcHJvYi5uYW1lO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHJldHVyblZhbDtcclxufVxyXG5cclxuLy8gU2VhcmNoZXMgZm9yIGEgbmV3SXRlbSBpbiBhbiBhcnJheSBnaXZlbiBhbiBlbGVtQ29tcEZ1bmMgdGhhdCBkZXRlcm1pbmVzIFxyXG4vLyB3aGV0aGVyIGl0IGlzIHByZXNlbnQgb3Igbm90IChlZy4gdG8gZmluZCBiYXNlZCBvbiBxdWVzdGlvbiBJRCkuIElmIHByZXNlbnQsIFxyXG4vLyBlbGVtZW50IGluIGFycmF5IGlzIG92ZXJ3cml0dGVuIHdpdGggbmV3SXRlbSwgb3RoZXJ3aXNlIG5ld0l0ZW0gaXMgcHVzaGVkIHRvIFxyXG4vLyBlbmQgb2YgYXJyYXkuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2goYXJyYXksIG5ld0l0ZW0sIGVsZW1Db21wRnVuYykge1xyXG4gIGNvbnN0IGZvdW5kSW5kZXggPSBhcnJheS5maW5kSW5kZXgoYXJySXRlbSA9PiBlbGVtQ29tcEZ1bmMoYXJySXRlbSwgbmV3SXRlbSkpO1xyXG5cclxuICAvLyBJZiBmb3VuZCwgb3ZlcndyaXRlLlxyXG4gIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcclxuICAgIGFycmF5LnNwbGljZShmb3VuZEluZGV4LCAxLCBuZXdJdGVtKTtcclxuICB9XHJcbiAgLy8gT3RoZXJ3aXNlIGFkZC5cclxuICBlbHNlIHtcclxuICAgIGFycmF5LnB1c2gobmV3SXRlbSk7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRyYW5zaXRpb24gb24gZ2l2ZW4gZWxlbWVudCBlbmRzLCBcclxuLy8gb3B0aW9uYWwgdHJhbnNpdGlvbiBwcm9wZXJ0eSBuYW1lIGNoZWNrLlxyXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRUcmFuc2l0aW9uKGVsZW0sIHByb3BOYW1lID0gbnVsbCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgYXN5bmMgZXZ0ID0+IHtcclxuXHJcbiAgICAgIGlmIChwcm9wTmFtZSkge1xyXG4gICAgICAgIGlmIChldnQucHJvcGVydHlOYW1lID09PSBwcm9wTmFtZSkge1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCBhd2FpdFRyYW5zaXRpb24oZWxlbSwgcHJvcE5hbWUpO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gIH0pXHJcbn1cclxuXHJcbi8vIEZvciB0ZXN0aW5nIGxvbmcgcnVubmluZyBmdW5jdGlvbnMuXHJcbi8vIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7IC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBjbGFzcyBBbnN3ZXJVSVBhbmVsIHtcclxuICBtYWluRGl2O1xyXG4gIHJhdGVQYW5lbDtcclxuICByYXRlQnRuO1xyXG4gIHNraXBCdG47XHJcbiAgc2NvcmVTbGlkZXI7XHJcbiAgc2NvcmVTbGlkZXJJbnB1dDtcclxuICBjdXJyUXVlc3Rpb25UZXh0O1xyXG4gIHByZXZBbnNEaXY7XHJcbiAgcHJldkFuc1ZhbDtcclxuICBsb2FkZXI7XHJcbiAgZGV0YWlscztcclxuXHJcbiAgY29uc3RydWN0b3IocU1vZGVEaXYpIHtcclxuICAgIHRoaXMubWFpbkRpdiA9IHFNb2RlRGl2LnF1ZXJ5U2VsZWN0b3IoXCIuYW5zd2VyLXBhbmVsXCIpO1xyXG4gICAgdGhpcy5yYXRlUGFuZWwgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5yYXRlLXBhbmVsXCIpO1xyXG4gICAgdGhpcy5yYXRlQnRuID0gdGhpcy5tYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZS1idG5cIik7XHJcbiAgICB0aGlzLnNraXBCdG4gPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5za2lwLWJ0blwiKTtcclxuICAgIHRoaXMuc2NvcmVTbGlkZXIgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5zY29yZS1zbGlkZXJcIik7XHJcbiAgICB0aGlzLnNjb3JlU2xpZGVySW5wdXQgPSB0aGlzLnNjb3JlU2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uVGV4dCA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmN1cnItcXVlc3Rpb25cIik7XHJcbiAgICB0aGlzLnByZXZBbnNEaXYgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5wcmV2LWFucy1pbmZvXCIpO1xyXG4gICAgdGhpcy5wcmV2QW5zVmFsID0gdGhpcy5tYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIucHJldi1hbnMtdmFsXCIpO1xyXG4gICAgdGhpcy5sb2FkZXIgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIik7XHJcbiAgICB0aGlzLmRldGFpbHMgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5kZXRhaWxzXCIpO1xyXG4gIH1cclxuICBcclxuICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gd2l0aCB0aGUgbmV3IGZpcnN0IHF1ZXVlIGl0ZW0uXHJcbiAgZGlzcGxheUN1cnJRKG5ld1FJbmZvLCBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkKSB7XHJcbiAgICB0aGlzLiNzaG93T3JIaWRlUGFuZWwobmV3UUluZm8pO1xyXG5cclxuICAgIC8vIFNob3cgY3VycmVudCBxdWVzdGlvbiB0ZXh0IGFuZCByZXNldCBwcmV2aW91cyBhbnN3ZXIgaW5mby5cclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uVGV4dC5pbm5lckhUTUwgPSBuZXdRSW5mby5jdXJyUVRleHQ7XHJcbiAgICB0aGlzLnByZXZBbnNWYWwuaW5uZXJUZXh0ID0gXCJcIjtcclxuXHJcbiAgICBjb25zdCBwcmV2U2NvcmUgPSB0aGlzLiNmaWxsUHJldkFucyhuZXdRSW5mbywgaW5jbHVkZUFscmVhZHlBbnN3ZXJlZCk7XHJcblxyXG4gICAgLy8gUmVzZXQgLyBzZXQgdGhlIHNjb3JlIGFuZCBzZW5kIGlucHV0IGV2ZW50IGZvciB0aGUgY3VzdG9tIHNsaWRlciB0byBcclxuICAgIC8vIGNhdXNlIHRoZSB3cmFwcGVyIGVsZW1lbnQgdG8gdXBkYXRlIGFsc28uXHJcbiAgICB0aGlzLnNjb3JlU2xpZGVySW5wdXQudmFsdWUgPSBwcmV2U2NvcmU7XHJcbiAgICB0aGlzLnNjb3JlU2xpZGVySW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzaG93TG9hZGVyKCkge1xyXG4gICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShcImZ1bGx5LWhpZGRlblwiKTtcclxuICAgIHRoaXMuZGV0YWlscy5jbGFzc0xpc3QuYWRkKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gICAgdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5hZGQoXCJ0cmFuc3BhcmVudFwiKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhpZGVMb2FkZXIoKSB7XHJcbiAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QuYWRkKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gICAgdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5yZW1vdmUoXCJmdWxseS1oaWRkZW5cIik7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGV0YWlscy5jbGFzc0xpc3QucmVtb3ZlKFwidHJhbnNwYXJlbnRcIiksIDEwKTtcclxuICB9XHJcblxyXG4gIC8vIFNob3dzIC8gaGlkZXMgcmF0ZSBwYW5lbCBkZXBlbmRlbnQgb24gd2hldGhlciBlbmQgb2YgcXVldWUgcmVhY2hlZC5cclxuICAjc2hvd09ySGlkZVBhbmVsKG5ld1FJbmZvKSB7XHJcbiAgICAvLyBTaG93IG9yIGhpZGUgdGhlIHNjb3Jpbmcgc2xpZGVyIGFuZCBidXR0b25zIGFzIG5lY2Vzc2FyeS5cclxuICAgIGlmIChuZXdRSW5mby5lbmRPZlF1ZXVlKSB7XHJcbiAgICAgIHRoaXMucmF0ZVBhbmVsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5yYXRlUGFuZWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBTaG93cyBvciBoaWRlcyBwcmV2aW91cyBhbnN3ZXIgaW5mbyBkZXBlbmRlbnQgb24gd2hldGhlciB0aGVyZSBpcyBvbmUgZm9yIFxyXG4gIC8vIHRoaXMgcXVlc3Rpb24gYW5kIHNldHMgdGhlIHByZXYgYW5zIHRleHQuIFJldHVybnMgdGhlIHByZXYgYW5zIHNjb3JlIFxyXG4gIC8vIHZhbHVlLCB1c2VkIHRvIHNldCB0aGUgc2xpZGVyIHNjb3JlLlxyXG4gICNmaWxsUHJldkFucyhuZXdRSW5mbywgaW5jbHVkZUFscmVhZHlBbnN3ZXJlZCkge1xyXG4gICAgbGV0IHByZXZBbnNTY29yZSA9IDU7XHJcblxyXG4gICAgLy8gSWYgY3VycmVudCBxdWVzdGlvbiBoYXMgYSBwcmV2aW91cyBhbnN3ZXIgYnkgdGhlIHVzZXIsIHNob3cgdGhlIHByZXZpb3VzIFxyXG4gICAgLy8gYW5zd2VyIGRldGFpbHMuXHJcbiAgICBpZiAoaW5jbHVkZUFscmVhZHlBbnN3ZXJlZCAmJiBuZXdRSW5mby5jdXJyUUFucykge1xyXG4gICAgICB0aGlzLnByZXZBbnNEaXYuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTsgICAgICBcclxuICAgICAgdGhpcy5wcmV2QW5zVmFsLmlubmVyVGV4dCA9IFwiU2tpcHBlZFwiO1xyXG5cclxuICAgICAgaWYgKCFuZXdRSW5mby5jdXJyUUFucy5za2lwKSB7XHJcbiAgICAgICAgcHJldkFuc1Njb3JlID0gbmV3UUluZm8uY3VyclFBbnMuYW5zd2VyVmFsO1xyXG4gICAgICAgIHRoaXMucHJldkFuc1ZhbC5pbm5lclRleHQgPSBwcmV2QW5zU2NvcmU7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5wcmV2QW5zRGl2LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcmV2QW5zU2NvcmU7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZmFkZUluLCBmYWRlT3V0IH0gZnJvbSBcIi4uLy4uLy4uL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuaW1wb3J0IHsgQW5zd2VyVUlQYW5lbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvYW5zd2VyVWlQYW5lbC5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXN0aW9uc01vZGUgZXh0ZW5kcyBFdmVudFRhcmdldCB7XHJcbiAgbWFpbkRpdjtcclxuICBhbnN3ZXJVaVBhbmVsO1xyXG4gIHF1ZXN0aW9uc1F1ZXVlO1xyXG4gIGJ0bjtcclxuXHJcbiAgY29uc3RydWN0b3IobWFpbkRpdiwgYnRuID0gbnVsbCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMubWFpbkRpdiA9IG1haW5EaXY7XHJcbiAgICB0aGlzLmJ0biA9IGJ0bjtcclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbCA9IG5ldyBBbnN3ZXJVSVBhbmVsKG1haW5EaXYpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyB1cCB0aGUgYW5zd2VyIFVJIHBhbmVsIGJ1dHRvbiBldmVudCBsaXN0ZW5lcnMuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5yYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4ge1xyXG4gICAgICB0aGlzLmFuc3dlclF1ZXN0aW9uKGV2dCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5za2lwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4ge1xyXG4gICAgICB0aGlzLmFuc3dlclF1ZXN0aW9uKGV2dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBhc3NlcyB0aGUgYWxsUmVjZW50QW5zd2VycyBvbiB0byB0aGUgcXVlc3Rpb25zIHF1ZXVlLlxyXG4gIHNldFJlY2VudEFuc3dlcnMoYWxsUmVjZW50QW5zd2Vycykge1xyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZS5zZXRSZWNlbnRBbnN3ZXJzKGFsbFJlY2VudEFuc3dlcnMpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgZGlzcGxheWVkIHF1ZXN0aW9uIGluIHRoZSBhbnN3ZXIgVUkgcGFuZWwgd2l0aCB0aGUgbmV3IGZpcnN0IFxyXG4gIC8vIHF1ZXVlIGl0ZW0uXHJcbiAgX3Nob3dDdXJyUShpbmNsQWxyZWFkeUFuc3dlcmVkID0gdHJ1ZSkge1xyXG4gICAgLy8gR2V0cyBpbmZvcm1hdGlvbiBvbiB3aGV0aGVyIHF1ZXVlIGlzIG5vdyBlbXB0eSwgb3Igd2hhdCB0aGUgbmV4dCAxMCBcclxuICAgIC8vIHF1ZXVlIGl0ZW1zIChhbmQgZmlyc3QgcXVlc3Rpb24gdXNlciBhbnN3ZXIsIGlmIG5lY2Vzc2FyeSkgc2hvdWxkIGJlLlxyXG4gICAgY29uc3QgbmV3Q3VyclFJbmZvID0gdGhpcy5xdWVzdGlvbnNRdWV1ZS5nZXRDdXJyUUluZm8oKTtcclxuXHJcbiAgICB0aGlzLmFuc3dlclVpUGFuZWwuZGlzcGxheUN1cnJRKG5ld0N1cnJRSW5mbywgaW5jbEFscmVhZHlBbnN3ZXJlZCk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXRzIGN1cnJlbnQgYW5zd2VyIHRvIGN1cnJlbnQgcXVlc3Rpb24gYXMgYW4gb2JqZWN0IGZvciBEQi5cclxuICBnZXRBbnN3ZXJPYmooZXZlbnQsIGN1cnJRdWVzdGlvbikge1xyXG4gICAgY29uc3QgdXNlclNraXBwZWQgPSAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gdGhpcy5hbnN3ZXJVaVBhbmVsLnNraXBCdG4pO1xyXG4gICAgY29uc3QgdGhpc1Njb3JlID0gKHVzZXJTa2lwcGVkID8gbnVsbCA6IE51bWJlcih0aGlzLmFuc3dlclVpUGFuZWwuXHJcbiAgICAgIHNjb3JlU2xpZGVySW5wdXQudmFsdWUpKTtcclxuICAgICAgXHJcbiAgICBjb25zdCBxdWVzdGlvbkRldGFpbHMgPSB0aGlzLl9nZXRRdWVzdGlvbkRldGFpbHMoY3VyclF1ZXN0aW9uKTtcclxuXHJcbiAgICBjb25zdCBhbnN3ZXJJbmZvID0ge1xyXG4gICAgICBxdWVzdGlvbklkOiBjdXJyUXVlc3Rpb24uX2lkLFxyXG4gICAgICBza2lwOiB1c2VyU2tpcHBlZCxcclxuICAgICAgcXVlc3Rpb25EZXRhaWxzOiBxdWVzdGlvbkRldGFpbHNcclxuICAgIH07XHJcbiAgXHJcbiAgICBpZiAoIXVzZXJTa2lwcGVkKSB7XHJcbiAgICAgIGFuc3dlckluZm8uYW5zd2VyVmFsID0gdGhpc1Njb3JlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYW5zd2VySW5mbztcclxuICB9XHJcblxyXG4gIC8vIEdldHMgYWxsIHRoZSBxdWVzdGlvbiBkZXRhaWxzIChlZy4gdGl0bGUsIHJlbGVhc2UgZGF0ZSBldGMuKSBmb3IgdGhlIGN1cnJlbnQgXHJcbiAgLy8gcXVlc3Rpb24gaW4gYW4gb2JqZWN0IHRvIGJlIGFkZGVkIHRvIHRoZSBhbnN3ZXJzIG9iamVjdCwgdG8gYmUgYWRkZWQgdG8gdGhlIERCLlxyXG4gIF9nZXRRdWVzdGlvbkRldGFpbHMoY3VyclF1ZXN0aW9uKSB7XHJcbiAgICBjb25zdCBxdWVzdGlvbkRldGFpbHMgPSB7fTtcclxuICAgIGNvbnN0IHByb3BzVG9JZ25vcmUgPSBbXCJfaWRcIiwgXCJhcGlQYWdlTnVtXCIsIFwiYWxyZWFkeUluRGJcIiwgXCJjdXJyQW5zXCJdO1xyXG5cclxuICAgIGZvciAobGV0IHByb3AgaW4gY3VyclF1ZXN0aW9uKSB7XHJcbiAgICAgIGNvbnN0IGlnbm9yZVByb3AgPSBwcm9wc1RvSWdub3JlLmluY2x1ZGVzKHByb3ApO1xyXG4gICAgICBpZiAoaWdub3JlUHJvcCkgY29udGludWU7XHJcbiAgICAgIHF1ZXN0aW9uRGV0YWlsc1twcm9wXSA9IGN1cnJRdWVzdGlvbltwcm9wXTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHF1ZXN0aW9uRGV0YWlscztcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuYnRuKSB7XHJcbiAgICAgIHRoaXMuYnRuLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcS1tb2RlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmYWRlSW4odGhpcy5tYWluRGl2KTtcclxuICB9XHJcblxyXG4gIGRlYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5idG4pIHtcclxuICAgICAgdGhpcy5idG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1xLW1vZGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZhZGVPdXQodGhpcy5tYWluRGl2KTtcclxuICB9XHJcbn0iLCIvLyBSZXR1cm5zIHRoZSBjYXRlZ29yeSBhbmQgdHlwZSBmb3IgYSBnaXZlbiBxdWVzdGlvbiBhbmQgb2JqZWN0LiBJZiBvYmplY3QgaGFzIFxyXG4vLyBubyBjYXRlZ29yeSB0aGVuIHVzZSB0aGF0IG9mIHRoZSBxdWVzdGlvbi4gVXNlZCBvbiBiYXNlUXVlc3Rpb25zIFF1ZXVlIGFuZCBcclxuLy8gc2luZ2xlTW9kZVFTb3VyY2UuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRRQ2F0ZWdvcnkocSwgb2JqQ2F0VHlwZSwgb2JqQ2F0KSB7XHJcbiAgcmV0dXJuIChvYmpDYXQpID8gW29iakNhdFR5cGUsIG9iakNhdF0gOiBcclxuICAgIFtxLmNhdGVnb3J5VHlwZU5hbWUgPz8gcS5jYXRlZ29yeVR5cGUsIHEuY2F0ZWdvcnlOYW1lID8/IHEuY2F0ZWdvcnldO1xyXG59XHJcblxyXG4vLyBHZXRzIHRoZSBjb3JyZWN0IGltYWdlIHBhdGgsIGRlcGVuZGluZyBvbiB0aGUgY2F0ZWdvcnkuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRRSW5mbyhxLCBkZXRhaWwsIGNhdFR5cGVOYW1lLCBjYXROYW1lKSB7XHJcbiAgbGV0IGluZm87XHJcblxyXG4gIHN3aXRjaChjYXRUeXBlTmFtZSwgY2F0TmFtZSkge1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiRmlsbXNcIikgOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LnBvc3RlclBhdGggPyBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzE4NS8ke3EucG9zdGVyUGF0aH1gIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtnZXREaXNwbGF5UmVsZWFzZURhdGUocT8ucmVsZWFzZURhdGUpfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9YCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogYCR7cT8udGl0bGV9YFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIChcIkludGVyZXN0c1wiLCBcIlRWXCIpIDpcclxuICAgICAgaW5mbyA9IHtcclxuICAgICAgICBpbWdQYXRoOiBxPy5wb3N0ZXJQYXRoID8gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3cxODUvJHtxLnBvc3RlclBhdGh9YCA6IG51bGwsXHJcbiAgICAgICAgcURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX0gKCR7Z2V0RGlzcGxheVJlbGVhc2VEYXRlKHE/LnJlbGVhc2VEYXRlKX0pYCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfWAsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IGAke3E/LnRpdGxlfWBcclxuICAgICAgfTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAoXCJJbnRlcmVzdHNcIiwgXCJNdXNpY1wiKTpcclxuICAgICAgaW5mbyA9IHtcclxuICAgICAgICBpbWdQYXRoOiBxPy5pbWFnZSxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRyYWNrTmFtZX0gLSAke3E/LmFydGlzdH0gKCR7cT8uYWxidW19IC0gJHtuZXcgRGF0ZShxPy5yZWxlYXNlRGF0ZSkuZ2V0RnVsbFllYXIoKX0pYCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IGAke3E/LnRyYWNrTmFtZX0gLSAke3E/LmFydGlzdH1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50cmFja05hbWV9YFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIChcIkludGVyZXN0c1wiLCBcIlZpZGVvIEdhbWVzXCIpOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LmltYWdlID8gYGh0dHBzOi8vaW1hZ2VzLmlnZGIuY29tL2lnZGIvaW1hZ2UvdXBsb2FkL3RfY292ZXJfYmlnLyR7cS5pbWFnZX0uanBnYCA6IG51bGwsXHJcbiAgICAgICAgcURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX0gKCR7Z2V0RGlzcGxheVJlbGVhc2VEYXRlKHE/LnJlbGVhc2VEYXRlKX0pICgke3EucGxhdGZvcm1zfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9YCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogYCR7cT8udGl0bGV9YFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIChcIkludGVyZXN0c1wiLCBcIkJvb2tzXCIpOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LmltYWdlID8gYGh0dHBzOi8vY292ZXJzLm9wZW5saWJyYXJ5Lm9yZy9iL2lkLyR7cS5pbWFnZX0tTS5qcGdgIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtxPy5hdXRob3J9KWAsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50aXRsZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IHE/LnRleHQsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBxPy5zaG9ydFRleHQsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IHE/LnNob3J0VGV4dCA/PyBxLnRleHRcclxuICAgICAgfTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gaW5mb1tkZXRhaWxdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREaXNwbGF5UmVsZWFzZURhdGUocmVsZWFzZURhdGUpIHtcclxuICByZXR1cm4gcmVsZWFzZURhdGUgPyBuZXcgRGF0ZShyZWxlYXNlRGF0ZSkuZ2V0RnVsbFllYXIoKSA6IFwiVW5rbm93blwiO1xyXG59XHJcblxyXG4vLyBVc2VkIGluIHRoZSBkb20gcXVldWUgZm9yIGFuc3dlcmluZyBxdWVzdGlvbnMgKHNlYXJjaCBhbmQgYXV0bykgYW5kIGFsc28gaW4gXHJcbi8vIHByZXYgYW5zd2VycyBhbmQgcmVjb21tZW5kYXRpb25zIHBhZ2VzLlxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUURvbUl0ZW0ocSwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpIHtcclxuICBjb25zdCBuZXdEb21RID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTs7XHJcblxyXG4gIGNvbnN0IGltZ1BhdGggPSBnZXRRSW5mbyhxLCBcImltZ1BhdGhcIiwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gIFxyXG4gIGlmIChpbWdQYXRoKSB7XHJcbiAgICBjb25zdCBkb21JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgZG9tSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBpbWdQYXRoKTtcclxuICAgIC8vIGRvbUltZy5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcclxuICAgIGRvbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgcT8udGl0bGUpO1xyXG4gICAgbmV3RG9tUS5hcHBlbmRDaGlsZChkb21JbWcpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNvbnN0IG5vSW1nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG5vSW1nRGl2LmNsYXNzTGlzdC5hZGQoXCJwbGFjZWhvbGRlci1pbWdcIik7XHJcbiAgICBjb25zdCBub0ltZ1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGNvbnN0IHBsYWNlaG9sZGVyVGV4dCA9IGdldFFJbmZvKHEsIFwiaW1nUGxhY2VIb2xkZXJUeHRcIiwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gICAgbm9JbWdUZXh0LmlubmVyVGV4dCA9IHBsYWNlaG9sZGVyVGV4dDtcclxuXHJcbiAgICBub0ltZ0Rpdi5hcHBlbmRDaGlsZChub0ltZ1RleHQpO1xyXG4gICAgbmV3RG9tUS5hcHBlbmRDaGlsZChub0ltZ0Rpdik7XHJcbiAgfTtcclxuXHJcbiAgaWYgKHEucHJldmlld1VybCkge1xyXG4gICAgY29uc3QgZG9tTXVzaWNQbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XHJcbiAgICBkb21NdXNpY1BsYXllci5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcInRydWVcIik7XHJcbiAgICBkb21NdXNpY1BsYXllci5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgcS5wcmV2aWV3VXJsKTtcclxuICAgIG5ld0RvbVEuYXBwZW5kQ2hpbGQoZG9tTXVzaWNQbGF5ZXIpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBuZXdEb21RO1xyXG59IiwiLy8gSGVscGVyIGNsYXNzIGZvciB0aGUgYmFzZSBxdWVzdGlvbnMgcXVldWUsIHRvIHJlcHJlc2VudCB0aGUgRE9NIHF1ZXVlIGl0ZW1zLlxyXG5pbXBvcnQgeyBjcmVhdGVRRG9tSXRlbSwgZ2V0UUNhdGVnb3J5IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3F1ZXN0aW9uc0hlbHBlcnMubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIChlZy4gcG9zdGVyIGltYWdlcykgYW5kIGhhbmRsZSB0aGVpciB0cmFuc2l0aW9ucyB3aGVuIGFuc3dlcmluZyBxdWVzdGlvbnMuXHJcbmV4cG9ydCBjbGFzcyBEb21RdWV1ZSB7XHJcbiAgX3F1ZXVlID0gW107XHJcbiAgI251bVRyYW5zaXRpb25zID0gMDtcclxuICAjY2F0ZWdvcnlUeXBlTmFtZTtcclxuICAjY2F0ZWdvcnlOYW1lO1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpIHtcclxuICAgIHRoaXMuX3F1ZXVlID0gcU1vZGVNYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIucXVldWUtaW1nc1wiKTtcclxuICAgIHRoaXMuI2NhdGVnb3J5VHlwZU5hbWUgPSBjYXRlZ29yeVR5cGU7XHJcbiAgICB0aGlzLiNjYXRlZ29yeU5hbWUgPSBjYXRlZ29yeTtcclxuXHJcbiAgICB0aGlzLl9xdWV1ZS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBldnQgPT4ge1xyXG4gICAgICB0aGlzLiNlbmRUcmFuc2l0aW9uKGV2dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIE9uY2UgRE9NIHF1ZXVlIGhhcyBkb25lIHRoZSB0cmFuc2l0aW9uIGZvciBhbnN3ZXJpbmcgYSBxdWVzdGlvbiwgZGVsZXRlIFxyXG4gIC8vIHRoZSBkb20gcXVlc3Rpb24uIENoZWNrIGluIGNhc2UgYW55IG1vcmUgdHJhbnNpdGlvbnMgYXJlIHF1ZXVlZCBhbmQgY2FycnkgXHJcbiAgLy8gdGhlbSBvdXQgaWYgc28uXHJcbiAgI2VuZFRyYW5zaXRpb24oZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnByb3BlcnR5TmFtZSAhPT0gXCJsZWZ0XCIpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLiNudW1UcmFuc2l0aW9ucy0tO1xyXG4gICAgdGhpcy5fZGVsZXRlRG9tUSgwKTtcclxuICAgIHRoaXMuX3F1ZXVlLmNsYXNzTGlzdC5yZW1vdmUoXCJxdWV1ZS1pbWdzLXRyYW5zaXRpb25pbmdcIik7XHJcbiAgICBcclxuICAgIC8vIElmIHVzZXIgaGFzIGNsaWNrZWQgbXVsdGlwbGUgYW5zd2VycyBxdWlja2x5LCB0aGVuIGNhcnJ5IG91dCBhbnkgXHJcbiAgICAvLyBxdWV1ZWQgdHJhbnNpdGlvbnMgZm9yIGZ1cnRoZXIgYW5zd2Vycy5cclxuICAgIGlmICh0aGlzLiNudW1UcmFuc2l0aW9ucyA+IDApIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLiNkb1RyYW5zaXRpb24oKSwgMCk7XHJcbiAgICB9OyAgICBcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBET00gcXVldWUgaW1hZ2VzIGFuZCBhdWRpbyAod2hlcmUgcHJlc2VudCkgZnJvbSBsaXN0IG9mIHF1ZXN0aW9ucy5cclxuICBhZGRUb1F1ZXVlKHFzKSB7XHJcbiAgICBmb3IgKGxldCBxIG9mIHFzKSB7XHJcbiAgICAgIGNvbnN0IFtjYXRUeXBlTmFtZSwgY2F0TmFtZV0gPSBnZXRRQ2F0ZWdvcnkocSwgXHJcbiAgICAgICAgdGhpcy4jY2F0ZWdvcnlUeXBlTmFtZSwgdGhpcy4jY2F0ZWdvcnlOYW1lKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5ld0RvbVEgPSBjcmVhdGVRRG9tSXRlbShxLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgICAgIG5ld0RvbVEuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBxLl9pZCk7XHJcbiAgICAgIHRoaXMuX3F1ZXVlLmFwcGVuZENoaWxkKG5ld0RvbVEpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBhbiBpdGVtIGZyb20gdGhlIERPTSBpbWFnZXMgcXVldWUgYW5kIGhhbmRsZSB0aGUgdHJhbnNpdGlvbi5cclxuICByZW1vdmVRdWV1ZUl0ZW0oaWR4LCBkb1RyYW5zKSB7XHJcbiAgICBpZiAodGhpcy5fcXVldWUuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgIC8vIElmIGZpcnN0IGl0ZW0gaW4gcXVldWUgKGllLiBoYXZlIGFuc3dlcmVkIGEgcXVlc3Rpb24pLCB0aGVuIG5lZWQgdG8gXHJcbiAgICAgIC8vIGhhbmRsZSB0aGUgdHJhbnNpdGlvbiBvZiBpbWFnZXMuXHJcbiAgICAgIGlmIChpZHggPT09IDAgJiYgZG9UcmFucykge1xyXG4gICAgICAgIHRoaXMuI251bVRyYW5zaXRpb25zKys7XHJcbiAgICAgICAgdGhpcy4jZG9UcmFuc2l0aW9uKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSBqdXN0IGRlbGV0ZSB0aGUgRE9NIHF1ZXVlIGl0ZW0uXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZURvbVEoaWR4KTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBEZWxldGVzIGFuIGluZGl2aWR1YWwgRE9NIHF1ZXVlIGl0ZW0uXHJcbiAgX2RlbGV0ZURvbVEoaWR4KSB7XHJcbiAgICAvLyBJZiByZW1vdmluZyBvdXRkYXRlZCBxdWV1ZSBpdGVtcyBmcm9tIG1pZGRsZSBvZiBxdWV1ZSBidXQgcXVldWUgaXMgc3RpbGwgXHJcbiAgICAvLyB0cmFuc2l0aW9uaW5nLCBib29zdCB0aGUgaW5kZXggYnkgMSB0byBmYWN0b3IgaW4gdGhhdCB0aGUgcHJldmlvdXNseSBcclxuICAgIC8vIGFuc3dlcmVkIHEgd2lsbCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBxdWV1ZSBidXQgbm90IHRoZSBkb20gcXVldWUgeWV0IFxyXG4gICAgLy8gYXMgdGhlIHRyYW5zaXRpb24gaGFzbid0IHlldCBjb21wbGV0ZWQuXHJcbiAgICBpZiAodGhpcy5fcXVldWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwicXVldWUtaW1ncy10cmFuc2l0aW9uaW5nXCIpICYmIGlkeCA+IDApIHtcclxuICAgICAgaWR4Kys7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3F1ZXVlLnJlbW92ZUNoaWxkKHRoaXMuX3F1ZXVlLmNoaWxkcmVuW2lkeF0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2F1c2VzIHRyYW5zaXRpb25pbmcgb2YgcG9zdGVyIGltYWdlcyB3aGVuIGFuc3dlcmluZyBhIHF1ZXN0aW9uLlxyXG4gICNkb1RyYW5zaXRpb24oKSB7XHJcbiAgICB0aGlzLl9xdWV1ZS5jbGFzc0xpc3QuYWRkKFwicXVldWUtaW1ncy10cmFuc2l0aW9uaW5nXCIpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRRdWV1ZSgpIHtcclxuICAgIHRoaXMuX3F1ZXVlLmlubmVyVGV4dCA9IFwiXCI7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZ2V0UUNhdGVnb3J5LCBnZXRRSW5mbyB9IGZyb20gXCIuLi8uLi8uLi8uLi9xdWVzdGlvbnNIZWxwZXJzLm1qc1wiO1xyXG5pbXBvcnQgeyBEb21RdWV1ZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvZG9tUXVldWUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlUXVlc3Rpb25zUXVldWUge1xyXG4gIF9jYXRlZ29yeVR5cGVOYW1lO1xyXG4gIF9jYXRlZ29yeU5hbWU7XHJcbiAgcXVldWUgPSBbXTtcclxuICBxdWV1ZVR5cGU7XHJcbiAgX2RvbVF1ZXVlO1xyXG4gIF9xdWV1ZVByZXZRcyA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSA9IG51bGwsIGNhdGVnb3J5ID0gbnVsbCkge1xyXG4gICAgdGhpcy5fY2F0ZWdvcnlUeXBlTmFtZSA9IGNhdGVnb3J5VHlwZTtcclxuICAgIHRoaXMuX2NhdGVnb3J5TmFtZSA9IGNhdGVnb3J5O1xyXG4gICAgdGhpcy5fZG9tUXVldWUgPSBuZXcgRG9tUXVldWUocU1vZGVNYWluRGl2LCBjYXRlZ29yeVR5cGUsIGNhdGVnb3J5KTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgdGhlIHRleHQgdG8gZGlzcGxheSBvZiB0aGUgY3VycmVudCBmaXJzdCBpdGVtIGluIHRoZSBxdWVzdGlvbnMgcXVldWUuXHJcbiAgZ2V0Q3VyclFJbmZvKCkge1xyXG4gICAgbGV0IGN1cnJRVGV4dDtcclxuICAgIGxldCBjdXJyUUFucztcclxuICAgIGxldCBlbmRPZlF1ZXVlID0gZmFsc2U7XHJcblxyXG4gICAgLy8gSGlkZSBxdWVzdGlvbiBhbnN3ZXIgcGFuZWwgaWYgcnVuIG91dCBvZiBxdWVzdGlvbnMgYW5kIGRpc3BsYXkgYSBtZXNzYWdlLlxyXG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGN1cnJRVGV4dCA9IHRoaXMuX2dldEVuZFF1ZXVlTXNnKCk7XHJcbiAgICAgIGVuZE9mUXVldWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnN0IGN1cnJRID0gdGhpcy5xdWV1ZVswXTtcclxuICAgICAgY29uc3QgW2NhdFR5cGVOYW1lLCBjYXROYW1lXSA9IGdldFFDYXRlZ29yeShjdXJyUSwgdGhpcy5fY2F0ZWdvcnlUeXBlTmFtZSwgXHJcbiAgICAgICAgdGhpcy5fY2F0ZWdvcnlOYW1lKTtcclxuICAgICAgICBcclxuICAgICAgY3VyclFUZXh0ID0gZ2V0UUluZm8oY3VyclEsIFwicURpc3BsYXlUZXh0XCIsIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICAgICAgY3VyclFBbnMgPSBjdXJyUS5jdXJyQW5zO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge2VuZE9mUXVldWUsIGN1cnJRVGV4dCwgY3VyclFBbnN9O1xyXG4gIH1cclxuXHJcbiAgX2dldEVuZFF1ZXVlTXNnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZW5kUXVldWVNc2c7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGUgcXVldWUgYW5kIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gZnJvbSB0aGUgRE9NIFxyXG4gIC8vIHF1ZXVlLiBSZXR1cm5zIHRoZSByZW1vdmVkIHF1ZXVlIGl0ZW0uXHJcbiAgcmVtb3ZlUXVldWVJdGVtKGlkeCwgZG9UcmFucykge1xyXG4gICAgY29uc3QgdGhpc1F1ZXVlSXRlbSA9IHRoaXMucXVldWVbaWR4XTtcclxuICAgIHRoaXMucXVldWUuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICB0aGlzLl9kb21RdWV1ZS5yZW1vdmVRdWV1ZUl0ZW0oaWR4LCBkb1RyYW5zKTtcclxuXHJcbiAgICByZXR1cm4gdGhpc1F1ZXVlSXRlbTtcclxuICB9XHJcblxyXG4gIC8vIEFkZHMgYXJyYXkgb2YgcXVlc3Rpb25zIHRvIHF1ZXVlIGFuZCBhZGRzIGNvcnJlc3BvbmRpbmcgbmV3IGVsZW1lbnRzIHRvIFxyXG4gIC8vIERPTSBxdWV1ZSB0b28uXHJcbiAgX2FkZFRvUXVldWUocXMpIHtcclxuICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmNvbmNhdChxcyk7XHJcbiAgICB0aGlzLl9kb21RdWV1ZS5hZGRUb1F1ZXVlKHFzKTtcclxuICB9XHJcblxyXG4gIC8vIENsZWFycyB0aGUgRE9NIGl0ZW1zIHF1ZXVlLlxyXG4gIF9yZXNldFF1ZXVlKCkge1xyXG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xyXG4gICAgdGhpcy5fZG9tUXVldWUucmVzZXRRdWV1ZSgpO1xyXG4gICAgdGhpcy5fcXVldWVQcmV2UXMgPSBbXTtcclxuICB9XHJcblxyXG4gIHNhdmVQcmV2UShxSWQpIHtcclxuICAgIHRoaXMuX3F1ZXVlUHJldlFzLnB1c2gocUlkKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBEb21RdWV1ZSB9IGZyb20gXCIuL2RvbVF1ZXVlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlRG9tUXVldWUgZXh0ZW5kcyBEb21RdWV1ZSB7XHJcbiAgLy8gUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgRE9NIGltYWdlcyBxdWV1ZSBhbmQgaGFuZGxlIHRoZSB0cmFuc2l0aW9uLlxyXG4gIHJlbW92ZVF1ZXVlSXRlbShpZHgsIGRvVHJhbnMpIHtcclxuICAgIGlmICh0aGlzLl9xdWV1ZS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgaWYgKGlkeCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZURvbVEoaWR4KTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQmFzZVF1ZXN0aW9uc1F1ZXVlIH0gZnJvbSBcIi4uL2Jhc2VRdWVzdGlvbnNRdWV1ZS5tanNcIjtcclxuaW1wb3J0IHsgU2luZ2xlRG9tUXVldWUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9zaW5nbGVEb21RdWV1ZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNpbmdsZVF1ZXN0aW9uUXVldWUgZXh0ZW5kcyBCYXNlUXVlc3Rpb25zUXVldWUge1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSA9IG51bGwsIGNhdGVnb3J5ID0gbnVsbCkge1xyXG4gICAgc3VwZXIocU1vZGVNYWluRGl2LCBjYXRlZ29yeVR5cGUsIGNhdGVnb3J5KTtcclxuXHJcbiAgICB0aGlzLl9kb21RdWV1ZSA9IG5ldyBTaW5nbGVEb21RdWV1ZShxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKHF1ZXN0aW9uKSB7XHJcbiAgICB0aGlzLl9yZXNldFF1ZXVlKCk7XHJcbiAgICB0aGlzLl9hZGRUb1F1ZXVlKFtxdWVzdGlvbl0pO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGZhZGVJbiwgZnVsbHlGYWRlT3V0IH0gZnJvbSBcIi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2VudHJlTW9kYWwge1xyXG4gIHdyYXBwZXI7XHJcbiAgI21vZGFsO1xyXG4gICNjbG9zZU1vZGFsQnRuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih3cmFwcGVyKSB7XHJcbiAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgdGhpcy4jbW9kYWwgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuY2VudHJlLW1vZGFsXCIpO1xyXG4gICAgdGhpcy4jY2xvc2VNb2RhbEJ0biA9IHRoaXMuI21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIik7XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdXAgdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgY2xvc2VNb2RhbEVsZW1zID0gW3RoaXMuI2Nsb3NlTW9kYWxCdG4sIHRoaXMud3JhcHBlcl07XHJcblxyXG4gICAgZm9yIChsZXQgY2xvc2VNb2RhbEVsZW0gb2YgY2xvc2VNb2RhbEVsZW1zKSB7XHJcbiAgICAgIGNsb3NlTW9kYWxFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmhpZGUoKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuI21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4gZXZ0LnN0b3BQcm9wYWdhdGlvbigpKTtcclxuICB9XHJcblxyXG4gIHNob3coKSB7XHJcbiAgICBmYWRlSW4odGhpcy53cmFwcGVyKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBmdWxseUZhZGVPdXQodGhpcy53cmFwcGVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBRdWVzdGlvbnNNb2RlIH0gZnJvbSBcIi4uLy4uL3F1ZXN0aW9uc01vZGUubWpzXCI7XHJcblxyXG5pbXBvcnQgeyBTaW5nbGVRdWVzdGlvblF1ZXVlIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL1xcXHJcbnN1Yi1jbGFzc2VzL3NpbmdsZVF1ZXN0aW9uUXVldWUubWpzXCI7XHJcblxyXG5pbXBvcnQgeyBDZW50cmVNb2RhbCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jZW50cmVNb2RhbC5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNpbmdsZUFuc3dlck1vZGUgZXh0ZW5kcyBRdWVzdGlvbnNNb2RlIHtcclxuICBuYW1lID0gXCJzaW5nbGVcIjtcclxuICBfcVNvdXJjZTtcclxuICBfYW5zd2VyVWlNb2RhbDtcclxuXHJcbiAgY29uc3RydWN0b3IobWFpbkRpdiwgcVNvdXJjZSwgYnRuID0gbnVsbCkge1xyXG4gICAgc3VwZXIobWFpbkRpdiwgYnRuKTtcclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUgPSBuZXcgU2luZ2xlUXVlc3Rpb25RdWV1ZShtYWluRGl2KTtcclxuICAgIHRoaXMuX3FTb3VyY2UgPSBxU291cmNlO1xyXG5cclxuICAgIGNvbnN0IG1vZGFsV3JhcHBlciA9IG1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5jZW50cmUtbW9kYWwtd3JhcHBlclwiKTtcclxuICAgIHRoaXMuX2Fuc3dlclVpTW9kYWwgPSBuZXcgQ2VudHJlTW9kYWwobW9kYWxXcmFwcGVyKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICBzdXBlci5pbml0KCk7XHJcblxyXG4gICAgdGhpcy5fcVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiYW5zd2VyU2luZ2xlUVwiLCBldnQgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDbGlja1NpbmdsZVEoZXZ0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2Fuc3dlclVpTW9kYWwuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2F2ZSBhbnN3ZXIgaW5mb3JtYXRpb24uXHJcbiAgYW5zd2VyUXVlc3Rpb24oZXZlbnQpIHtcclxuICAgIGNvbnN0IGN1cnJRdWVzdGlvbiA9IHRoaXMucXVlc3Rpb25zUXVldWUucmVtb3ZlUXVldWVJdGVtKDAsIHRydWUpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgYW5zd2VyIG9iamVjdCBhcyBpdCBzaG91bGQgYmUgc3RvcmVkIGluIHRoZSBEQi5cclxuICAgIGNvbnN0IGFuc3dlck9iaiA9IHRoaXMuZ2V0QW5zd2VyT2JqKGV2ZW50LCBjdXJyUXVlc3Rpb24pOyBcclxuXHJcbiAgICAvLyBFbWl0IGV2ZW50IHRvIGJlIHBpY2tlZCB1cCBieSB0aGUgcXVlc3Rpb25zIHBhZ2UuXHJcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImFuc3dlcmVkUVwiLCB7ZGV0YWlsOiB7YW5zd2VyT2JqOiBhbnN3ZXJPYmp9fSlcclxuICAgICk7XHJcblxyXG4gICAgLy8gSGlkZSB0aGUgYW5zd2VyIHVpIHBhbmVsLlxyXG4gICAgdGhpcy5fYW5zd2VyVWlNb2RhbC5oaWRlKCk7XHJcblxyXG4gICAgcmV0dXJuIGFuc3dlck9iajtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbGlja1NpbmdsZVEoZXZ0KSB7XHJcbiAgICAvLyBHZXQgdGhlIHF1ZXN0aW9uIGZyb20gdGhpcyBpdGVtIGFuZCBtYWtlIGl0IHRoZSBxdWV1ZSBjb250ZW50cy5cclxuICAgIGNvbnN0IHRoaXNRSXRlbSA9IGV2dC5kZXRhaWwucXVlc3Rpb247XHJcbiAgICBjb25zdCB0aGlzUXVlc3Rpb24gPSB0aGlzLl9tYWtlUXVlc3Rpb24odGhpc1FJdGVtKTtcclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUudXBkYXRlKHRoaXNRdWVzdGlvbik7XHJcblxyXG4gICAgLy8gU2hvdyB0aGUgYW5zd2VyIHVpIHBhbmVsLlxyXG4gICAgdGhpcy5fYW5zd2VyVWlNb2RhbC5zaG93KCk7XHJcblxyXG4gICAgLy8gVXBkYXRlcyB0aGUgZGlzcGxheWVkIHF1ZXN0aW9uIGluIHRoZSBhbnN3ZXIgVUkgcGFuZWwgd2l0aCB0aGUgbmV3IGZpcnN0IFxyXG4gICAgLy8gcXVldWUgaXRlbS5cclxuICAgIHRoaXMuX3Nob3dDdXJyUSgpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGNyZWF0ZVFEb21JdGVtLCBnZXRRQ2F0ZWdvcnksIGdldFFJbmZvIH0gZnJvbSBcIi4uLy4uL3F1ZXN0aW9uc0hlbHBlcnMubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVNb2RlUVNvdXJjZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcclxuICBfbGlzdERpdjtcclxuICBfY29udGVudERpdjtcclxuICBfcURpdkNsYXNzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihsaXN0RGl2KSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5fbGlzdERpdiA9IGxpc3REaXY7XHJcbiAgICB0aGlzLl9jb250ZW50RGl2ID0gbGlzdERpdi5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIik7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgYSBkaXYgd2l0aCBpbmZvcm1hdGlvbiBmb3IgYSBxdWVzdGlvbiBpdGVtLlxyXG4gIF9jcmVhdGVRRGl2KHEpIHtcclxuICAgIGNvbnN0IFtjYXRUeXBlTmFtZSwgY2F0TmFtZV0gPSBnZXRRQ2F0ZWdvcnkocSwgdGhpcy5fY2F0ZWdvcnlUeXBlTmFtZSwgXHJcbiAgICAgIHRoaXMuX2NhdGVnb3J5TmFtZSk7XHJcblxyXG4gICAgY29uc3QgcVNvdXJjZUl0ZW0gPSBjcmVhdGVRRG9tSXRlbShxLnF1ZXN0aW9uRGV0YWlscywgY2F0VHlwZU5hbWUsIFxyXG4gICAgICBjYXROYW1lKTtcclxuICAgIFxyXG4gICAgcVNvdXJjZUl0ZW0uY2xhc3NMaXN0LmFkZCh0aGlzLl9xRGl2Q2xhc3MpO1xyXG5cclxuICAgIGNvbnN0IHFUZXh0ID0gdGhpcy5fY3JlYXRlUVRleHRFbGVtKHEsIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICAgIGNvbnN0IHFTY29yZSA9IHRoaXMuX2NyZWF0ZXRRU2NvcmVFbGVtKHEpO1xyXG4gICAgdGhpcy5fc2V0dXBRSW1nKHEsIHFTb3VyY2VJdGVtKTtcclxuXHJcbiAgICBjb25zdCBxSW5mbyA9IHtcclxuICAgICAgcVNvdXJjZUl0ZW06IHFTb3VyY2VJdGVtLFxyXG4gICAgICBxVGV4dDogcVRleHQsXHJcbiAgICAgIHFTY29yZTogcVNjb3JlLFxyXG4gICAgICBjYXRUeXBlTmFtZTogY2F0VHlwZU5hbWUsXHJcbiAgICAgIGNhdE5hbWU6IGNhdE5hbWVcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fYWRkVG9RRGl2KHFJbmZvKTtcclxuICAgIHJldHVybiBxU291cmNlSXRlbTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVSYXRlQnRuQ2xpY2soZXZ0LCBxdWVzdGlvbikge1xyXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJhbnN3ZXJTaW5nbGVRXCIsIHtkZXRhaWw6IHtxdWVzdGlvbjogcXVlc3Rpb259fSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBCdWlsZHMgdGhlIGNvbnRlbnQgZGl2IHdpdGggYWxsIHRoZSBxdWVzdGlvbnMuXHJcbiAgX2J1aWxkQ29udGVudERpdihxdWVzdGlvbnMpIHtcclxuICAgIGZvciAobGV0IHF1ZXN0aW9uIG9mIHF1ZXN0aW9ucykge1xyXG4gICAgICBjb25zdCBxU291cmNlSXRlbSA9IHRoaXMuX2NyZWF0ZVFEaXYocXVlc3Rpb24pO1xyXG4gICAgICB0aGlzLl9jb250ZW50RGl2LmFwcGVuZENoaWxkKHFTb3VyY2VJdGVtKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlUVRleHRFbGVtKHEsIGNhdFR5cGVOYW1lLCBjYXROYW1lKSB7XHJcbiAgICBjb25zdCBxVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuICAgIHFUZXh0LmlubmVyVGV4dCA9IGdldFFJbmZvKHEucXVlc3Rpb25EZXRhaWxzLCBcInFTb3VyY2VEaXNwbGF5VGV4dFwiLCBcclxuICAgICAgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gICAgXHJcbiAgICBxVGV4dC5jbGFzc0xpc3QuYWRkKFwicS10ZXh0XCIpO1xyXG4gICAgcmV0dXJuIHFUZXh0O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZXRRU2NvcmVFbGVtKHEpIHtcclxuICAgIGNvbnN0IHFTY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgcVNjb3JlLmlubmVyVGV4dCA9IHRoaXMuX2dldFNjb3JlVGV4dChxKTtcclxuICAgIHFTY29yZS5jbGFzc0xpc3QuYWRkKFwidXNlci1zY29yZVwiKTtcclxuICAgIHJldHVybiBxU2NvcmU7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIGNsaWNrIHRvIHRoZSBpbWFnZSAvIHBsYWNlaG9sZGVyIGltYWdlLlxyXG4gIC8vIEFsc28gY3JlYXRlIGFuZCBhZGQgaG92ZXIgZWZmZWN0IGRpdi5cclxuICBfc2V0dXBRSW1nKHEsIHFTb3VyY2VJdGVtKSB7XHJcbiAgICBjb25zdCBxSW1nID0gcVNvdXJjZUl0ZW0ucXVlcnlTZWxlY3RvcihcImltZ1wiKSA/PyBcclxuICAgICAgcVNvdXJjZUl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wbGFjZWhvbGRlci1pbWdcIik7XHJcblxyXG4gICAgcUltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUmF0ZUJ0bkNsaWNrKGV2dCwgcSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbWdXcmFwcGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGltZ1dyYXBwZXJEaXYuY2xhc3NMaXN0LmFkZChcInEtc291cmNlLWltZy13cmFwcGVyXCIpO1xyXG5cclxuICAgIC8vIENoYW5nZSBpbWcgdG8gYmUgcGFyZW50ZWQgYnkgdGhlIGltZyB3cmFwcGVyIGRpdiBpbnN0ZWFkLlxyXG4gICAgaW1nV3JhcHBlckRpdi5hcHBlbmRDaGlsZChxSW1nKTtcclxuICAgIHFTb3VyY2VJdGVtLmluc2VydEJlZm9yZShpbWdXcmFwcGVyRGl2LCBxU291cmNlSXRlbS5jaGlsZHJlblswXSk7XHJcblxyXG4gICAgLy8gQWRkIGEgaG92ZXIgZGl2LCBhbHNvIGluIHRoZSB3cmFwcGVyIGRpdi5cclxuICAgIGNvbnN0IGhvdmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGhvdmVyRGl2LmNsYXNzTGlzdC5hZGQoXCJxLXNvdXJjZS1pdGVtLWhvdmVyXCIpO1xyXG5cclxuICAgIGNvbnN0IGhvdmVyVHh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBob3ZlclR4dC5pbm5lclRleHQgPSB0aGlzLl9nZXRIb3ZlclRleHQoKTtcclxuICAgIGhvdmVyVHh0LmNsYXNzTGlzdC5hZGQoXCJxLXNvdXJjZS1ob3Zlci10eHRcIik7XHJcblxyXG4gICAgaG92ZXJEaXYuYXBwZW5kQ2hpbGQoaG92ZXJUeHQpO1xyXG4gICAgaW1nV3JhcHBlckRpdi5hcHBlbmRDaGlsZChob3ZlckRpdik7XHJcbiAgfVxyXG59IiwiLy8gQ2xhc3MgdG8gc3RvcmUgY2F0ZWdvcnkgdHlwZSBhbmQgY2F0ZWdvcnkgaW5mbyBpbiBhIHRyZWUgc3RydWN0dXJlIG9mIG5lc3RlZFxyXG4vLyBvYmplY3RzIGZvciBhbGwgY2F0ZWdvcmllcyBwcmVzZW50LlxyXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcnlJbmZvIHtcclxuICBjYXRUeXBlcyA9IHt9O1xyXG5cclxuICAvLyBXaGVyZSBjYXRJbmZvIGlzIGFuIG9wdGlvbmFsIGNhdGVnb3J5IGluZm8gc3R5bGUgb2JqZWN0IChqdXN0IHRoZSBkYXRhLCBub3QgXHJcbiAgLy8gYW4gYWN0dWFsIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgLSBmcm9tIHdoZW4gc3RyaW5naWZpZWQgYW5kIHNlbnQgdXNpbmcgZmV0Y2gpLlxyXG4gIC8vIGRiQ2F0VHlwZXMgaXMgYSBsaXN0IG9mIGNhdGVnb3J5VHlwZSBkb2N1bWVudHMgYXMgcmV0dXJuZWQgZnJvbSBkb2luZyBmaW5kIFxyXG4gIC8vIG9mIGNhdGVnb3J5IHR5cGVzIGluIERCLlxyXG4gIGNvbnN0cnVjdG9yKGNhdEluZm8gPSBudWxsLCBkYkNhdFR5cGVzID0gbnVsbCkge1xyXG4gICAgaWYgKGNhdEluZm8pIHtcclxuICAgICAgdGhpcy5jYXRUeXBlcyA9IGNhdEluZm8uY2F0VHlwZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkYkNhdFR5cGVzKSB7XHJcbiAgICAgIHRoaXMuI2NvbnN0cnVjdEZyb21DYXRUeXBlcyhkYkNhdFR5cGVzKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBDb25zdHJ1Y3QgdGhpcyBjYXRlZ29yeSBpbmZvIGJhc2VkIG9uIGEgZ2l2ZW4gYXJyYXkgb2YgY2F0ZWdvcnkgdHlwZXMgYW5kIFxyXG4gIC8vIHRoZWlyIG5lc3RlZCBjYXRlZ29yaWVzIChhcyBhIHJlc3VsdCBvZiBhIGRpYiBmaW5kIG9uIGNhdGVnb3J5IHR5cGVzKS5cclxuICAjY29uc3RydWN0RnJvbUNhdFR5cGVzKGRiQ2F0VHlwZXMpIHtcclxuICAgIGZvciAobGV0IGNhdFR5cGUgb2YgZGJDYXRUeXBlcykge1xyXG4gICAgICBmb3IgKGxldCBjYXQgb2YgY2F0VHlwZS5jYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgY29uc3QgaXNSZWNEYXRhID0ge2lzUmVjb21tZW5kYWJsZTogY2F0LmlzUmVjb21tZW5kYWJsZX07XHJcbiAgICAgICAgdGhpcy5jaGVja0FuZEFkZENhdGVnb3J5V2l0aFR5cGUoY2F0VHlwZS5uYW1lLCBjYXQubmFtZSwgaXNSZWNEYXRhKTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBHaXZlbiBhIGNhdGVnb3J5IHR5cGUgYW5kIGNhdGVnb3J5LCBhZGRzIGJvdGgsIGp1c3QgdGhlIGNhdGVnb3J5LCBvclxyXG4gIC8vIG5laXRoZXIgb2YgdGhlbSBkZXBlbmRpbmcgb24gd2hhdCBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzLlxyXG4gIC8vIGRhdGEgc2hvdWxkIGJlIGFuIG9iamVjdCBhbmQgYWxsIHRoZSBrZXk6IHZhbHVlIHBhaXJzIGZyb20gZGF0YSB3aWxsIGJlXHJcbiAgLy8gYWRkZWQgaW4gdG8gdGhlIENhdGVnb3J5SW5mbyBvYmplY3QgYXQgdGhlIGNvcnJlY3QgcGxhY2UuXHJcbiAgY2hlY2tBbmRBZGRDYXRlZ29yeVdpdGhUeXBlKGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSA9IG51bGwpIHtcclxuICAgIGNvbnN0IGNhdE9yVHlwZUV4aXN0cyA9IHRoaXMuX2RvZXNDYXRlZ29yeU9yVHlwZUV4aXN0KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSk7XHJcbiAgICBpZiAoY2F0T3JUeXBlRXhpc3RzID09PSBcIm5vclwiKXtcclxuICAgICAgdGhpcy5fYWRkVHlwZUFuZENhdGVnb3J5KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjYXRPclR5cGVFeGlzdHMgPT09IFwidHlwZU9ubHlcIil7XHJcbiAgICAgIHRoaXMuX2FkZENhdGVnb3J5KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgY2F0ZWdvcnkgaW5mbyBvYmplY3QgYW5kIHJldHVybnMgaXQsIGFsb25nIHdpdGggbmV3IFxyXG4gIC8vIGRhdGEgZm9yIGVhY2ggY2F0ZWdvcnkgd2hpY2ggaXMgY2FsY3VsYXRlZCB1c2luZyB0aGUgaGlnaGVyIG9yZGVyIGdldERhdGFGdW5jIGFuZCBhcmdzLlxyXG4gIGNsb25lV2l0aERhdGEoZ2V0RGF0YUZ1bmMsIGFyZ3MpIHtcclxuICAgIGNvbnN0IG5ld0NhdEluZm8gPSBuZXcgQ2F0ZWdvcnlJbmZvKCk7XHJcblxyXG4gICAgY29uc3QgYWxsQ2F0ZWdvcmllc1dpdGhUeXBlcyA9IHRoaXMuZ2V0QWxsQ2F0ZWdvcmllcygpO1xyXG5cclxuICAgIGZvciAobGV0IGNhdGVnb3J5V2l0aFR5cGUgb2YgYWxsQ2F0ZWdvcmllc1dpdGhUeXBlcykge1xyXG4gICAgICBjb25zdCBjYXRUeXBlTmFtZSA9IGNhdGVnb3J5V2l0aFR5cGUuY2F0ZWdvcnlUeXBlO1xyXG4gICAgICBjb25zdCBjYXRlZ29yeU5hbWUgPSBjYXRlZ29yeVdpdGhUeXBlLmNhdGVnb3J5O1xyXG4gICAgICBjb25zdCBkYXRhID0gZ2V0RGF0YUZ1bmMoY2F0VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgYXJncyk7XHJcblxyXG4gICAgICBuZXdDYXRJbmZvLmNoZWNrQW5kQWRkQ2F0ZWdvcnlXaXRoVHlwZShjYXRUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ld0NhdEluZm87XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMgd2hlcmUgZWFjaCBvYmplY3QgY29udGFpbnMgdGhlXHJcbiAgLy8gY2F0ZWdvcnlUeXBlTmFtZSBhbmQgY2F0ZWdvcnlOYW1lLCBmb3IgZXZlcnkgdW5pcXVlIGNhdGVnb3J5IGluIHRoaXMuXHJcbiAgZ2V0QWxsQ2F0ZWdvcmllcyhpbmNsRGF0YSA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBhbGxVbmlxdWVDYXRlZ29yaWVzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgY2F0VHlwZSBpbiB0aGlzLmNhdFR5cGVzKSB7XHJcbiAgICAgIGZvciAobGV0IGNhdGVnb3J5IGluIHRoaXMuY2F0VHlwZXNbY2F0VHlwZV0/LmNhdGVnb3JpZXMpIHtcclxuICAgICAgICBjb25zdCB0aGlzQ2F0QW5kVHlwZSA9IHtcclxuICAgICAgICAgIGNhdGVnb3J5VHlwZTogY2F0VHlwZSxcclxuICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChpbmNsRGF0YSkge1xyXG4gICAgICAgICAgY29uc3QgY2F0RGF0YSA9IHRoaXMuY2F0VHlwZXNbY2F0VHlwZV0uY2F0ZWdvcmllc1tjYXRlZ29yeV07XHJcbiAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gY2F0RGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzQ2F0QW5kVHlwZVtrZXldID0gY2F0RGF0YVtrZXldO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhbGxVbmlxdWVDYXRlZ29yaWVzLnB1c2godGhpc0NhdEFuZFR5cGUpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYWxsVW5pcXVlQ2F0ZWdvcmllcztcclxuICB9XHJcblxyXG4gIC8vIFJldHVybnMgXCJ0eXBlQW5kQ2F0XCIgaWYgY2F0ZWdvcnlUeXBlIGFuZCBjYXRlZ29yeSBleGlzdHMgaW4gdGhlIHRyZWUsIFwidHlwZU9ubHlcIiBpZiBvbmx5XHJcbiAgLy8gdGhlIGNhdGVnb3J5VHlwZSBleGlzdHMgYW5kIFwibm9yXCIgaWYgbmVpdGhlciB0aGUgY2F0ZWdvcnkgbm9yIHRoZSBjYXRlZ29yeVR5cGUgZXhpc3RzLlxyXG4gIF9kb2VzQ2F0ZWdvcnlPclR5cGVFeGlzdChjYXRlZ29yeVR5cGVOYW1lLCBjYXRlZ29yeU5hbWUpe1xyXG4gICAgaWYgKCEoY2F0ZWdvcnlUeXBlTmFtZSBpbiB0aGlzLmNhdFR5cGVzKSkge1xyXG4gICAgICByZXR1cm4gXCJub3JcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCEoY2F0ZWdvcnlOYW1lIGluICh0aGlzLmNhdFR5cGVzLmNhdGVnb3J5VHlwZU5hbWU/LmNhdGVnb3JpZXMgPz8gW10pKSkge1xyXG4gICAgICByZXR1cm4gXCJ0eXBlT25seVwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBcInR5cGVBbmRDYXRcIjtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfYWRkVHlwZUFuZENhdGVnb3J5KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSl7XHJcbiAgICB0aGlzLmNhdFR5cGVzW2NhdGVnb3J5VHlwZU5hbWVdID0ge1xyXG4gICAgICBjYXRlZ29yaWVzOiB7fVxyXG4gICAgfTtcclxuICAgIHRoaXMuX2FkZENhdGVnb3J5KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSk7XHJcbiAgfVxyXG5cclxuICBfYWRkQ2F0ZWdvcnkoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKXtcclxuICAgIHRoaXMuY2F0VHlwZXNbY2F0ZWdvcnlUeXBlTmFtZV0uY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdID0gbnVsbDtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIHRoaXMuX3NldERhdGEoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfc2V0RGF0YShjYXRlZ29yeVR5cGVOYW1lLCBjYXRlZ29yeU5hbWUsIGRhdGEpIHtcclxuICAgIHRoaXMuY2F0VHlwZXNbY2F0ZWdvcnlUeXBlTmFtZV0uY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICB0aGlzLmNhdFR5cGVzW2NhdGVnb3J5VHlwZU5hbWVdLmNhdGVnb3JpZXNbY2F0ZWdvcnlOYW1lXVtrZXldID0gZGF0YVtrZXldO1xyXG4gICAgfTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBDYXRlZ29yeUluZm8gfSBmcm9tIFwiLi4vLi4vc2hhcmVkSnMvY2F0ZWdvcnlJbmZvLm1qc1wiO1xyXG5cclxuXHJcblxyXG4vLyBPYmplY3RzIHRvIHJlcHJlc2VudCBjaGVja2JveCBzZWxlY3Rpb24gY2hlY2tib3hlcyBmb3IgYWxsIGNhdGVnb3JpZXMgLyBcclxuLy8gY2F0ZWdvcnkgdHlwZXMuXHJcbmV4cG9ydCBjbGFzcyBDYXRlZ29yeUNoZWNrYm94ZXMge1xyXG4gICAgI2NoZWNrYm94ZXM7XHJcbiAgICBjYXRlZ29yeUluZm87XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2F0ZWdvcnlDaGVja2JveGVzKSB7XHJcbiAgICAgICAgdGhpcy4jY2hlY2tib3hlcyA9IGNhdGVnb3J5Q2hlY2tib3hlcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2l2ZW4gYW4gYXJyYXkgb2YgY2hlY2tib3ggRE9NIG9iamVjdHMsIHJldHVybnMgYSBDYXRlZ29yeUluZm8gb2JqZWN0XHJcbiAgICAvLyBjb250YWluaW5nIGluZm9ybWF0aW9uIG9uIGFsbCBzZWxlY3RlZCBjaGVja2JveGVzLlxyXG4gICAgZ2V0U2VsZWN0ZWRDYXRlZ29yeUluZm8oKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkQ2F0ZWdvcnlJbmZvID0gbmV3IENhdGVnb3J5SW5mbygpO1xyXG4gICAgICBcclxuICAgICAgICB0aGlzLiNjaGVja2JveGVzLmZvckVhY2goZnVuY3Rpb24oY2hlY2tib3gpe1xyXG4gICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2F0VHlwZUFuZENhdCA9IGNoZWNrYm94LmdldEF0dHJpYnV0ZShcIm5hbWVcIikuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5SW5mby5jaGVja0FuZEFkZENhdGVnb3J5V2l0aFR5cGUoY2F0VHlwZUFuZENhdFswXSxcclxuICAgICAgICAgICAgICBjYXRUeXBlQW5kQ2F0WzFdKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeUluZm8gPSBzZWxlY3RlZENhdGVnb3J5SW5mbztcclxuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUluZm87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TnVtU2VsZWN0ZWQoKSB7XHJcbiAgICAgIGNvbnN0IGNoZWNrQm94ZXNBcnIgPSBBcnJheS5mcm9tKHRoaXMuI2NoZWNrYm94ZXMpO1xyXG4gICAgICByZXR1cm4gY2hlY2tCb3hlc0Fyci5yZWR1Y2UoKHRvdCwgY3VycikgPT4gKHRvdCArIGN1cnIuY2hlY2tlZCksIDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgZmFkZUZyb21UbyB9IGZyb20gXCIuL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gVXNlZCBieSB0aGUgcmVjb21tZW5kYXRpb25zIGFuZCBmaW5kIGtpbmRyZWQgcGFnZXMgdG8gZmFkZSBiZXR3ZWVuIGxvYWRlcnMgXHJcbi8vIGFuZCBuZXcgY29udGVudCB3aGVuIHJlZnJlc2hpbmcgcmVjb21tZW5kYXRpb25zIC8ga2luZHJlZC5cclxuZXhwb3J0IGNvbnN0IGtpbmRyZWRSZWNzTWl4aW4gPSB7XHJcbiAgX3JlYnVpbGRDb250ZW50RGl2KGRhdGEpIHtcclxuICAgIHRoaXMuX2NsZWFyQ29udGVudERpdigpO1xyXG4gICAgdGhpcy5fYnVpbGRDb250ZW50RGl2KGRhdGEpO1xyXG4gIH0sXHJcblxyXG4gIC8vIENsZWFyIHRoZSBjb250ZW50IGluIHRoZSBsaXN0IGRpdi5cclxuICBfY2xlYXJDb250ZW50RGl2KCkge1xyXG4gICAgdGhpcy5fY29udGVudERpdi5yZXBsYWNlQ2hpbGRyZW4oKTtcclxuICB9LFxyXG5cclxuICBfc2hvd0xvYWRlcigpIHtcclxuICAgIHJldHVybiBmYWRlRnJvbVRvKHRoaXMuX2NvbnRlbnREaXYsIHRoaXMuX2xvYWRlcik7XHJcbiAgfSxcclxuXHJcbiAgX2hpZGVMb2FkZXIoKSB7XHJcbiAgICByZXR1cm4gZmFkZUZyb21Ubyh0aGlzLl9sb2FkZXIsIHRoaXMuX2NvbnRlbnREaXYpO1xyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGhhbmRsZVVwZGF0ZUJ0bkNsaWNrKCkge1xyXG4gICAgY29uc3QgbG9hZGVyU2hvd24gPSB0aGlzLl9zaG93TG9hZGVyKCk7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5fZ2V0VXBkYXRlZFNvdXJjZURhdGEoKTtcclxuXHJcbiAgICAvLyBEb24ndCBoaWRlIHRoZSBsb2FkZXIgLyBzaG93IHRoZSBjb250ZW50IHVudGlsIGJvdGggdGhlIGxvYWRlciBoYXMgXHJcbiAgICAvLyBmaW5pc2hlZCBmYWRpbmcgaW4gQU5EIHRoZSBkb1N0dWZmIGhhcyBiZWVuIGNvbXBsZXRlZC5cclxuICAgIGF3YWl0IGxvYWRlclNob3duO1xyXG4gICAgdGhpcy5fcmVidWlsZENvbnRlbnREaXYoZGF0YSk7XHJcbiAgICB0aGlzLl9oaWRlTG9hZGVyKCk7XHJcbiAgfSxcclxuXHJcbiAgLy8gVmFsaWRhdGVzIGFuZCB0aGVuIGhhbmRsZXMgdGhlIHJlcXVlc3QgdG8gdXBkYXRlLCBvdGhlcndpc2UgYWxlcnRzIHdpdGggXHJcbiAgLy8gdGhlIHZhbGlkYXRpb24gbWVzc2FnZS5cclxuICB2YWxpZGF0ZUhhbmRsZVVwZGF0ZShzY3JvbGxFbGVtLCBmYWlsVmFsaWRhdGVNc2cpIHtcclxuICAgIGNvbnN0IGlzVmFsaWRTZWxlY3Rpb25zID0gdGhpcy5fdmFsaWRhdGVTZWxlY3Rpb25zKCk7XHJcbiAgICBcclxuICAgIGlmIChpc1ZhbGlkU2VsZWN0aW9ucykge1xyXG4gICAgICBzY3JvbGxFbGVtLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjogXCJzbW9vdGhcIn0pO1xyXG4gICAgICB0aGlzLmhhbmRsZVVwZGF0ZUJ0bkNsaWNrKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgYWxlcnQoZmFpbFZhbGlkYXRlTXNnKTtcclxuICAgIH07XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgU2luZ2xlTW9kZVFTb3VyY2UgfSBmcm9tIFwiLi4vc2luZ2xlTW9kZVFTb3VyY2UubWpzXCI7XHJcbmltcG9ydCB7IENhdGVnb3J5Q2hlY2tib3hlcyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jYXRlZ29yeUNoZWNrYm94ZXMubWpzXCI7XHJcbmltcG9ydCB7IGtpbmRyZWRSZWNzTWl4aW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4va2luZHJlZFJlY3NNaXhpbi5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFJlY3NRU291cmNlIGV4dGVuZHMgU2luZ2xlTW9kZVFTb3VyY2Uge1xyXG4gIC8vIFN0b3JlcyB0aGUgRE9NIHJvdyBmb3IgdGhlIHF1ZXN0aW9uIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIGFuc3dlcmVkLlxyXG4gICNjdXJyUVJvdyA9IG51bGw7XHJcbiAgI3JlY0ZvckNhdGVnb3J5Q2hlY2tib3hlcztcclxuICAjYmFzZWRPbkNhdGVnb3J5Q2hlY2tib3hlcztcclxuICAjZ2V0UmVjc0J0bjtcclxuICBfbG9hZGVyO1xyXG4gIF9xRGl2Q2xhc3MgPSBcInJlYy1pdGVtXCI7XHJcblxyXG4gIHN0YXRpYyAjSU5WQUxJRF9TRUxFQ1RTX01TRyA9IGBBdCBsZWFzdCBvbmUgY2F0ZWdvcnkgbXVzdCBiZSBzZWxlY3RlZCBmcm9tIGVhY2ggb2YgdGhlIFwiUmVjb21tZW5kIGZvclwiIGFuZCBcIkJhc2VkIG9uXCIgZ3JvdXBzLmA7XHJcbiAgc3RhdGljICNOT19LSU5EUkVEX01TRyA9IFtcIllvdSdyZSBvbmUgb2YgYSBraW5kIVwiLCBcIldlIGNvdWxkbid0IGZpbmQgYW55b25lIHNpbWlsYXIgZW5vdWdoIHRvIHlvdSBmb3IgdGhlIHNlbGVjdGVkIGNhdGVnb3JpZXMuIFRyeSBhIGRpZmZlcmVudCBzZWxlY3Rpb24gb3IgYW5zd2VyIG1vcmUgcXVlc3Rpb25zLlwiXTtcclxuICBzdGF0aWMgI0tJTkRSRURfTk9fUkVDU19NU0cgPSBbXCJObyByZWNvbW1lbmRhdGlvbnMhXCIsIFwiWW91ciBLaW5kcmVkIHNwaXJpdHMgZm9yIHRoZSBjYXRlZ29yaWVzIHNlbGVjdGVkIGhhdmUgbm90aGluZyB0byByZWNvbW1lbmQgeW91IHRoYXQgeW91IGhhdmVuJ3QgcmF0ZWQgYWxyZWFkeSEgVHJ5IGEgZGlmZmVyZW50IHNlbGVjdGlvbi5cIl07XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxpc3REaXYpIHtcclxuICAgIHN1cGVyKGxpc3REaXYpO1xyXG5cclxuICAgIHRoaXMuX2xvYWRlciA9IGxpc3REaXYucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIik7XHJcblxyXG4gICAgY29uc3QgcmVjc0ZvckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVjb21tZW5kYXRpb25zLWZvclwiKTtcclxuICAgIGNvbnN0IGJhc2VkT25EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJhc2VkLW9uXCIpO1xyXG4gICAgY29uc3QgcmVjRm9yQ2hlY2tib3hlc0FyciA9IHJlY3NGb3JEaXYucXVlcnlTZWxlY3RvckFsbChcIi5jYXRlZ29yeS1jaGVja2JveFwiKTtcclxuICAgIGNvbnN0IGJhc2VkT25DaGVja2JveGVzQXJyID0gYmFzZWRPbkRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGVnb3J5LWNoZWNrYm94XCIpO1xyXG4gICAgXHJcbiAgICB0aGlzLiNyZWNGb3JDYXRlZ29yeUNoZWNrYm94ZXMgPSBuZXcgQ2F0ZWdvcnlDaGVja2JveGVzKHJlY0ZvckNoZWNrYm94ZXNBcnIpO1xyXG4gICAgdGhpcy4jYmFzZWRPbkNhdGVnb3J5Q2hlY2tib3hlcyA9IG5ldyBDYXRlZ29yeUNoZWNrYm94ZXMoYmFzZWRPbkNoZWNrYm94ZXNBcnIpO1xyXG5cclxuICAgIHRoaXMuI2dldFJlY3NCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdldC1yZWNzLWJ0blwiKTtcclxuXHJcbiAgICB0aGlzLiNnZXRSZWNzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudmFsaWRhdGVIYW5kbGVVcGRhdGUodGhpcy5fbGlzdERpdiwgUmVjc1FTb3VyY2UuI0lOVkFMSURfU0VMRUNUU19NU0cpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBCdWlsZHMgdGhlIGNvbnRlbnQgZGl2IHdpdGggYWxsIHRoZSBxdWVzdGlvbnMuXHJcbiAgX2J1aWxkQ29udGVudERpdihyZWNzSW5mbykge1xyXG4gICAgaWYgKHJlY3NJbmZvLm51bUtpbmRyZWQgPiAwKSB7XHJcbiAgICAgIGlmIChyZWNzSW5mby5yZWNvbW1lbmRMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzdXBlci5fYnVpbGRDb250ZW50RGl2KHJlY3NJbmZvLnJlY29tbWVuZExpc3QpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuI3NldE5vUmVjc01zZyhSZWNzUVNvdXJjZS4jS0lORFJFRF9OT19SRUNTX01TRyk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy4jc2V0Tm9SZWNzTXNnKFJlY3NRU291cmNlLiNOT19LSU5EUkVEX01TRyk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyBhIG1lc3NhZ2UgaW4gdGhlIHJlY29tbWVuZGF0aW9ucyBsaXN0IGZvciB3aHkgbm8gcmVjb21tZW5kYXRpb25zIHdlcmUgZm91bmQuXHJcbiAgI3NldE5vUmVjc01zZyhtc2dJbmZvKSB7XHJcbiAgICBjb25zdCBub1JlY3NNc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29uc3Qgbm9SZWNzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpO1xyXG4gICAgY29uc3Qgbm9SZWNzVHh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG4gICAgbm9SZWNzSGVhZGVyLmlubmVyVGV4dCA9IG1zZ0luZm9bMF07XHJcbiAgICBub1JlY3NUeHQuaW5uZXJUZXh0ID0gbXNnSW5mb1sxXTtcclxuICAgIFxyXG4gICAgbm9SZWNzTXNnRGl2LmFwcGVuZENoaWxkKG5vUmVjc0hlYWRlcik7XHJcbiAgICBub1JlY3NNc2dEaXYuYXBwZW5kQ2hpbGQobm9SZWNzVHh0KTtcclxuXHJcbiAgICBub1JlY3NNc2dEaXYuY2xhc3NMaXN0LmFkZChcIm5vLXJlY3MtbXNnXCIpO1xyXG4gICAgdGhpcy5fY29udGVudERpdi5hcHBlbmRDaGlsZChub1JlY3NNc2dEaXYpO1xyXG4gIH1cclxuXHJcbiAgLy8gRW5zdXJlIGF0IGxlYXN0IG9uZSBjaGVja2JveCBpcyBzZWxlY3RlZCBmb3IgUmVjIGZvciBhbmQgQmFzZWQgb24gR3JvdXBzLlxyXG4gIF92YWxpZGF0ZVNlbGVjdGlvbnMoKSB7XHJcbiAgICBjb25zdCBudW1CYXNlZE9uQ2F0cyA9IHRoaXMuI3JlY0ZvckNhdGVnb3J5Q2hlY2tib3hlcy5nZXROdW1TZWxlY3RlZCgpO1xyXG4gICAgY29uc3QgbnVtUmVjQ2F0cyA9IHRoaXMuI2Jhc2VkT25DYXRlZ29yeUNoZWNrYm94ZXMuZ2V0TnVtU2VsZWN0ZWQoKTtcclxuICAgIGNvbnN0IGlzVmFsaWRTZWxlY3Rpb25zID0gKG51bUJhc2VkT25DYXRzID4gMCkgJiYgKG51bVJlY0NhdHMgPiAwKTtcclxuICAgIHJldHVybiBpc1ZhbGlkU2VsZWN0aW9ucztcclxuICB9XHJcblxyXG4gIF9hZGRUb1FEaXYocUluZm8pIHtcclxuICAgIHFJbmZvLnFTb3VyY2VJdGVtLmFwcGVuZENoaWxkKHFJbmZvLnFUZXh0KTtcclxuICAgIHFJbmZvLnFTb3VyY2VJdGVtLmluc2VydEJlZm9yZShxSW5mby5xU2NvcmUsIHFJbmZvLnFTb3VyY2VJdGVtLmNoaWxkcmVuWzBdKTtcclxuXHJcbiAgICBjb25zdCBjYXRUeXBlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgY29uc3QgY2F0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuICAgIGNhdFR5cGVUZXh0LmNsYXNzTGlzdC5hZGQoXCJyZWMtY2F0LXR5cGVcIik7XHJcbiAgICBjYXRUZXh0LmNsYXNzTGlzdC5hZGQoXCJyZWMtY2F0XCIpO1xyXG5cclxuICAgIFtjYXRUeXBlVGV4dC5pbm5lclRleHQsIGNhdFRleHQuaW5uZXJUZXh0XSA9IFtxSW5mby5jYXRUeXBlTmFtZSwgcUluZm8uY2F0TmFtZV07XHJcblxyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uYXBwZW5kQ2hpbGQoY2F0VHlwZVRleHQpO1xyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uYXBwZW5kQ2hpbGQoY2F0VGV4dCk7XHJcblxyXG4gICAgcmV0dXJuIHFJbmZvLnFTb3VyY2VJdGVtO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRoZSBsYXRlc3QgcmVjb21tZW5kYXRpb25zIGZyb20gdGhlIGJhY2sgZW5kLlxyXG4gIGFzeW5jIGdldFJlY3MoKSB7XHJcbiAgICBjb25zdCByZWNGb3JDYXRlZ29yeUluZm8gPSB0aGlzLiNyZWNGb3JDYXRlZ29yeUNoZWNrYm94ZXMuZ2V0U2VsZWN0ZWRDYXRlZ29yeUluZm8oKTtcclxuICAgIGNvbnN0IGJhc2VkT25DYXRlZ29yeUluZm8gPSB0aGlzLiNiYXNlZE9uQ2F0ZWdvcnlDaGVja2JveGVzLmdldFNlbGVjdGVkQ2F0ZWdvcnlJbmZvKCk7XHJcblxyXG4gICAgY29uc3QgYWxsQ2F0ZWdvcnlJbmZvID0ge1xyXG4gICAgICByZWNvbW1lbmRhdGlvbnNGb3I6IHJlY0ZvckNhdGVnb3J5SW5mbyxcclxuICAgICAgYmFzZWRPbjogYmFzZWRPbkNhdGVnb3J5SW5mb1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvcmVjb21tZW5kYXRpb25zXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhbGxDYXRlZ29yeUluZm8pXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVjb21tZW5kc0luZm8gPSBhd2FpdCBmZXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiByZWNvbW1lbmRzSW5mbztcclxuICB9XHJcblxyXG4gIC8vIFNldCB0aGUgY3VyclFSb3cgdG8gdGhlIHF1ZXN0aW9uIHRoYXQgaXMgbm93IGJlaW5nIHJhdGVkLCBzbyBpdCBjYW4gYmUgXHJcbiAgLy8gZWFzaWx5IHJlbW92ZWQgb25jZSBhbnN3ZXJlZC5cclxuICBfaGFuZGxlUmF0ZUJ0bkNsaWNrKGV2dCwgcXVlc3Rpb24pIHtcclxuICAgIHRoaXMuI2N1cnJRUm93ICA9IGV2dC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgIHN1cGVyLl9oYW5kbGVSYXRlQnRuQ2xpY2soZXZ0LCBxdWVzdGlvbik7XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdGhlIG5ld2x5IGFuc3dlcmVkIHF1ZXN0aW9uIGZyb20gdGhlIHJlY29tbWVuZGF0aW9ucyBsaXN0LlxyXG4gIHJlbW92ZUFuc3dlcmVkUSgpIHtcclxuICAgIHRoaXMuX2NvbnRlbnREaXYucmVtb3ZlQ2hpbGQodGhpcy4jY3VyclFSb3cpO1xyXG4gIH1cclxuXHJcbiAgX2dldFNjb3JlVGV4dChyZWMpIHtcclxuICAgIHJldHVybiByZWMucmF0aW5nLnN0cmVuZ3RoLnRvRml4ZWQoMSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFBPU1RTIGFueSBuZXcgYW5zd2VycyB0aGVuIGdldHMgdGhlIGxhdGVzdCByZWNvbW1lbmRhdGlvbnMuXHJcbiAgYXN5bmMgI2dldExhdGVzdFJlY3MoKSB7XHJcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGBnZXRSZWNzQ2xpY2tgKSk7XHJcblxyXG4gICAgLy8gV2FpdCBmb3IgcG9zdCBhbnN3ZXJzIHRvIGNvbXBsZXRlIGJlZm9yZSByZWZyZXNoaW5nIHJlY29tbWVuZGF0aW9ucy5cclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RBbnN3ZXJzQ29tcGxldGUnLCByZXNvbHZlKCksIHtvbmNlOiB0cnVlfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsYXRlc3RSZWNzSW5mbyA9IGF3YWl0IHRoaXMuZ2V0UmVjcygpO1xyXG4gICAgcmV0dXJuIGxhdGVzdFJlY3NJbmZvO1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlZCBieSB0aGUgbWl4aW4gdG8gZ2V0IGxhdGVzdCByZWNvbW1lbmRhdGlvbnMuXHJcbiAgYXN5bmMgX2dldFVwZGF0ZWRTb3VyY2VEYXRhKCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuI2dldExhdGVzdFJlY3MoKTtcclxuICB9XHJcbiAgXHJcbiAgX2dldEhvdmVyVGV4dCgpIHtcclxuICAgIHJldHVybiBcIlJhdGUgaXQhXCI7XHJcbiAgfVxyXG59XHJcblxyXG5PYmplY3QuYXNzaWduKFJlY3NRU291cmNlLnByb3RvdHlwZSwga2luZHJlZFJlY3NNaXhpbik7IiwiaW1wb3J0IHsgUXVlc3Rpb25zTW9kZSB9IGZyb20gXCIuLi8uLi9xdWVzdGlvbnNNb2RlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUU1vZGVXaXRoUXVldWVJbnB1dCBleHRlbmRzIFF1ZXN0aW9uc01vZGUge1xyXG4gIHF1ZXVlSW5wdXRQYW5lbDtcclxuXHJcbiAgLy8gU2F2ZSBhbnN3ZXIgaW5mb3JtYXRpb24sIHVwZGF0ZSB0aGUgcXVldWUgaWYgbmVjZXNzYXJ5LlxyXG4gIGFzeW5jIGFuc3dlclF1ZXN0aW9uKGV2ZW50KSB7XHJcbiAgICBjb25zdCBjdXJyUXVlc3Rpb24gPSB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnJlbW92ZVF1ZXVlSXRlbSgwLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnNhdmVQcmV2UShjdXJyUXVlc3Rpb24uX2lkKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGFuc3dlciBvYmplY3QgYXMgaXQgc2hvdWxkIGJlIHN0b3JlZCBpbiB0aGUgREIuXHJcbiAgICBjb25zdCBhbnN3ZXJPYmogPSB0aGlzLmdldEFuc3dlck9iaihldmVudCwgY3VyclF1ZXN0aW9uKTtcclxuXHJcbiAgICAvLyBFbWl0IGV2ZW50IHRvIGJlIHBpY2tlZCB1cCBieSB0aGUgcXVlc3Rpb25zIHBhZ2UuXHJcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImFuc3dlcmVkUVwiLCB7ZGV0YWlsOiB7YW5zd2VyT2JqOiBhbnN3ZXJPYmp9fSlcclxuICAgICk7XHJcblxyXG4gICAgLy8gVXBkYXRlcyB0aGUgZGlzcGxheWVkIHF1ZXN0aW9uIGluIHRoZSBhbnN3ZXIgVUkgcGFuZWwgd2l0aCB0aGUgbmV3IGZpcnN0IFxyXG4gICAgLy8gcXVldWUgaXRlbS5cclxuICAgIHRoaXMuX3Nob3dDdXJyUSgpO1xyXG5cclxuICAgIC8vIEFkZHMgbW9yZSBxdWVzdGlvbnMgdG8gdGhlIHF1ZXN0aW9ucyBxdWV1ZSBpZiBuZWNlc3NhcnkuXHJcbiAgICBsZXQgcXVldWVVcGRhdGVkID0gYXdhaXQgdGhpcy5xdWVzdGlvbnNRdWV1ZS51cGRhdGUoKTtcclxuICAgIGlmIChxdWV1ZVVwZGF0ZWQpIHtcclxuICAgICAgdGhpcy5xdWVzdGlvbnNRdWV1ZS5jaGVja0Zvck91dGRhdGVkUXModHJ1ZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgZGlzcGxheWVkIHF1ZXN0aW9uIGluIHRoZSBhbnN3ZXIgVUkgcGFuZWwgd2l0aCB0aGUgbmV3IGZpcnN0IFxyXG4gIC8vIHF1ZXVlIGl0ZW0uIFxyXG4gIF9zaG93Q3VyclEoKSB7XHJcbiAgICBjb25zdCBpbmNsQWxyZWFkeUFuc3dlcmVkID0gdGhpcy5xdWV1ZUlucHV0UGFuZWw/LlxyXG4gICAgICBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3guY2hlY2tlZDtcclxuXHJcbiAgICBzdXBlci5fc2hvd0N1cnJRKGluY2xBbHJlYWR5QW5zd2VyZWQpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWN0aXZhdGUoKSB7XHJcbiAgICBzdXBlci5hY3RpdmF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgcXVlc3Rpb25zIHF1ZXVlIGFuZCB0aGVuIGRpc3BsYXlzIHRoZSBmaXJzdCBxdWVzdGlvbiBvZiBpdCwgXHJcbiAgLy8gY2FsbGVkIHdoZW4gc3dpdGNoaW5nIHRvIHRoaXMgcXVlc3Rpb25zIG1vZGUuXHJcbiAgYXN5bmMgdXBkYXRlUXVldWVBbmRTaG93Rmlyc3QoaXNOZXdRdWV1ZSA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLmFuc3dlclVpUGFuZWwuc2hvd0xvYWRlcigpO1xyXG4gICAgYXdhaXQgdGhpcy51cGRhdGVRdWV1ZShpc05ld1F1ZXVlKTtcclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5oaWRlTG9hZGVyKCk7XHJcbiAgICB0aGlzLl9zaG93Q3VyclEoKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZXMgdGhlIHF1ZXN0aW9ucyBxdWV1ZS5cclxuICBhc3luYyB1cGRhdGVRdWV1ZShpc05ld1F1ZXVlKSB7XHJcbiAgICAvLyBRdWV1ZSB3aWxsIG9ubHkgdXBkYXRlIGlmIGl0J3Mgc2hvcnQgb24gYW5zd2Vycy5cclxuICAgIGF3YWl0IHRoaXMucXVlc3Rpb25zUXVldWUudXBkYXRlKGlzTmV3UXVldWUpO1xyXG5cclxuICAgIC8vIENoZWNrcyB0aGUgcXVldWUgdG8gc2VlIGlmIGFueSBxdWVzdGlvbnMgaW4gaXQgYXJlIG5vdyBvdXRkYXRlZCBiYXNlZCBvbiBcclxuICAgIC8vIHJlY2VudGx5IFBPU1RlZCBhbnN3ZXJzIG9yIHJlY2VudCBhbnN3ZXJzIGZyb20gb3RoZXIgcXVlc3Rpb25zIG1vZGVzIHRoYXQgXHJcbiAgICAvLyBoYXZlbid0IHlldCBiZWVuIFBPU1RlZC5cclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUuY2hlY2tGb3JPdXRkYXRlZFFzKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZmluaXNoRmFkZU91dCB9IGZyb20gXCIuLi8uLi9mYWRlVHJhbnNpdGlvbnMubWpzXCI7XHJcbmltcG9ydCB7IGZpbmRBbmRPdmVyd3JpdGVFbHNlUHVzaCB9IGZyb20gXCIuLi8uLi8uLi8uLi9zaGFyZWRKcy91dGlscy5tanNcIjtcclxuXHJcbmltcG9ydCB7IFFNb2RlV2l0aFF1ZXVlSW5wdXQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL3N1Yi1jbGFzc2VzL1xcXHJcbnFNb2RlV2l0aFF1ZXVlSW5wdXQvcU1vZGVXaXRoUXVldWVJbnB1dC5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXN0aW9uc1BhZ2Uge1xyXG4gICNzd2l0Y2hpbmdNb2RlID0gZmFsc2U7XHJcbiAgcXVlc3Rpb25zTW9kZXM7XHJcbiAgcU1vZGVTd2l0Y2hlcjtcclxuICBjdXJyUXVlc3Rpb25Nb2RlO1xyXG4gIGNhdGVnb3J5VHlwZU5hbWU7XHJcbiAgY2F0ZWdvcnlOYW1lO1xyXG4gIC8vIE5ldyBhbnN3ZXJzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gUE9TVGVkIHRvIHNlcnZlci5cclxuICBub3RZZXRQb3N0ZWRBbnN3ZXJzID0gW107XHJcbiAgLy8gVGhlIG5vdCB5ZXQgUE9TVGVkIGFuc3dlcnMgcGx1cyBhbnkgYW5zd2VycyB0aGF0IGFyZSBQT1NUZWQgYnV0IHRoZSBzYXZlIFxyXG4gIC8vIG9uIGJhY2sgZW5kIGhhc24ndCBjb21wbGV0ZWQgeWV0LlxyXG4gIGFsbFJlY2VudEFuc3dlcnMgPSBbXTtcclxuICBzdGF0aWMgI3N1Ym1pdEFuc3dlcnNJbnRlcnZhbCA9IDYwMDAwMDsgLy8gMTAgbWluc1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZXMsIHFNb2RlU3dpdGNoZXIgPSBbXSwgY2F0ZWdvcnlUeXBlTmFtZSA9IG51bGwsIFxyXG4gICAgY2F0ZWdvcnlOYW1lID0gbnVsbCkge1xyXG5cclxuICAgIHRoaXMucXVlc3Rpb25zTW9kZXMgPSBxTW9kZXM7XHJcbiAgICB0aGlzLnFNb2RlU3dpdGNoZXIgPSBxTW9kZVN3aXRjaGVyO1xyXG4gICAgdGhpcy5jYXRlZ29yeVR5cGVOYW1lID0gY2F0ZWdvcnlUeXBlTmFtZTtcclxuICAgIHRoaXMuY2F0ZWdvcnlOYW1lID0gY2F0ZWdvcnlOYW1lO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHVwIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIGFsbCBidXR0b25zIGFuZCBwcm90b2NvbCBmb3IgdXBsb2FkaW5nIFxyXG4gIC8vIGFuc3dlcnMgZGF0YS5cclxuICBpbml0KCkge1xyXG4gICAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgYnV0dG9ucyB3aXRoaW4gZWFjaCBxdWVzdGlvbnMgbW9kZS5cclxuICAgIGZvciAobGV0IHFNb2RlIG9mIHRoaXMucXVlc3Rpb25zTW9kZXMpIHtcclxuICAgICAgcU1vZGUuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBXaGVuIHF1ZXN0aW9ucyBwYWdlIGlzIGxlZnQgLyB0YWIgY2xvc2VkLCBwb3N0IGFueSBhbnN3ZXJzIHRvIHRoZSBzZXJ2ZXIuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3Bvc3RBbnN3ZXJzKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU3VibWl0IGFuc3dlcnMgZXZlcnkgMTAgbWlucywgaWYgdGhlcmUgYXJlIGFueS5cclxuICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5fcG9zdEFuc3dlcnMoZmFsc2UpO1xyXG4gICAgfSwgUXVlc3Rpb25zUGFnZS4jc3VibWl0QW5zd2Vyc0ludGVydmFsKTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gZm9yIGV2ZW50cyBlbWl0dGVkIGJ5IGFueSBxIG1vZGUgd2hlbiBhIHF1ZXN0aW9uIGlzIGFuc3dlcmVkLlxyXG4gICAgZm9yIChsZXQgcU1vZGUgb2YgdGhpcy5xdWVzdGlvbnNNb2Rlcykge1xyXG4gICAgICBxTW9kZS5hZGRFdmVudExpc3RlbmVyKFwiYW5zd2VyZWRRXCIsIGV2dCA9PiB7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyT2JqID0gZXZ0LmRldGFpbC5hbnN3ZXJPYmo7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTmV3QW5zd2VyKGFuc3dlck9iaik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0IHRoZSBxTW9kZVN3aXRjaGVyLlxyXG4gICAgdGhpcy4jaW5pdFFNb2RlU3dpdGNoZXIoKTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIHEgbW9kZSBzd2l0Y2ggYnV0dG9ucy5cclxuICAjaW5pdFFNb2RlU3dpdGNoZXIoKSB7XHJcbiAgICBmb3IgKGxldCBtb2RlQnRuTGluayBvZiB0aGlzLnFNb2RlU3dpdGNoZXIpIHtcclxuICAgICAgY29uc3QgcU1vZGVCdG4gPSBtb2RlQnRuTGluay5idG47XHJcbiAgICAgIGNvbnN0IHFNb2RlID0gbW9kZUJ0bkxpbmsubW9kZTtcclxuXHJcbiAgICAgIHFNb2RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gRG9uJ3QgdHJ5IHRvIHN3aXRjaCBtb2RlIGlmIGFscmVhZHkgdHJhbnNpdGlvbmluZyBiZXR3ZWVuIHR3byBvciBpZiBcclxuICAgICAgICAvLyBjbGlja2VkIG9uIGN1cnJlbnQgcU1vZGUuXHJcbiAgICAgICAgY29uc3QgZG9udFN3aXRjaE1vZGUgPSB0aGlzLiNzd2l0Y2hpbmdNb2RlIHx8ICh0aGlzLmN1cnJRdWVzdGlvbk1vZGUgPT09IHFNb2RlKTtcclxuICAgICAgICBpZiAoZG9udFN3aXRjaE1vZGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy4jc3dpdGNoaW5nTW9kZSA9IHRydWU7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zd2l0Y2hRTW9kZShxTW9kZSlcclxuICAgICAgICB0aGlzLiNzd2l0Y2hpbmdNb2RlID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgLy8gU2F2ZXMgKG9yIG92ZXJ3cml0ZXMpIG5ldyBhbnN3ZXIgdG8gbm90WWV0UG9zdGVkIGFuZCBhbGxSZWNlbnRBbnN3ZXJzIGFuZCBcclxuICAvLyB0aGVuIHNlbmRzIHRoZSB1cGRhdGVkIHJlY2VudCBhbnN3ZXJzIGFycmF5IHRvIHRoZSBjdXJyZW50IHF1ZXN0aW9ucyBtb2RlLlxyXG4gIF9oYW5kbGVOZXdBbnN3ZXIoYW5zd2VyT2JqKSB7XHJcbiAgICB0aGlzLl91cGRhdGVBbnNBcnJheVdpdGhBbnModGhpcy5ub3RZZXRQb3N0ZWRBbnN3ZXJzLCBhbnN3ZXJPYmopO1xyXG4gICAgdGhpcy5fdXBkYXRlQW5zQXJyYXlXaXRoQW5zKHRoaXMuYWxsUmVjZW50QW5zd2VycywgYW5zd2VyT2JqKTtcclxuICAgIHRoaXMuX3NldFJlY2VudEFuc3dlcnMoKTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBjdXJyZW50IHF1ZXN0aW9uIG1vZGU6IGhpZGUgaXQsIGdldCB0aGUgbGF0ZXN0IGFuc3dlcnMgYW5kIHBvc3QgXHJcbiAgLy8gdGhlbSB0byB0aGUgc2VydmVyLlxyXG4gIHJlbW92ZVFtb2RlKCkge1xyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLmRlYWN0aXZhdGUoKTtcclxuICB9XHJcblxyXG4gIC8vIFNldCB0aGUgbmV3IHF1ZXN0aW9ucyBtb2RlIGFuZCBzaG93IGl0LlxyXG4gIGFzeW5jIHNldFFNb2RlKG5ld1FNb2RlKSB7XHJcbiAgICB0aGlzLmN1cnJRdWVzdGlvbk1vZGUgPSBuZXdRTW9kZTtcclxuICAgIGF3YWl0IHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5hY3RpdmF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX3NldFJlY2VudEFuc3dlcnMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5jdXJyUXVlc3Rpb25Nb2RlIGluc3RhbmNlb2YgUU1vZGVXaXRoUXVldWVJbnB1dCkge1xyXG4gICAgICAvLyBVcGRhdGUgdGhlIHF1ZXVlIGZvciB0aGUgcXVlc3Rpb25zIG1vZGUgYW5kIHNob3cgZmlyc3QgaXRlbSBpbiB0aGUgcXVldWUuXHJcbiAgICAgIGF3YWl0IHRoaXMuY3VyclF1ZXN0aW9uTW9kZS51cGRhdGVRdWV1ZUFuZFNob3dGaXJzdCgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9zZXRSZWNlbnRBbnN3ZXJzKCkge1xyXG4gICAgLy8gRG9uJ3QgbmVlZCB0byBrZWVwIGEgbGlzdCBvZiByZWNlbnQgYW5zd2VycyBmb3IgcmVjb21tZW5kYXRpb25zIG1vZGUuXHJcbiAgICBpZiAodGhpcy5jdXJyUXVlc3Rpb25Nb2RlPy5uYW1lICE9PSBcInJlY3NcIikge1xyXG4gICAgICB0aGlzLmN1cnJRdWVzdGlvbk1vZGUuc2V0UmVjZW50QW5zd2Vycyh0aGlzLmFsbFJlY2VudEFuc3dlcnMpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZXMgYW4gb3JpZ0Fuc0FycmF5IHdpdGggYSBuZXcgYW5zd2VyLCBvdmVyd3JpdGluZyB3aGVyZSBcclxuICAvLyBwcmVzZW50IGluIHRoZSBvcmlnQW5zQXJyYXkgKG90aGVyd2lzZSBhZGRpbmcpLlxyXG4gIF91cGRhdGVBbnNBcnJheVdpdGhBbnMob3JpZ0Fuc0FycmF5LCBuZXdBbnMpIHtcclxuICAgIGNvbnN0IG1hdGNoRnVuYyA9IChhcnJJdGVtLCBuZXdJdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBhcnJJdGVtLnF1ZXN0aW9uSWQgPT09IG5ld0l0ZW0ucXVlc3Rpb25JZFxyXG4gICAgfTtcclxuXHJcbiAgICBmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2gob3JpZ0Fuc0FycmF5LCBuZXdBbnMsIG1hdGNoRnVuYyk7XHJcbiAgfVxyXG5cclxuICAvLyBTd2l0Y2ggYmV0d2VlbiBxdWVzdGlvbiBtb2Rlcy5cclxuICBhc3luYyBzd2l0Y2hRTW9kZShuZXdRTW9kZSkge1xyXG4gICAgdGhpcy5yZW1vdmVRbW9kZSgpO1xyXG4gICAgYXdhaXQgZmluaXNoRmFkZU91dCh0aGlzLmN1cnJRdWVzdGlvbk1vZGUubWFpbkRpdik7XHJcbiAgICBhd2FpdCB0aGlzLnNldFFNb2RlKG5ld1FNb2RlKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gUmVzZXRzIHRoZSBuZXcgYW5kIHVwZGF0ZWQgYW5zd2VycyBmb3IgdGhpcyBxdWVzdGlvbnMgcGFnZS5cclxuICByZXNldEFuc3dlcnMoKSB7XHJcbiAgICB0aGlzLm5vdFlldFBvc3RlZEFuc3dlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIC8vIE9uY2UgdGhlIGZldGNoIFBPU1Qgb2Ygc29tZSBuZXcgYW5zd2VycyBldmVyeSAxMCBtaW5zIGhhcyBiZWVuIGNvbXBsZXRlZCwgXHJcbiAgLy8gdXBkYXRlIHRoZSBhbGxSZWNlbnRBbnN3ZXJzIHNvIHRoYXQgdGhlIHF1ZXVlIGhhcyBsZXNzIHRvIG1vZGlmeS5cclxuICBjbGVhclJlY2VudGx5UG9zdGVkQW5zd2VycyhzdWNjZXNzUG9zdGVkQW5zd2Vycykge1xyXG4gICAgLy8gUmVtb3ZlIGVhY2ggc3VjY2Vzc2Z1bGx5IFBPU1RlZCBhbnN3ZXIgZnJvbSB0aGlzIGFsbFJlY2VudEFuc3dlcnMuXHJcbiAgICBmb3IgKGxldCBzdWNjZXNzUG9zdGVkQW5zd2VyIG9mIHN1Y2Nlc3NQb3N0ZWRBbnN3ZXJzKSB7XHJcbiAgICAgIGNvbnN0IGZpbmRJbmRleCA9IGdldEZpbmRJbmRleChzdWNjZXNzUG9zdGVkQW5zd2VyLCB0aGlzLmFsbFJlY2VudEFuc3dlcnMpO1xyXG4gICAgICBpZiAoZmluZEluZGV4ID4gLTEpIHtcclxuICAgICAgICB0aGlzLmFsbFJlY2VudEFuc3dlcnMuc3BsaWNlKGZpbmRJbmRleCwgMSk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBGaW5kcyB0aGlzIGV4YWN0IGFuc3dlciBpbiB0aGUgYWxsUmVjZW50QW5zd2VycyAoc2FtZSBcclxuICAgIC8vIHF1ZXN0aW9uSWQgbWF5IGFwcGVhciBtb3JlIHRoYW4gb25jZSBzbyBvbmx5IGZpbmQgZXhhY3QgbWF0Y2ggd2l0aCBcclxuICAgIC8vIGFuc3dlciAvIHNraXAgdmFsdWUgdG9vKS5cclxuICAgIGZ1bmN0aW9uIGdldEZpbmRJbmRleChzdWNjZXNzUG9zdGVkQW5zd2VyLCB1cGRhdGVBbnN3ZXJzQXJyYXkpIHtcclxuICAgICAgY29uc3QgZmluZEluZGV4ID0gdXBkYXRlQW5zd2Vyc0FycmF5LmZpbmRJbmRleChhbnMgPT4ge1xyXG4gICAgICAgIGxldCBpc01hdGNoID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBwcm9wc1RvQ2hlY2sgPSBbXCJxdWVzdGlvbklkXCIsIFwic2tpcFwiLCBcImFuc3dlclZhbFwiXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBhbnMpIHtcclxuICAgICAgICAgIGNvbnN0IHNraXBQcm9wID0gIXByb3BzVG9DaGVjay5pbmNsdWRlcyhwcm9wKTtcclxuICAgICAgICAgIGlmIChza2lwUHJvcCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgaXNNYXRjaCA9IGFuc1twcm9wXSA9PT0gc3VjY2Vzc1Bvc3RlZEFuc3dlcltwcm9wXTtcclxuICAgICAgICAgIGlmICghaXNNYXRjaCkgYnJlYWs7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGZpbmRJbmRleDtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBQT1NUIHRoZXNlIGFuc3dlcnMgaW5mbyB0byB0aGUgc2VydmVyLlxyXG4gIGFzeW5jIF9wb3N0QW5zd2Vycyhpc0NoYW5nZU9mUGFnZSA9IGZhbHNlKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgYW55IGFuc3dlcnMgdG8gdXBsb2FkLlxyXG4gICAgY29uc3Qgbm9OZXdBbnN3ZXJzID0gdGhpcy5ub3RZZXRQb3N0ZWRBbnN3ZXJzLmxlbmd0aCA9PT0gMDtcclxuICAgIGlmIChub05ld0Fuc3dlcnMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBbcG9zdFJvdXRlLCBhbnN3ZXJzVG9Qb3N0XSA9IHRoaXMuI2dldFBvc3RJbmZvKCk7XHJcblxyXG4gICAgY29uc3QgcG9zdE9iaiA9IHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1wiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwifSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHR5cGU6IFwiYW5zd2Vyc1wiLCBcclxuICAgICAgICBkYXRhOiBhbnN3ZXJzVG9Qb3N0XHJcbiAgICAgIH0pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBJZiBtb3Zpbmcgb2ZmIHRoZSBwYWdlLCBrZWVwIGZldGNoIHJlcXVlc3QgYWxpdmUuXHJcbiAgICBpZiAoaXNDaGFuZ2VPZlBhZ2UpIHtcclxuICAgICAgcG9zdE9iai5rZWVwYWxpdmUgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5yZXNldEFuc3dlcnMoKTtcclxuICAgIGF3YWl0IGZldGNoKHBvc3RSb3V0ZSwgcG9zdE9iaik7XHJcblxyXG4gICAgdGhpcy5jbGVhclJlY2VudGx5UG9zdGVkQW5zd2VycyhhbnN3ZXJzVG9Qb3N0KTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgdGhlIHJlbGV2YW50IHBvc3RSb3V0ZSBhbmQgYW5zd2Vyc1RvUG9zdCBmb3JtYXQgZm9yIHdoZXRoZXIgdXBsb2FkaW5nIFxyXG4gIC8vIGFuc3dlcnMgZm9yIGEgc2luZ2xlIGNhdGVnb3J5IChmcm9tIHF1ZXN0aW9ucyBwYWdlKSBvciBmb3IgbXVsdGlwbGUgXHJcbiAgLy8gY2F0ZWdvcmllcyAoZWcuIGZyb20gcmVjb21tZW5kYXRpb25zIHBhZ2UpLlxyXG4gICNnZXRQb3N0SW5mbygpIHtcclxuICAgIGNvbnN0IGFuc3dlcnNNaXhlZENhdGVnb3JpZXMgPSAhdGhpcy5jYXRlZ29yeU5hbWU7XHJcblxyXG4gICAgbGV0IHBvc3RSb3V0ZTtcclxuICAgIGxldCBhbnN3ZXJzVG9Qb3N0O1xyXG5cclxuICAgIGlmIChhbnN3ZXJzTWl4ZWRDYXRlZ29yaWVzKSB7XHJcbiAgICAgIHBvc3RSb3V0ZSA9IGAvcXVlc3Rpb25zL21peGVkLWNhdGVnb3JpZXNgO1xyXG4gICAgICBhbnN3ZXJzVG9Qb3N0ID0gdGhpcy4jZ2V0QW5zd2Vyc1RvUG9zdENhdEluZm8odGhpcy5ub3RZZXRQb3N0ZWRBbnN3ZXJzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwb3N0Um91dGUgPSBgL3F1ZXN0aW9ucy8ke3RoaXMuY2F0ZWdvcnlUeXBlTmFtZX0vJHt0aGlzLmNhdGVnb3J5TmFtZX1gO1xyXG4gICAgICBhbnN3ZXJzVG9Qb3N0ID0gdGhpcy5ub3RZZXRQb3N0ZWRBbnN3ZXJzLnNsaWNlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBbcG9zdFJvdXRlLCBhbnN3ZXJzVG9Qb3N0XTtcclxuICB9XHJcblxyXG4gIC8vIE1ha2UgYSBjYXRlZ29yeSBpbmZvIG9iamVjdCB3aXRoIHRoZSBhbnN3ZXJzIGZvciBlYWNoIGNhdGVnb3J5LCBmb3Igd2hlbiBcclxuICAvLyB1cGxvYWRpbmcgYW5zd2VycyBmb3IgbXVsdGlwbGUgY2F0ZWdvcmllcyBhdCBvbmNlIChlZy4gZnJvbSByZWNvbW1lbmRhdGlvbnMgcGFnZSkuXHJcbiAgI2dldEFuc3dlcnNUb1Bvc3RDYXRJbmZvKGFuc3dlcnNUb1Bvc3QpIHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXNBbnN3ZXJzID0gW107XHJcblxyXG4gICAgLy8gUG9wdWxhdGUgY2F0ZWdvcmllc0Fuc3dlcnMgd2l0aCBhbnN3ZXJzIGZvciBlYWNoIGRpZmZlcmVudCBjYXRlZ29yeS5cclxuICAgIGZvciAobGV0IGFuc3dlciBvZiBhbnN3ZXJzVG9Qb3N0KSB7XHJcbiAgICAgIGNvbnN0IHRoaXNBbnNDYXRUeXBlID0gYW5zd2VyLnF1ZXN0aW9uRGV0YWlscy5jYXRlZ29yeVR5cGVOYW1lO1xyXG4gICAgICBjb25zdCB0aGlzQW5zQ2F0ID0gYW5zd2VyLnF1ZXN0aW9uRGV0YWlscy5jYXRlZ29yeU5hbWU7XHJcblxyXG4gICAgICBjb25zdCBmb3VuZENhdGVnb3J5SWR4ID0gY2F0ZWdvcmllc0Fuc3dlcnMuZmluZEluZGV4KGxpc3QgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhdFR5cGVNYXRjaCA9IGxpc3QuY2F0VHlwZSA9PT0gdGhpc0Fuc0NhdFR5cGU7XHJcbiAgICAgICAgY29uc3QgY2F0TWF0Y2ggPSBsaXN0LmNhdCA9PT0gdGhpc0Fuc0NhdDtcclxuICAgICAgICByZXR1cm4gKGNhdFR5cGVNYXRjaCAmJiBjYXRNYXRjaCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZm9ybWF0dGVkQW5zID0gZm9ybWF0QW5zd2VyKGFuc3dlcik7XHJcblxyXG4gICAgICBpZiAoZm91bmRDYXRlZ29yeUlkeCA+IC0xKSB7XHJcbiAgICAgICAgY2F0ZWdvcmllc0Fuc3dlcnNbZm91bmRDYXRlZ29yeUlkeF0uYW5zd2Vycy5wdXNoKGZvcm1hdHRlZEFucyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSB7XHJcbiAgICAgICAgICBjYXRUeXBlOiB0aGlzQW5zQ2F0VHlwZSxcclxuICAgICAgICAgIGNhdDogdGhpc0Fuc0NhdCxcclxuICAgICAgICAgIGFuc3dlcnM6IFtmb3JtYXR0ZWRBbnNdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2F0ZWdvcmllc0Fuc3dlcnMucHVzaChuZXdDYXRlZ29yeSk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgY2F0ZWdvcnkgYW5kIGNhdGVnb3J5IHR5cGUgZnJvbSB0aGUgYW5zd2VyLlxyXG4gICAgZnVuY3Rpb24gZm9ybWF0QW5zd2VyKGFuc3dlcikge1xyXG4gICAgICBkZWxldGUgYW5zd2VyLnF1ZXN0aW9uRGV0YWlscy5jYXRlZ29yeU5hbWU7XHJcbiAgICAgIGRlbGV0ZSBhbnN3ZXIucXVlc3Rpb25EZXRhaWxzLmNhdGVnb3J5VHlwZU5hbWU7XHJcbiAgICAgIHJldHVybiBhbnN3ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhdGVnb3JpZXNBbnN3ZXJzO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFJlY29tbWVuZGF0aW9uc01vZGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL3N1Yi1jbGFzc2VzL3NpbmdsZUFuc3dlck1vZGUvc3ViLWNsYXNzZXMvcmVjb21tZW5kYXRpb25zTW9kZS5tanNcIjtcclxuaW1wb3J0IHsgUmVjc1FTb3VyY2UgfSBmcm9tIFwiLi4vbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xU291cmNlL3N1Yi1jbGFzc2VzL3JlY3NRU291cmNlLm1qc1wiO1xyXG5pbXBvcnQgeyBSZWNzUXVlc3Rpb25zUGFnZSB9IGZyb20gXCIuLi9tb2R1bGVzL3F1ZXN0aW9ucy9xdWVzdGlvbnNQYWdlL3N1Yi1jbGFzc2VzL3JlY3NRdWVzdGlvbnNQYWdlLm1qc1wiO1xyXG5pbXBvcnQgXCIuL2xvZ2dlZEluUGFnZS5qc1wiO1xyXG5cclxuXHJcblxyXG5jb25zdCBzaW5nbGVBbnN3ZXJRTW9kZURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2luZ2xlLWFuc3dlci1tb2RlXCIpO1xyXG5cclxuY29uc3QgcmVjb21tZW5kYXRpb25zTGlzdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVjb21tZW5kYXRpb25zLWxpc3RcIik7XHJcbmNvbnN0IHJlY29tbWVuZGF0aW9uc0xpc3QgPSBuZXcgUmVjc1FTb3VyY2UocmVjb21tZW5kYXRpb25zTGlzdERpdik7XHJcblxyXG5jb25zdCByZWNvbW1lbmRhdGlvbnNNb2RlID0gbmV3IFJlY29tbWVuZGF0aW9uc01vZGUoc2luZ2xlQW5zd2VyUU1vZGVEaXYsIFxyXG4gIHJlY29tbWVuZGF0aW9uc0xpc3QpO1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBxdWVzdGlvbnMgcGFnZS5cclxuY29uc3QgcXVlc3Rpb25zUGFnZSA9IG5ldyBSZWNzUXVlc3Rpb25zUGFnZShbcmVjb21tZW5kYXRpb25zTW9kZV0pO1xyXG5cclxucXVlc3Rpb25zUGFnZS5pbml0KCk7XHJcblxyXG4vLyBPbiBwYWdlIGxvYWQsIHVwZGF0ZSB0aGUgcXVlc3Rpb25zIHF1ZXVlIGFuZCBzaG93IHRoZSBmaXJzdCBxdWVzdGlvbi5cclxud2luZG93Lm9ubG9hZCA9IGFzeW5jICgpID0+IHtcclxuICBhd2FpdCBxdWVzdGlvbnNQYWdlLnNldFFNb2RlKHJlY29tbWVuZGF0aW9uc01vZGUpO1xyXG59IiwiaW1wb3J0IHsgU2luZ2xlQW5zd2VyTW9kZSB9IGZyb20gXCIuLi9zaW5nbGVBbnN3ZXJNb2RlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUmVjb21tZW5kYXRpb25zTW9kZSBleHRlbmRzIFNpbmdsZUFuc3dlck1vZGUge1xyXG4gIG5hbWUgPSBcInJlY3NcIjtcclxuXHJcbiAgLy8gQWxzbyByZW1vdmUgdGhlIGFuc3dlcmVkIHF1ZXN0aW9uIGZyb20gdGhlIHJlY29tbWVuZGF0aW9ucyBsaXN0LlxyXG4gIGFuc3dlclF1ZXN0aW9uKGV2ZW50KSB7XHJcbiAgICBjb25zdCB0aGlzQW5zID0gc3VwZXIuYW5zd2VyUXVlc3Rpb24oZXZlbnQpO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0aGlzIGFuc3dlcmVkIHF1ZXN0aW9uIGZyb20gdGhlIHJlY29tbWVuZGF0aW9ucyBsaXN0LCBpZiB1c2VyIFxyXG4gICAgLy8gZGlkbid0IHNraXAgaXQuXHJcbiAgICBpZiAoIXRoaXNBbnMuc2tpcCkge1xyXG4gICAgICB0aGlzLl9xU291cmNlLnJlbW92ZUFuc3dlcmVkUSgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIE1ha2VzIGEgcXVlc3Rpb24sIHJlYWR5IHRvIGJlIHNob3duIGluIHRoZSBhbnN3ZXJVaVBhbmVsLCBmcm9tIHRoZSBjbGlja2VkIFxyXG4gIC8vIG9uIHF1ZXN0aW9uLlxyXG4gIF9tYWtlUXVlc3Rpb24ocUl0ZW0pIHtcclxuICAgIGNvbnN0IHRoaXNRID0ge1xyXG4gICAgICBfaWQ6IHFJdGVtLnF1ZXN0aW9uSWQsXHJcbiAgICAgIGNhdGVnb3J5VHlwZU5hbWU6IHFJdGVtLmNhdGVnb3J5VHlwZSxcclxuICAgICAgY2F0ZWdvcnlOYW1lOiBxSXRlbS5jYXRlZ29yeVxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGxldCBwcm9wIGluIHFJdGVtLnF1ZXN0aW9uRGV0YWlscykge1xyXG4gICAgICB0aGlzUVtwcm9wXSA9IHFJdGVtLnF1ZXN0aW9uRGV0YWlsc1twcm9wXVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGhpc1E7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUXVlc3Rpb25zUGFnZSB9IGZyb20gXCIuLi9xdWVzdGlvbnNQYWdlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUmVjc1F1ZXN0aW9uc1BhZ2UgZXh0ZW5kcyBRdWVzdGlvbnNQYWdlIHtcclxuICBcclxuICBzZXRRTW9kZShuZXdRTW9kZSkge1xyXG4gICAgc3VwZXIuc2V0UU1vZGUobmV3UU1vZGUpO1xyXG5cclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5fcVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGBnZXRSZWNzQ2xpY2tgLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3Bvc3RBbnN3ZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIERpc3BhdGNoIGV2ZW50IHRvIHRoZSBxIHNvdXJjZSBzbyB0aGF0IGl0IGtub3dzIGl0IGNhbiB0aGVuIHJlZnJlc2ggdGhlIFxyXG4gIC8vIHJlY29tbWVuZGF0aW9ucy5cclxuICBhc3luYyBfcG9zdEFuc3dlcnMoaXNDaGFuZ2VPZlBhZ2UgPSBmYWxzZSkge1xyXG4gICAgc3VwZXIuX3Bvc3RBbnN3ZXJzKGlzQ2hhbmdlT2ZQYWdlKTtcclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5fcVNvdXJjZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChgcG9zdEFuc3dlcnNDb21wbGV0ZWApKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZmFkZUluIiwiZWxlbSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJhc3luYyIsImZ1bGx5RmFkZUluIiwiZmluaXNoRmFkZUluIiwiZmFkZU91dCIsImFkZCIsImZpbmlzaEZhZGVPdXQiLCJmdWxseUZhZGVPdXQiLCJmYWRlRnJvbVRvIiwiZWxlbTEiLCJlbGVtMiIsIlByb21pc2UiLCJyZXNvbHZlIiwiUG9wQnRuIiwiY29uc3RydWN0b3IiLCJwb3BCdG5Db250YWluZXIiLCJ0aGlzIiwicXVlcnlTZWxlY3RvciIsImluaXQiLCJidG4iLCJjb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZmluZEFuZE92ZXJ3cml0ZUVsc2VQdXNoIiwiYXJyYXkiLCJuZXdJdGVtIiwiZWxlbUNvbXBGdW5jIiwiZm91bmRJbmRleCIsImZpbmRJbmRleCIsImFyckl0ZW0iLCJzcGxpY2UiLCJwdXNoIiwiYXdhaXRUcmFuc2l0aW9uIiwicHJvcE5hbWUiLCJldnQiLCJwcm9wZXJ0eU5hbWUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJBbnN3ZXJVSVBhbmVsIiwibWFpbkRpdiIsInJhdGVQYW5lbCIsInJhdGVCdG4iLCJza2lwQnRuIiwic2NvcmVTbGlkZXIiLCJzY29yZVNsaWRlcklucHV0IiwiY3VyclF1ZXN0aW9uVGV4dCIsInByZXZBbnNEaXYiLCJwcmV2QW5zVmFsIiwibG9hZGVyIiwiZGV0YWlscyIsInFNb2RlRGl2IiwiZGlzcGxheUN1cnJRIiwibmV3UUluZm8iLCJpbmNsdWRlQWxyZWFkeUFuc3dlcmVkIiwiaW5uZXJIVE1MIiwiY3VyclFUZXh0IiwiaW5uZXJUZXh0IiwicHJldlNjb3JlIiwidmFsdWUiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJlbmRPZlF1ZXVlIiwicHJldkFuc1Njb3JlIiwiY3VyclFBbnMiLCJza2lwIiwiYW5zd2VyVmFsIiwiUXVlc3Rpb25zTW9kZSIsIkV2ZW50VGFyZ2V0IiwiYW5zd2VyVWlQYW5lbCIsInF1ZXN0aW9uc1F1ZXVlIiwic3VwZXIiLCJhbnN3ZXJRdWVzdGlvbiIsInNldFJlY2VudEFuc3dlcnMiLCJhbGxSZWNlbnRBbnN3ZXJzIiwiX3Nob3dDdXJyUSIsImluY2xBbHJlYWR5QW5zd2VyZWQiLCJuZXdDdXJyUUluZm8iLCJnZXRDdXJyUUluZm8iLCJnZXRBbnN3ZXJPYmoiLCJldmVudCIsImN1cnJRdWVzdGlvbiIsInVzZXJTa2lwcGVkIiwiY3VycmVudFRhcmdldCIsInRoaXNTY29yZSIsIk51bWJlciIsInF1ZXN0aW9uRGV0YWlscyIsIl9nZXRRdWVzdGlvbkRldGFpbHMiLCJhbnN3ZXJJbmZvIiwicXVlc3Rpb25JZCIsIl9pZCIsInByb3BzVG9JZ25vcmUiLCJpbmNsdWRlcyIsImFjdGl2YXRlIiwiZGVhY3RpdmF0ZSIsImdldFFDYXRlZ29yeSIsInEiLCJvYmpDYXRUeXBlIiwib2JqQ2F0IiwiY2F0ZWdvcnlUeXBlTmFtZSIsImNhdGVnb3J5VHlwZSIsImNhdGVnb3J5TmFtZSIsImNhdGVnb3J5IiwiZ2V0UUluZm8iLCJkZXRhaWwiLCJjYXRUeXBlTmFtZSIsImNhdE5hbWUiLCJpbmZvIiwiaW1nUGF0aCIsInBvc3RlclBhdGgiLCJxRGlzcGxheVRleHQiLCJ0aXRsZSIsImdldERpc3BsYXlSZWxlYXNlRGF0ZSIsInJlbGVhc2VEYXRlIiwicVNvdXJjZURpc3BsYXlUZXh0IiwiaW1nUGxhY2VIb2xkZXJUeHQiLCJpbWFnZSIsInRyYWNrTmFtZSIsImFydGlzdCIsImFsYnVtIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwicGxhdGZvcm1zIiwiYXV0aG9yIiwidGV4dCIsInNob3J0VGV4dCIsImNyZWF0ZVFEb21JdGVtIiwibmV3RG9tUSIsImNyZWF0ZUVsZW1lbnQiLCJkb21JbWciLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsIm5vSW1nRGl2Iiwibm9JbWdUZXh0IiwicGxhY2Vob2xkZXJUZXh0IiwicHJldmlld1VybCIsImRvbU11c2ljUGxheWVyIiwiRG9tUXVldWUiLCJfcXVldWUiLCJxTW9kZU1haW5EaXYiLCJfZGVsZXRlRG9tUSIsImFkZFRvUXVldWUiLCJxcyIsInJlbW92ZVF1ZXVlSXRlbSIsImlkeCIsImRvVHJhbnMiLCJoYXNDaGlsZE5vZGVzIiwiY29udGFpbnMiLCJyZW1vdmVDaGlsZCIsImNoaWxkcmVuIiwicmVzZXRRdWV1ZSIsIkJhc2VRdWVzdGlvbnNRdWV1ZSIsIl9jYXRlZ29yeVR5cGVOYW1lIiwiX2NhdGVnb3J5TmFtZSIsInF1ZXVlIiwicXVldWVUeXBlIiwiX2RvbVF1ZXVlIiwiX3F1ZXVlUHJldlFzIiwibGVuZ3RoIiwiX2dldEVuZFF1ZXVlTXNnIiwiY3VyclEiLCJjdXJyQW5zIiwiZW5kUXVldWVNc2ciLCJ0aGlzUXVldWVJdGVtIiwiX2FkZFRvUXVldWUiLCJjb25jYXQiLCJfcmVzZXRRdWV1ZSIsInNhdmVQcmV2USIsInFJZCIsIlNpbmdsZURvbVF1ZXVlIiwiU2luZ2xlUXVlc3Rpb25RdWV1ZSIsInVwZGF0ZSIsInF1ZXN0aW9uIiwiQ2VudHJlTW9kYWwiLCJ3cmFwcGVyIiwiY2xvc2VNb2RhbEVsZW1zIiwiY2xvc2VNb2RhbEVsZW0iLCJoaWRlIiwic3RvcFByb3BhZ2F0aW9uIiwic2hvdyIsIlNpbmdsZUFuc3dlck1vZGUiLCJuYW1lIiwiX3FTb3VyY2UiLCJfYW5zd2VyVWlNb2RhbCIsInFTb3VyY2UiLCJtb2RhbFdyYXBwZXIiLCJfaGFuZGxlQ2xpY2tTaW5nbGVRIiwiYW5zd2VyT2JqIiwiQ3VzdG9tRXZlbnQiLCJ0aGlzUUl0ZW0iLCJ0aGlzUXVlc3Rpb24iLCJfbWFrZVF1ZXN0aW9uIiwiU2luZ2xlTW9kZVFTb3VyY2UiLCJfbGlzdERpdiIsIl9jb250ZW50RGl2IiwiX3FEaXZDbGFzcyIsImxpc3REaXYiLCJfY3JlYXRlUURpdiIsInFTb3VyY2VJdGVtIiwicVRleHQiLCJfY3JlYXRlUVRleHRFbGVtIiwicVNjb3JlIiwiX2NyZWF0ZXRRU2NvcmVFbGVtIiwiX3NldHVwUUltZyIsInFJbmZvIiwiX2FkZFRvUURpdiIsIl9oYW5kbGVSYXRlQnRuQ2xpY2siLCJfYnVpbGRDb250ZW50RGl2IiwicXVlc3Rpb25zIiwiX2dldFNjb3JlVGV4dCIsInFJbWciLCJpbWdXcmFwcGVyRGl2IiwiaW5zZXJ0QmVmb3JlIiwiaG92ZXJEaXYiLCJob3ZlclR4dCIsIl9nZXRIb3ZlclRleHQiLCJDYXRlZ29yeUluZm8iLCJjYXRUeXBlcyIsImNhdEluZm8iLCJkYkNhdFR5cGVzIiwiY2F0VHlwZSIsImNhdCIsImNhdGVnb3JpZXMiLCJpc1JlY0RhdGEiLCJpc1JlY29tbWVuZGFibGUiLCJjaGVja0FuZEFkZENhdGVnb3J5V2l0aFR5cGUiLCJkYXRhIiwiY2F0T3JUeXBlRXhpc3RzIiwiX2RvZXNDYXRlZ29yeU9yVHlwZUV4aXN0IiwiX2FkZFR5cGVBbmRDYXRlZ29yeSIsIl9hZGRDYXRlZ29yeSIsImNsb25lV2l0aERhdGEiLCJnZXREYXRhRnVuYyIsImFyZ3MiLCJuZXdDYXRJbmZvIiwiYWxsQ2F0ZWdvcmllc1dpdGhUeXBlcyIsImdldEFsbENhdGVnb3JpZXMiLCJjYXRlZ29yeVdpdGhUeXBlIiwiaW5jbERhdGEiLCJhbGxVbmlxdWVDYXRlZ29yaWVzIiwidGhpc0NhdEFuZFR5cGUiLCJjYXREYXRhIiwiX3NldERhdGEiLCJDYXRlZ29yeUNoZWNrYm94ZXMiLCJjYXRlZ29yeUluZm8iLCJjYXRlZ29yeUNoZWNrYm94ZXMiLCJnZXRTZWxlY3RlZENhdGVnb3J5SW5mbyIsInNlbGVjdGVkQ2F0ZWdvcnlJbmZvIiwiY2hlY2tib3giLCJjaGVja2VkIiwiY2F0VHlwZUFuZENhdCIsImdldEF0dHJpYnV0ZSIsInNwbGl0IiwiZ2V0TnVtU2VsZWN0ZWQiLCJBcnJheSIsImZyb20iLCJyZWR1Y2UiLCJ0b3QiLCJjdXJyIiwia2luZHJlZFJlY3NNaXhpbiIsIl9yZWJ1aWxkQ29udGVudERpdiIsIl9jbGVhckNvbnRlbnREaXYiLCJyZXBsYWNlQ2hpbGRyZW4iLCJfc2hvd0xvYWRlciIsIl9sb2FkZXIiLCJfaGlkZUxvYWRlciIsImxvYWRlclNob3duIiwiX2dldFVwZGF0ZWRTb3VyY2VEYXRhIiwidmFsaWRhdGVIYW5kbGVVcGRhdGUiLCJzY3JvbGxFbGVtIiwiZmFpbFZhbGlkYXRlTXNnIiwiX3ZhbGlkYXRlU2VsZWN0aW9ucyIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVVcGRhdGVCdG5DbGljayIsImFsZXJ0IiwiUmVjc1FTb3VyY2UiLCJzdGF0aWMiLCJyZWNzRm9yRGl2IiwiYmFzZWRPbkRpdiIsInJlY0ZvckNoZWNrYm94ZXNBcnIiLCJiYXNlZE9uQ2hlY2tib3hlc0FyciIsInJlY3NJbmZvIiwibnVtS2luZHJlZCIsInJlY29tbWVuZExpc3QiLCJtc2dJbmZvIiwibm9SZWNzTXNnRGl2Iiwibm9SZWNzSGVhZGVyIiwibm9SZWNzVHh0IiwibnVtQmFzZWRPbkNhdHMiLCJudW1SZWNDYXRzIiwiY2F0VHlwZVRleHQiLCJjYXRUZXh0IiwiYWxsQ2F0ZWdvcnlJbmZvIiwicmVjb21tZW5kYXRpb25zRm9yIiwiYmFzZWRPbiIsImZldGNoUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb24iLCJwYXJlbnROb2RlIiwicmVtb3ZlQW5zd2VyZWRRIiwicmVjIiwicmF0aW5nIiwic3RyZW5ndGgiLCJ0b0ZpeGVkIiwiZ2V0UmVjcyIsImFzc2lnbiIsIlFNb2RlV2l0aFF1ZXVlSW5wdXQiLCJxdWV1ZUlucHV0UGFuZWwiLCJjaGVja0Zvck91dGRhdGVkUXMiLCJpbmNsdWRlQWxyZWFkeUFuc3dlcmVkQ2hlY2tib3giLCJpc05ld1F1ZXVlIiwic2hvd0xvYWRlciIsInVwZGF0ZVF1ZXVlIiwiaGlkZUxvYWRlciIsIlF1ZXN0aW9uc1BhZ2UiLCJxdWVzdGlvbnNNb2RlcyIsInFNb2RlU3dpdGNoZXIiLCJjdXJyUXVlc3Rpb25Nb2RlIiwibm90WWV0UG9zdGVkQW5zd2VycyIsInFNb2RlcyIsInFNb2RlIiwiX3Bvc3RBbnN3ZXJzIiwic2V0SW50ZXJ2YWwiLCJfaGFuZGxlTmV3QW5zd2VyIiwibW9kZUJ0bkxpbmsiLCJxTW9kZUJ0biIsIm1vZGUiLCJzd2l0Y2hRTW9kZSIsIl91cGRhdGVBbnNBcnJheVdpdGhBbnMiLCJfc2V0UmVjZW50QW5zd2VycyIsInJlbW92ZVFtb2RlIiwibmV3UU1vZGUiLCJ1cGRhdGVRdWV1ZUFuZFNob3dGaXJzdCIsIm9yaWdBbnNBcnJheSIsIm5ld0FucyIsInNldFFNb2RlIiwicmVzZXRBbnN3ZXJzIiwiY2xlYXJSZWNlbnRseVBvc3RlZEFuc3dlcnMiLCJzdWNjZXNzUG9zdGVkQW5zd2VycyIsInN1Y2Nlc3NQb3N0ZWRBbnN3ZXIiLCJnZXRGaW5kSW5kZXgiLCJ1cGRhdGVBbnN3ZXJzQXJyYXkiLCJhbnMiLCJpc01hdGNoIiwicHJvcHNUb0NoZWNrIiwiaXNDaGFuZ2VPZlBhZ2UiLCJwb3N0Um91dGUiLCJhbnN3ZXJzVG9Qb3N0IiwicG9zdE9iaiIsInR5cGUiLCJrZWVwYWxpdmUiLCJzbGljZSIsImNhdGVnb3JpZXNBbnN3ZXJzIiwiYW5zd2VyIiwidGhpc0Fuc0NhdFR5cGUiLCJ0aGlzQW5zQ2F0IiwiZm91bmRDYXRlZ29yeUlkeCIsImxpc3QiLCJjYXRUeXBlTWF0Y2giLCJjYXRNYXRjaCIsImZvcm1hdHRlZEFucyIsImZvcm1hdEFuc3dlciIsImFuc3dlcnMiLCJuZXdDYXRlZ29yeSIsInNpbmdsZUFuc3dlclFNb2RlRGl2IiwicmVjb21tZW5kYXRpb25zTGlzdERpdiIsInJlY29tbWVuZGF0aW9uc0xpc3QiLCJyZWNvbW1lbmRhdGlvbnNNb2RlIiwicUl0ZW0iLCJ0aGlzUSIsInF1ZXN0aW9uc1BhZ2UiLCJvbmxvYWQiXSwic291cmNlUm9vdCI6IiJ9