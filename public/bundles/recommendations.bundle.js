(()=>{"use strict";var e={733:(e,t,s)=>{s.d(t,{Ji:()=>n,U6:()=>a,Yi:()=>c,_5:()=>r,tA:()=>u,xS:()=>o});var i=s(922);function n(e){e.classList.remove("fully-hidden"),setTimeout((()=>e.classList.remove("transparent")),10)}async function r(e){n(e),await async function(e){await(0,i.hk)(e,"opacity")}(e)}function a(e){e.classList.add("transparent")}async function o(e){await(0,i.hk)(e,"opacity"),e.classList.add("fully-hidden")}async function c(e){a(e),await o(e)}function u(e,t){return new Promise((async s=>{await c(e),await r(t),s()}))}},300:(e,t,s)=>{var i=s(733);class n{#e;#t;constructor(e){this.#e=e.querySelector(".pop-btn"),this.#t=e.querySelector(".pop-btn-content")}init(){this.#s(this.#e,this.#t)}#s(e,t){e.addEventListener("click",(()=>{this.#i(e,t)}),{once:!0})}async#i(e,t){await(0,i._5)(t),window.addEventListener("click",(async()=>{await(0,i.Yi)(t),this.#s(e,t)}),{once:!0})}}document.querySelectorAll(".pop-btn-container").forEach((e=>{new n(e).init()}))},922:(e,t,s)=>{function i(e,t,s){const i=e.findIndex((e=>s(e,t)));i>-1?e.splice(i,1,t):e.push(t)}function n(e,t=null){return new Promise((s=>{e.addEventListener("transitionend",(async i=>{t?(i.propertyName===t||await n(e,t),s()):s()}),{once:!0})}))}s.d(t,{cT:()=>i,hk:()=>n})}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(733);class t{mainDiv;ratePanel;rateBtn;skipBtn;scoreSlider;scoreSliderInput;currQuestionText;prevAnsDiv;prevAnsVal;loader;details;constructor(e){this.mainDiv=e.querySelector(".answer-panel"),this.ratePanel=this.mainDiv.querySelector(".rate-panel"),this.rateBtn=this.mainDiv.querySelector(".rate-btn"),this.skipBtn=this.mainDiv.querySelector(".skip-btn"),this.scoreSlider=this.mainDiv.querySelector(".score-slider"),this.scoreSliderInput=this.scoreSlider.querySelector("input"),this.currQuestionText=this.mainDiv.querySelector(".curr-question"),this.prevAnsDiv=this.mainDiv.querySelector(".prev-ans-info"),this.prevAnsVal=this.mainDiv.querySelector(".prev-ans-val"),this.loader=this.mainDiv.querySelector(".loader"),this.details=this.mainDiv.querySelector(".details")}displayCurrQ(e,t){this.#n(e),this.currQuestionText.innerHTML=e.currQText,this.prevAnsVal.innerText="";const s=this.#r(e,t);this.scoreSliderInput.value=s,this.scoreSliderInput.dispatchEvent(new Event("input"))}async showLoader(){this.loader.classList.remove("fully-hidden"),this.details.classList.add("fully-hidden"),this.details.classList.add("transparent")}async hideLoader(){this.loader.classList.add("fully-hidden"),this.details.classList.remove("fully-hidden"),setTimeout((()=>this.details.classList.remove("transparent")),10)}#n(e){e.endOfQueue?this.ratePanel.classList.add("hidden"):this.ratePanel.classList.remove("hidden")}#r(e,t){let s=5;return t&&e.currQAns?(this.prevAnsDiv.classList.remove("hidden"),this.prevAnsVal.innerText="Skipped",e.currQAns.skip||(s=e.currQAns.answerVal,this.prevAnsVal.innerText=s)):this.prevAnsDiv.classList.add("hidden"),s}}class i extends EventTarget{mainDiv;answerUiPanel;questionsQueue;btn;constructor(e,s=null){super(),this.mainDiv=e,this.btn=s,this.answerUiPanel=new t(e)}init(){this.answerUiPanel.rateBtn.addEventListener("click",(e=>{this.answerQuestion(e)})),this.answerUiPanel.skipBtn.addEventListener("click",(e=>{this.answerQuestion(e)}))}setRecentAnswers(e){this.questionsQueue.setRecentAnswers(e)}_showCurrQ(e=!0){const t=this.questionsQueue.getCurrQInfo();this.answerUiPanel.displayCurrQ(t,e)}getAnswerObj(e,t){const s=e.currentTarget===this.answerUiPanel.skipBtn,i=s?null:Number(this.answerUiPanel.scoreSliderInput.value),n=this._getQuestionDetails(t),r={questionId:t._id,skip:s,questionDetails:n};return s||(r.answerVal=i),r}_getQuestionDetails(e){const t={},s=["_id","apiPageNum","alreadyInDb","currAns"];for(let i in e)s.includes(i)||(t[i]=e[i]);return t}activate(){this.btn&&this.btn.classList.add("active-q-mode"),(0,e.Ji)(this.mainDiv)}deactivate(){this.btn&&this.btn.classList.remove("active-q-mode"),(0,e.U6)(this.mainDiv)}}function n(e,t,s){return s?[t,s]:[e.categoryTypeName??e.categoryType,e.categoryName??e.category]}function r(e,t,s,i){let n;switch(i){case"Films":case"TV":n={imgPath:e?.posterPath?`https://image.tmdb.org/t/p/w185/${e.posterPath}`:null,qDisplayText:`${e?.title} (${a(e?.releaseDate)})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Music":n={imgPath:e?.image,qDisplayText:`${e?.trackName} - ${e?.artist} (${e?.album} - ${new Date(e?.releaseDate).getFullYear()})`,qSourceDisplayText:`${e?.trackName} - ${e?.artist}`,imgPlaceHolderTxt:`${e?.trackName}`};break;case"Video Games":n={imgPath:e?.image?`https://images.igdb.com/igdb/image/upload/t_cover_big/${e.image}.jpg`:null,qDisplayText:`${e?.title} (${a(e?.releaseDate)}) (${e.platforms})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;case"Books":n={imgPath:e?.image?`https://covers.openlibrary.org/b/id/${e.image}-M.jpg`:null,qDisplayText:`${e?.title} (${e?.author})`,qSourceDisplayText:`${e?.title}`,imgPlaceHolderTxt:`${e?.title}`};break;default:n={imgPath:null,qDisplayText:e?.text,qSourceDisplayText:e?.shortText,imgPlaceHolderTxt:e?.shortText??e.text}}return n[t]}function a(e){return e?new Date(e).getFullYear():"Unknown"}function o(e,t,s){const i=document.createElement("div"),n=r(e,"imgPath",0,s);if(n){const t=document.createElement("img");t.setAttribute("src",n),t.setAttribute("loading","lazy"),t.setAttribute("alt",e?.title),i.appendChild(t)}else{const t=document.createElement("div");t.classList.add("placeholder-img");const n=document.createElement("span"),a=r(e,"imgPlaceHolderTxt",0,s);n.innerText=a,t.appendChild(n),i.appendChild(t)}if(e.previewUrl){const t=document.createElement("audio");t.setAttribute("controls","true"),t.setAttribute("src",e.previewUrl),i.appendChild(t)}return i}class c{_queue=[];#a=0;#o;#c;constructor(e,t,s){this._queue=e.querySelector(".queue-imgs"),this.#o=t,this.#c=s,this._queue.addEventListener("transitionend",(e=>{this.#u(e)}))}#u(e){"left"===e.propertyName&&(this.#a--,this._deleteDomQ(0),this._queue.classList.remove("queue-imgs-transitioning"),this.#a>0&&setTimeout((()=>this.#d()),0))}addToQueue(e){for(let t of e){const[e,s]=n(t,this.#o,this.#c),i=o(t,0,s);i.setAttribute("data-id",t._id),this._queue.appendChild(i)}}removeQueueItem(e,t){this._queue.hasChildNodes()&&(0===e&&t?(this.#a++,this.#d()):this._deleteDomQ(e))}_deleteDomQ(e){this._queue.classList.contains("queue-imgs-transitioning")&&e>0&&e++,this._queue.removeChild(this._queue.children[e])}#d(){this._queue.classList.add("queue-imgs-transitioning")}resetQueue(){this._queue.innerText=""}}class u{_categoryTypeName;_categoryName;queue=[];queueType;_domQueue;_queuePrevQs=[];constructor(e,t=null,s=null){this._categoryTypeName=t,this._categoryName=s,this._domQueue=new c(e,t,s)}getCurrQInfo(){let e,t,s=!1;if(0===this.queue.length)e=this._getEndQueueMsg(),s=!0;else{const s=this.queue[0],[i,a]=n(s,this._categoryTypeName,this._categoryName);e=r(s,"qDisplayText",0,a),t=s.currAns}return{endOfQueue:s,currQText:e,currQAns:t}}_getEndQueueMsg(){return this.endQueueMsg}removeQueueItem(e,t){const s=this.queue[e];return this.queue.splice(e,1),this._domQueue.removeQueueItem(e,t),s}_addToQueue(e){this.queue=this.queue.concat(e),this._domQueue.addToQueue(e)}_resetQueue(){this.queue=[],this._domQueue.resetQueue(),this._queuePrevQs=[]}savePrevQ(e){this._queuePrevQs.push(e)}}class d extends c{removeQueueItem(e,t){this._queue.hasChildNodes()&&0===e&&this._deleteDomQ(e)}}class l extends u{constructor(e,t=null,s=null){super(e,t,s),this._domQueue=new d(e,t,s)}update(e){this._resetQueue(),this._addToQueue([e])}}class h{wrapper;#l;#h;constructor(e){this.wrapper=e,this.#l=e.querySelector(".centre-modal"),this.#h=this.#l.querySelector(".close")}init(){const e=[this.#h,this.wrapper];for(let t of e)t.addEventListener("click",(()=>this.hide()));this.#l.addEventListener("click",(e=>e.stopPropagation()))}show(){(0,e.Ji)(this.wrapper)}hide(){(0,e.Yi)(this.wrapper)}}class p extends i{name="single";_qSource;_answerUiModal;constructor(e,t,s=null){super(e,s),this.questionsQueue=new l(e),this._qSource=t;const i=e.querySelector(".centre-modal-wrapper");this._answerUiModal=new h(i)}init(){super.init(),this._qSource.addEventListener("answerSingleQ",(e=>{this._handleClickSingleQ(e)})),this._answerUiModal.init()}answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0),s=this.getAnswerObj(e,t);return this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._answerUiModal.hide(),s}_handleClickSingleQ(e){const t=e.detail.question,s=this._makeQuestion(t);this.questionsQueue.update(s),this._answerUiModal.show(),this._showCurrQ()}}class m extends EventTarget{_listDiv;_contentDiv;_qDivClass;constructor(e){super(),this._listDiv=e,this._contentDiv=e.querySelector(".content")}_createQDiv(e){const[t,s]=n(e,this._categoryTypeName,this._categoryName),i=o(e.questionDetails,0,s);i.classList.add(this._qDivClass);const r=this._createQTextElem(e,t,s),a=this._createtQScoreElem(e);this._setupQImg(e,i);const c={qSourceItem:i,qText:r,qScore:a,catTypeName:t,catName:s};return this._addToQDiv(c),i}_handleRateBtnClick(e,t){this.dispatchEvent(new CustomEvent("answerSingleQ",{detail:{question:t}}))}_buildContentDiv(e){for(let t of e){const e=this._createQDiv(t);this._contentDiv.appendChild(e)}}_createQTextElem(e,t,s){const i=document.createElement("p");return i.innerText=r(e.questionDetails,"qSourceDisplayText",0,s),i.classList.add("q-text"),i}_createtQScoreElem(e){const t=document.createElement("p");return t.innerText=this._getScoreText(e),t.classList.add("user-score"),t}_setupQImg(e,t){const s=t.querySelector("img")??t.querySelector(".placeholder-img");s.addEventListener("click",(t=>{this._handleRateBtnClick(t,e)}));const i=document.createElement("div");i.classList.add("q-source-img-wrapper"),i.appendChild(s),t.insertBefore(i,t.children[0]);const n=document.createElement("div");n.classList.add("q-source-item-hover");const r=document.createElement("span");r.innerText=this._getHoverText(),r.classList.add("q-source-hover-txt"),n.appendChild(r),i.appendChild(n)}}class y{catTypes={};constructor(e=null,t=null){e&&(this.catTypes=e.catTypes),t&&this.#p(t)}#p(e){for(let t of e)for(let e of t.categories){const s={isRecommendable:e.isRecommendable};this.checkAndAddCategoryWithType(t.name,e.name,s)}}checkAndAddCategoryWithType(e,t,s=null){const i=this._doesCategoryOrTypeExist(e,t);"nor"===i?this._addTypeAndCategory(e,t,s):"typeOnly"===i&&this._addCategory(e,t,s)}cloneWithData(e,t){const s=new y,i=this.getAllCategories();for(let n of i){const i=n.categoryType,r=n.category,a=e(i,r,t);s.checkAndAddCategoryWithType(i,r,a)}return s}getAllCategories(e=!1){const t=[];for(let s in this.catTypes)for(let i in this.catTypes[s]?.categories){const n={categoryType:s,category:i};if(e){const e=this.catTypes[s].categories[i];for(let t in e)n[t]=e[t]}t.push(n)}return t}_doesCategoryOrTypeExist(e,t){return e in this.catTypes?t in(this.catTypes.categoryTypeName?.categories??[])?"typeAndCat":"typeOnly":"nor"}_addTypeAndCategory(e,t,s){this.catTypes[e]={categories:{}},this._addCategory(e,t,s)}_addCategory(e,t,s){this.catTypes[e].categories[t]=null,s&&this._setData(e,t,s)}_setData(e,t,s){this.catTypes[e].categories[t]={};for(let i in s)this.catTypes[e].categories[t][i]=s[i]}}class g{#m;categoryInfo;constructor(e){this.#m=e}getSelectedCategoryInfo(){let e=new y;return this.#m.forEach((function(t){if(t.checked){const s=t.getAttribute("name").split(".");e.checkAndAddCategoryWithType(s[0],s[1])}})),this.categoryInfo=e,this.categoryInfo}getNumSelected(){return Array.from(this.#m).reduce(((e,t)=>e+t.checked),0)}}const w={_rebuildContentDiv(e){this._clearContentDiv(),this._buildContentDiv(e)},_clearContentDiv(){this._contentDiv.replaceChildren()},_showLoader(){return(0,e.tA)(this._contentDiv,this._loader)},_hideLoader(){return(0,e.tA)(this._loader,this._contentDiv)},async handleUpdateBtnClick(){const e=this._showLoader(),t=await this._getUpdatedSourceData();await e,this._rebuildContentDiv(t),this._hideLoader()},validateHandleUpdate(e,t){this._validateSelections()?(e.scrollIntoView({behavior:"smooth"}),this.handleUpdateBtnClick()):alert(t)}};class v extends m{#y=null;#g;#w;#v;_loader;_qDivClass="rec-item";static#_='At least one category must be selected from each of the "Recommend for" and "Based on" groups.';static#q=["You're one of a kind!","We couldn't find anyone similar enough to you for the selected categories. Try a different selection or answer more questions."];static#T=["No recommendations!","Your Kindred spirits for the categories selected have nothing to recommend you that you haven't rated already! Try a different selection."];constructor(e){super(e),this._loader=e.querySelector(".loader");const t=document.querySelector(".recommendations-for"),s=document.querySelector(".based-on"),i=t.querySelectorAll(".category-checkbox"),n=s.querySelectorAll(".category-checkbox");this.#g=new g(i),this.#w=new g(n),this.#v=document.querySelector(".get-recs-btn"),this.#v.addEventListener("click",(()=>{this.validateHandleUpdate(this._listDiv,v.#_)}))}_buildContentDiv(e){e.numKindred>0?e.recommendList.length>0?super._buildContentDiv(e.recommendList):this.#Q(v.#T):this.#Q(v.#q)}#Q(e){const t=document.createElement("div"),s=document.createElement("h5"),i=document.createElement("p");s.innerText=e[0],i.innerText=e[1],t.appendChild(s),t.appendChild(i),t.classList.add("no-recs-msg"),this._contentDiv.appendChild(t)}_validateSelections(){const e=this.#g.getNumSelected(),t=this.#w.getNumSelected();return e>0&&t>0}_addToQDiv(e){e.qSourceItem.appendChild(e.qText),e.qSourceItem.insertBefore(e.qScore,e.qSourceItem.children[0]);const t=document.createElement("p"),s=document.createElement("p");return t.classList.add("rec-cat-type"),s.classList.add("rec-cat"),[t.innerText,s.innerText]=[e.catTypeName,e.catName],e.qSourceItem.appendChild(t),e.qSourceItem.appendChild(s),e.qSourceItem}async getRecs(){const e={recommendationsFor:this.#g.getSelectedCategoryInfo(),basedOn:this.#w.getSelectedCategoryInfo()},t=await fetch("/recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}_handleRateBtnClick(e,t){this.#y=e.currentTarget.parentNode.parentNode,super._handleRateBtnClick(e,t)}removeAnsweredQ(){this._contentDiv.removeChild(this.#y)}_getScoreText(e){return e.rating.strength.toFixed(1)}async#f(){return this.dispatchEvent(new CustomEvent("getRecsClick")),await new Promise((e=>{this.addEventListener("postAnswersComplete",e(),{once:!0})})),await this.getRecs()}async _getUpdatedSourceData(){return await this.#f()}_getHoverText(){return"Rate it!"}}Object.assign(v.prototype,w);var _=s(922);class q extends i{queueInputPanel;async answerQuestion(e){const t=this.questionsQueue.removeQueueItem(0,!0);this.questionsQueue.savePrevQ(t._id);const s=this.getAnswerObj(e,t);this.dispatchEvent(new CustomEvent("answeredQ",{detail:{answerObj:s}})),this._showCurrQ(),await this.questionsQueue.update()&&this.questionsQueue.checkForOutdatedQs(!0)}_showCurrQ(){const e=this.queueInputPanel?.includeAlreadyAnsweredCheckbox.checked;super._showCurrQ(e)}async activate(){super.activate()}async updateQueueAndShowFirst(e=!1){this.answerUiPanel.showLoader(),await this.updateQueue(e),this.answerUiPanel.hideLoader(),this._showCurrQ()}async updateQueue(e){await this.questionsQueue.update(e),this.questionsQueue.checkForOutdatedQs()}}class T{#C=!1;questionsModes;qModeSwitcher;currQuestionMode;categoryTypeName;categoryName;notYetPostedAnswers=[];allRecentAnswers=[];static#S=6e5;constructor(e,t=[],s=null,i=null){this.questionsModes=e,this.qModeSwitcher=t,this.categoryTypeName=s,this.categoryName=i}init(){for(let e of this.questionsModes)e.init();window.addEventListener("beforeunload",(()=>{this._postAnswers(!0)})),setInterval((()=>{this._postAnswers(!1)}),T.#S);for(let e of this.questionsModes)e.addEventListener("answeredQ",(e=>{const t=e.detail.answerObj;this._handleNewAnswer(t)}));this.#A()}#A(){for(let e of this.qModeSwitcher){const t=e.btn,s=e.mode;t.addEventListener("click",(async()=>{this.#C||this.currQuestionMode===s||(this.#C=!0,await this.switchQMode(s),this.#C=!1)}))}}_handleNewAnswer(e){this._updateAnsArrayWithAns(this.notYetPostedAnswers,e),this._updateAnsArrayWithAns(this.allRecentAnswers,e),this._setRecentAnswers()}removeQmode(){this.currQuestionMode.deactivate()}async setQMode(e){this.currQuestionMode=e,await this.currQuestionMode.activate(),this._setRecentAnswers(),this.currQuestionMode instanceof q&&await this.currQuestionMode.updateQueueAndShowFirst()}_setRecentAnswers(){"recs"!==this.currQuestionMode?.name&&this.currQuestionMode.setRecentAnswers(this.allRecentAnswers)}_updateAnsArrayWithAns(e,t){(0,_.cT)(e,t,((e,t)=>e.questionId===t.questionId))}async switchQMode(t){this.removeQmode(),await(0,e.xS)(this.currQuestionMode.mainDiv),await this.setQMode(t)}resetAnswers(){this.notYetPostedAnswers=[]}clearRecentlyPostedAnswers(e){for(let s of e){const e=t(s,this.allRecentAnswers);e>-1&&this.allRecentAnswers.splice(e,1)}function t(e,t){return t.findIndex((t=>{let s=!0;const i=["questionId","skip","answerVal"];for(let n in t)if(i.includes(n)&&(s=t[n]===e[n],!s))break;return s}))}}async _postAnswers(e=!1){if(0===this.notYetPostedAnswers.length)return;const[t,s]=this.#D(),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"answers",data:s})};e&&(i.keepalive=!0),this.resetAnswers(),await fetch(t,i),this.clearRecentlyPostedAnswers(s)}#D(){let e,t;return this.categoryName?(e=`/questions/${this.categoryTypeName}/${this.categoryName}`,t=this.notYetPostedAnswers.slice()):(e="/questions/mixed-categories",t=this.#x(this.notYetPostedAnswers)),[e,t]}#x(e){const t=[];for(let i of e){const e=i.questionDetails.categoryTypeName,n=i.questionDetails.categoryName,r=t.findIndex((t=>{const s=t.catType===e,i=t.cat===n;return s&&i})),a=s(i);if(r>-1)t[r].answers.push(a);else{const s={catType:e,cat:n,answers:[a]};t.push(s)}}function s(e){return delete e.questionDetails.categoryName,delete e.questionDetails.categoryTypeName,e}return t}}s(300);const Q=document.querySelector(".single-answer-mode"),f=document.querySelector(".recommendations-list"),C=new v(f),S=new class extends p{name="recs";answerQuestion(e){super.answerQuestion(e).skip||this._qSource.removeAnsweredQ()}_makeQuestion(e){const t={_id:e.questionId,categoryTypeName:e.categoryType,categoryName:e.category};for(let s in e.questionDetails)t[s]=e.questionDetails[s];return t}}(Q,C),A=new class extends T{setQMode(e){super.setQMode(e),this.currQuestionMode._qSource.addEventListener("getRecsClick",(async()=>{this._postAnswers()}))}async _postAnswers(e=!1){super._postAnswers(e),this.currQuestionMode._qSource.dispatchEvent(new CustomEvent("postAnswersComplete"))}}([S]);A.init(),window.onload=async()=>{await A.setQMode(S)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWVRLEdBSXhCZixNQUNYdkUsS0FBSzRMLFNBQVMySCxpQkFFbEIsQ0FJQWxILGNBQWN1TCxHQUNaLE1BQU1DLEVBQVEsQ0FDWjdSLElBQUs0UixFQUFNN1IsV0FDWFUsaUJBQWtCbVIsRUFBTWxSLGFBQ3hCQyxhQUFjaVIsRUFBTWhSLFVBR3RCLElBQUssSUFBSW5FLEtBQVFtVixFQUFNaFMsZ0JBQ3JCaVMsRUFBTXBWLEdBQVFtVixFQUFNaFMsZ0JBQWdCbkQsR0FHdEMsT0FBT29WLENBQ1QsR0RwQmtETCxFQUNsREUsR0FHSUksRUFBZ0IsSUVaZixjQUFnQ3hELEVBRXJDcUIsU0FBU0osR0FDUDFRLE1BQU04USxTQUFTSixHQUVmdlYsS0FBS3lVLGlCQUFpQjdJLFNBQVN2TCxpQkFBaUIsZ0JBQWdCcEIsVUFDOURlLEtBQUs2VSxjQUFjLEdBRXZCLENBSUE1VixtQkFBbUJvWCxHQUFpQixHQUNsQ3hSLE1BQU1nUSxhQUFhd0IsR0FDbkJyVyxLQUFLeVUsaUJBQWlCN0ksU0FBUzFILGNBQWMsSUFBSWdJLFlBQVksdUJBQy9ELEdGSDBDLENBQUN5TCxJQUU3Q0csRUFBYzVYLE9BR2RLLE9BQU93WCxPQUFTOVksZ0JBQ1I2WSxFQUFjbkMsU0FBU2dDLEVBQW9CLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvZmFkZVRyYW5zaXRpb25zLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcG9wQnRucy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9zaGFyZWRKcy91dGlscy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9raW5kcmVkL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9raW5kcmVkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvY29tcG9uZW50cy9hbnN3ZXJVaVBhbmVsLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9xdWVzdGlvbnNNb2RlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL3F1ZXN0aW9uc0hlbHBlcnMubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL2NvbXBvbmVudHMvZG9tUXVldWUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xdWVzdGlvbnNNb2RlL2NvbXBvbmVudHMvYmFzZVF1ZXN0aW9uc1F1ZXVlL2Jhc2VRdWVzdGlvbnNRdWV1ZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvY29tcG9uZW50cy9iYXNlUXVlc3Rpb25zUXVldWUvY29tcG9uZW50cy9zaW5nbGVEb21RdWV1ZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvY29tcG9uZW50cy9iYXNlUXVlc3Rpb25zUXVldWUvc3ViLWNsYXNzZXMvc2luZ2xlUXVlc3Rpb25RdWV1ZS5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2NlbnRyZU1vZGFsLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9zaW5nbGVBbnN3ZXJNb2RlL3NpbmdsZUFuc3dlck1vZGUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xU291cmNlL3NpbmdsZU1vZGVRU291cmNlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL3NoYXJlZEpzL2NhdGVnb3J5SW5mby5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2NhdGVnb3J5Q2hlY2tib3hlcy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2tpbmRyZWRSZWNzTWl4aW4ubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvY29tcG9uZW50cy9xU291cmNlL3N1Yi1jbGFzc2VzL3JlY3NRU291cmNlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9xTW9kZVdpdGhRdWV1ZUlucHV0L3FNb2RlV2l0aFF1ZXVlSW5wdXQubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvcXVlc3Rpb25zUGFnZS9xdWVzdGlvbnNQYWdlLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL3BhZ2VzL3JlY29tbWVuZGF0aW9ucy5qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcXVlc3Rpb25zL2NvbXBvbmVudHMvcXVlc3Rpb25zTW9kZS9zdWItY2xhc3Nlcy9zaW5nbGVBbnN3ZXJNb2RlL3N1Yi1jbGFzc2VzL3JlY29tbWVuZGF0aW9uc01vZGUubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9xdWVzdGlvbnMvcXVlc3Rpb25zUGFnZS9zdWItY2xhc3Nlcy9yZWNzUXVlc3Rpb25zUGFnZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBhc3Npc3Qgd2l0aCBmYWRpbmcgaW4gLyBvdXQgRE9NIGVsZW1lbnRzLlxyXG5pbXBvcnQgeyBhd2FpdFRyYW5zaXRpb24gfSBmcm9tIFwiLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIEZhZGUgdHJhbnNpdGlvbiBoZWxwZXIgZnVuY3Rpb25zLCB1c2VkIHdpdGggdHJhbnNwYXJlbnQsIGZ1bGx5LWhpZGRlbiBhbmQgXHJcbi8vIGZhZGUtdHJhbnMgY3NzIGNsYXNzZXMuXHJcbi8vIE1ha2VzIGRpc3BsYXkgcHJvcGVydHkgdmlzaWJsZSBhbmQgdGhlbiByZW1vdmVzIHRyYW5zcGFyZW5jeS5cclxuZXhwb3J0IGZ1bmN0aW9uIGZhZGVJbihlbGVtKSB7XHJcbiAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwidHJhbnNwYXJlbnRcIiksIDEwKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmlzaEZhZGVJbihlbGVtKSB7XHJcbiAgYXdhaXQgYXdhaXRUcmFuc2l0aW9uKGVsZW0sIFwib3BhY2l0eVwiKTtcclxufVxyXG5cclxuLy8gRmluaXNoZXMgd2hlbiBmYWRlIGluIGlzIGNvbXBsZXRlZC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZ1bGx5RmFkZUluKGVsZW0pIHtcclxuICBmYWRlSW4oZWxlbSk7XHJcbiAgYXdhaXQgZmluaXNoRmFkZUluKGVsZW0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmFkZU91dChlbGVtKSB7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKFwidHJhbnNwYXJlbnRcIik7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIG9wYWNpdHkgdHJhbnNpdGlvbiBvbiB0aGUgXHJcbi8vIGdpdmVuIGVsZW1lbnQgaXMgY29tcGxldGVkLiBBbHNvIGZ1bGx5IGhpZGVzIHRoZSBlbGVtZW50LlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluaXNoRmFkZU91dChlbGVtKSB7XHJcbiAgYXdhaXQgYXdhaXRUcmFuc2l0aW9uKGVsZW0sIFwib3BhY2l0eVwiKTtcclxuICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbn1cclxuXHJcbi8vIEZhZGUgb3V0IGFuZCBmdWxseSBoaWRlIHRoZSBnaXZlbiBlbGVtZW50LlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZnVsbHlGYWRlT3V0KGVsZW0pIHtcclxuICBmYWRlT3V0KGVsZW0pO1xyXG4gIGF3YWl0IGZpbmlzaEZhZGVPdXQoZWxlbSk7XHJcbn1cclxuXHJcbi8vIEZhZGVzIG91dCBlbGVtMSBhbmQgZmFkZXMgaW4gZWxlbTIgb25jZSB0cmFuc2l0aW9uIGNvbXBsZXRlZCwgZG9lc24ndCBmaW5pc2ggXHJcbi8vIHVudGlsIGVsZW0yIGZ1bGx5IGZhZGVkIGluLiBSZXR1cm5zIHByb21pc2UuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWRlRnJvbVRvKGVsZW0xLCBlbGVtMikge1xyXG4gIGNvbnN0IGZhZGVDb21wbGV0ZVByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcclxuICAgIGF3YWl0IGZ1bGx5RmFkZU91dChlbGVtMSk7XHJcbiAgICBhd2FpdCBmdWxseUZhZGVJbihlbGVtMik7XHJcbiAgICByZXNvbHZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBmYWRlQ29tcGxldGVQcm9taXNlO1xyXG59IiwiaW1wb3J0IHsgZnVsbHlGYWRlSW4sIGZ1bGx5RmFkZU91dCB9IGZyb20gXCIuL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gQnRuIHdpdGggYXNzb2NpYXRlZCBjb250ZW50LiBDb250ZW50IGZhZGVzIGluIHdoZW4gYnV0dG9uIGlzIGNsaWNrZWQgYW5kIFxyXG4vLyBmYWRlcyBvdXQgd2hlbiBhbnl0aGluZyBpcyBjbGlja2VkLiBVc2VkIGJ5IGluZm8gYnV0dG9ucyBhbmQgbmF2IGRyb3Bkb3duLlxyXG5jbGFzcyBQb3BCdG4ge1xyXG4gICNidG47XHJcbiAgI2NvbnRlbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvcEJ0bkNvbnRhaW5lcikge1xyXG4gICAgdGhpcy4jYnRuID0gcG9wQnRuQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLWJ0blwiKTtcclxuICAgIHRoaXMuI2NvbnRlbnQgPSBwb3BCdG5Db250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wb3AtYnRuLWNvbnRlbnRcIik7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy4jc2V0dXBJbmZvQnRuQ2xpY2sodGhpcy4jYnRuLCB0aGlzLiNjb250ZW50KTtcclxuICB9XHJcblxyXG4gICNzZXR1cEluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpIHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLiNoYW5kbGVJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KTtcclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyAjaGFuZGxlSW5mb0J0bkNsaWNrKGJ0biwgY29udGVudCkge1xyXG4gICAgYXdhaXQgZnVsbHlGYWRlSW4oY29udGVudCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZnVsbHlGYWRlT3V0KGNvbnRlbnQpO1xyXG4gICAgICB0aGlzLiNzZXR1cEluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpO1xyXG4gICAgfSwge29uY2U6IHRydWV9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEluaXRzIGFsbCBwb3AgYnRucyBvbiBhIHBhZ2UuXHJcbmZ1bmN0aW9uIHNldHVwUG9wQnRucygpIHtcclxuICBjb25zdCBwb3BCdG5Db250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3AtYnRuLWNvbnRhaW5lclwiKTtcclxuICBcclxuICBwb3BCdG5Db250YWluZXJzLmZvckVhY2gocG9wQnRuQ29udGFpbmVyID0+IHtcclxuICAgIGNvbnN0IHBvcEJ0biA9IG5ldyBQb3BCdG4ocG9wQnRuQ29udGFpbmVyKTtcclxuICAgIHBvcEJ0bi5pbml0KCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnNldHVwUG9wQnRucygpOyIsIi8vIENsYW1wIG51bWJlciBiZXR3ZWVuIHR3byB2YWx1ZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcChudW0sIG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgcHJwcnRuID0gMC41KSB7XHJcbiAgcmV0dXJuIHN0YXJ0ICsgKChlbmQgLSBzdGFydCkgKiBwcnBydG4pO1xyXG59XHJcblxyXG4vLyBGb3IgaW50cywgaXQgaXMgaW5jbHVzaXZlIG9mIHN0YXJ0IGFuZCBub3QgaW5jbHVzaXZlIG9mIGVuZC5cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRCZXR3ZWVuKHN0YXJ0ID0gMCwgZW5kID0gMSwgaW50cyA9IGZhbHNlKSB7XHJcbiAgY29uc3QgcmFuZ2UgPSBlbmQgLSBzdGFydDtcclxuICBjb25zdCByYW5kRmxvYXQgPSAoTWF0aC5yYW5kb20oKSAqIHJhbmdlKSArIHN0YXJ0O1xyXG4gIHJldHVybiBpbnRzID8gTWF0aC5mbG9vcihyYW5kRmxvYXQpIDogcmFuZEZsb2F0O1xyXG59XHJcblxyXG4vLyBQcm9iYWJpbGl0eSBzaG91bGQgYmUgYSBkZWNpbWFsLCByZXR1cm5zIHRydWUgb3IgZmFsc2UuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UmFuZG9tKHByb2JhYmlsaXR5KSB7XHJcbiAgcmV0dXJuIChNYXRoLnJhbmRvbSgpIDw9IHByb2JhYmlsaXR5KSA/IHRydWUgOiBmYWxzZTtcclxufVxyXG5cclxuLy8gVGFrZXMgYSBsaXN0IG9mIHByb2Igb2JqZWN0cyBhcyBpbnB1dCBpbiBmb3JtYXQge25hbWU6IG5hbWUsIHByb2I6IHByb2J9IGFuZCBcclxuLy8gcmV0dXJucyBuYW1lIG9mIGNob3NlbiBwcm9iT2JqLCBvciBmYWxzZSBpZiBub25lIGNob3NlbiAoaW4gY2FzZSB0aGF0IHByb2JPYmpzIFxyXG4vLyBwcm9icyBkb250IHN1bSB0byAxKS5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RSYW5kTXVsdCguLi5wcm9icykge1xyXG4gIGNvbnN0IHByb2JzT2JqcyA9IFtdO1xyXG4gIGxldCBjdXJyUHJvYlN0YXJ0ID0gMDtcclxuXHJcbiAgcHJvYnMuZm9yRWFjaChwcm9iID0+IHtcclxuICAgIGNvbnN0IHRoaXNQcm9iID0ge1xyXG4gICAgICBuYW1lOiBwcm9iLm5hbWUsXHJcbiAgICAgIHN0YXJ0OiBjdXJyUHJvYlN0YXJ0LFxyXG4gICAgICBlbmQ6IGN1cnJQcm9iU3RhcnQgKyBwcm9iLnByb2JcclxuICAgIH07XHJcblxyXG4gICAgcHJvYnNPYmpzLnB1c2godGhpc1Byb2IpO1xyXG5cclxuICAgIGN1cnJQcm9iU3RhcnQgKz0gcHJvYjtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY2hvc2VuVmFsID0gTWF0aC5yYW5kb20oKTtcclxuICBsZXQgcmV0dXJuVmFsID0gZmFsc2U7XHJcblxyXG4gIHByb2JzT2Jqcy5mb3JFYWNoKHByb2IgPT4ge1xyXG4gICAgY29uc3QgY2hvc2VuVGhpc1Byb2IgPSBwcm9iLnN0YXJ0IDw9IGNob3NlblZhbCAmJiBwcm9iLmVuZCA+IGNob3NlblZhbDtcclxuICAgIGlmIChjaG9zZW5UaGlzUHJvYikge1xyXG4gICAgICByZXR1cm5WYWwgPSBwcm9iLm5hbWU7XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmV0dXJuVmFsO1xyXG59XHJcblxyXG4vLyBTZWFyY2hlcyBmb3IgYSBuZXdJdGVtIGluIGFuIGFycmF5IGdpdmVuIGFuIGVsZW1Db21wRnVuYyB0aGF0IGRldGVybWluZXMgXHJcbi8vIHdoZXRoZXIgaXQgaXMgcHJlc2VudCBvciBub3QgKGVnLiB0byBmaW5kIGJhc2VkIG9uIHF1ZXN0aW9uIElEKS4gSWYgcHJlc2VudCwgXHJcbi8vIGVsZW1lbnQgaW4gYXJyYXkgaXMgb3ZlcndyaXR0ZW4gd2l0aCBuZXdJdGVtLCBvdGhlcndpc2UgbmV3SXRlbSBpcyBwdXNoZWQgdG8gXHJcbi8vIGVuZCBvZiBhcnJheS5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRBbmRPdmVyd3JpdGVFbHNlUHVzaChhcnJheSwgbmV3SXRlbSwgZWxlbUNvbXBGdW5jKSB7XHJcbiAgY29uc3QgZm91bmRJbmRleCA9IGFycmF5LmZpbmRJbmRleChhcnJJdGVtID0+IGVsZW1Db21wRnVuYyhhcnJJdGVtLCBuZXdJdGVtKSk7XHJcblxyXG4gIC8vIElmIGZvdW5kLCBvdmVyd3JpdGUuXHJcbiAgaWYgKGZvdW5kSW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGZvdW5kSW5kZXgsIDEsIG5ld0l0ZW0pO1xyXG4gIH1cclxuICAvLyBPdGhlcndpc2UgYWRkLlxyXG4gIGVsc2Uge1xyXG4gICAgYXJyYXkucHVzaChuZXdJdGVtKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdHJhbnNpdGlvbiBvbiBnaXZlbiBlbGVtZW50IGVuZHMsIFxyXG4vLyBvcHRpb25hbCB0cmFuc2l0aW9uIHByb3BlcnR5IG5hbWUgY2hlY2suXHJcbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFRyYW5zaXRpb24oZWxlbSwgcHJvcE5hbWUgPSBudWxsKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBhc3luYyBldnQgPT4ge1xyXG5cclxuICAgICAgaWYgKHByb3BOYW1lKSB7XHJcbiAgICAgICAgaWYgKGV2dC5wcm9wZXJ0eU5hbWUgPT09IHByb3BOYW1lKSB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBwcm9wTmFtZSk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfSlcclxufVxyXG5cclxuLy8gRm9yIHRlc3RpbmcgbG9uZyBydW5uaW5nIGZ1bmN0aW9ucy5cclxuLy8gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTsgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNsYXNzIEFuc3dlclVJUGFuZWwge1xyXG4gIG1haW5EaXY7XHJcbiAgcmF0ZVBhbmVsO1xyXG4gIHJhdGVCdG47XHJcbiAgc2tpcEJ0bjtcclxuICBzY29yZVNsaWRlcjtcclxuICBzY29yZVNsaWRlcklucHV0O1xyXG4gIGN1cnJRdWVzdGlvblRleHQ7XHJcbiAgcHJldkFuc0RpdjtcclxuICBwcmV2QW5zVmFsO1xyXG4gIGxvYWRlcjtcclxuICBkZXRhaWxzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihxTW9kZURpdikge1xyXG4gICAgdGhpcy5tYWluRGl2ID0gcU1vZGVEaXYucXVlcnlTZWxlY3RvcihcIi5hbnN3ZXItcGFuZWxcIik7XHJcbiAgICB0aGlzLnJhdGVQYW5lbCA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnJhdGUtcGFuZWxcIik7XHJcbiAgICB0aGlzLnJhdGVCdG4gPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5yYXRlLWJ0blwiKTtcclxuICAgIHRoaXMuc2tpcEJ0biA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnNraXAtYnRuXCIpO1xyXG4gICAgdGhpcy5zY29yZVNsaWRlciA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlLXNsaWRlclwiKTtcclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dCA9IHRoaXMuc2NvcmVTbGlkZXIucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25UZXh0ID0gdGhpcy5tYWluRGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY3Vyci1xdWVzdGlvblwiKTtcclxuICAgIHRoaXMucHJldkFuc0RpdiA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLnByZXYtYW5zLWluZm9cIik7XHJcbiAgICB0aGlzLnByZXZBbnNWYWwgPSB0aGlzLm1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5wcmV2LWFucy12YWxcIik7XHJcbiAgICB0aGlzLmxvYWRlciA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcclxuICAgIHRoaXMuZGV0YWlscyA9IHRoaXMubWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmRldGFpbHNcIik7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCBxdWVzdGlvbiB3aXRoIHRoZSBuZXcgZmlyc3QgcXVldWUgaXRlbS5cclxuICBkaXNwbGF5Q3VyclEobmV3UUluZm8sIGluY2x1ZGVBbHJlYWR5QW5zd2VyZWQpIHtcclxuICAgIHRoaXMuI3Nob3dPckhpZGVQYW5lbChuZXdRSW5mbyk7XHJcblxyXG4gICAgLy8gU2hvdyBjdXJyZW50IHF1ZXN0aW9uIHRleHQgYW5kIHJlc2V0IHByZXZpb3VzIGFuc3dlciBpbmZvLlxyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25UZXh0LmlubmVySFRNTCA9IG5ld1FJbmZvLmN1cnJRVGV4dDtcclxuICAgIHRoaXMucHJldkFuc1ZhbC5pbm5lclRleHQgPSBcIlwiO1xyXG5cclxuICAgIGNvbnN0IHByZXZTY29yZSA9IHRoaXMuI2ZpbGxQcmV2QW5zKG5ld1FJbmZvLCBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkKTtcclxuXHJcbiAgICAvLyBSZXNldCAvIHNldCB0aGUgc2NvcmUgYW5kIHNlbmQgaW5wdXQgZXZlbnQgZm9yIHRoZSBjdXN0b20gc2xpZGVyIHRvIFxyXG4gICAgLy8gY2F1c2UgdGhlIHdyYXBwZXIgZWxlbWVudCB0byB1cGRhdGUgYWxzby5cclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dC52YWx1ZSA9IHByZXZTY29yZTtcclxuICAgIHRoaXMuc2NvcmVTbGlkZXJJbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNob3dMb2FkZXIoKSB7XHJcbiAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwiZnVsbHktaGlkZGVuXCIpO1xyXG4gICAgdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbiAgICB0aGlzLmRldGFpbHMuY2xhc3NMaXN0LmFkZChcInRyYW5zcGFyZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGlkZUxvYWRlcigpIHtcclxuICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJmdWxseS1oaWRkZW5cIik7XHJcbiAgICB0aGlzLmRldGFpbHMuY2xhc3NMaXN0LnJlbW92ZShcImZ1bGx5LWhpZGRlblwiKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kZXRhaWxzLmNsYXNzTGlzdC5yZW1vdmUoXCJ0cmFuc3BhcmVudFwiKSwgMTApO1xyXG4gIH1cclxuXHJcbiAgLy8gU2hvd3MgLyBoaWRlcyByYXRlIHBhbmVsIGRlcGVuZGVudCBvbiB3aGV0aGVyIGVuZCBvZiBxdWV1ZSByZWFjaGVkLlxyXG4gICNzaG93T3JIaWRlUGFuZWwobmV3UUluZm8pIHtcclxuICAgIC8vIFNob3cgb3IgaGlkZSB0aGUgc2NvcmluZyBzbGlkZXIgYW5kIGJ1dHRvbnMgYXMgbmVjZXNzYXJ5LlxyXG4gICAgaWYgKG5ld1FJbmZvLmVuZE9mUXVldWUpIHtcclxuICAgICAgdGhpcy5yYXRlUGFuZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnJhdGVQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFNob3dzIG9yIGhpZGVzIHByZXZpb3VzIGFuc3dlciBpbmZvIGRlcGVuZGVudCBvbiB3aGV0aGVyIHRoZXJlIGlzIG9uZSBmb3IgXHJcbiAgLy8gdGhpcyBxdWVzdGlvbiBhbmQgc2V0cyB0aGUgcHJldiBhbnMgdGV4dC4gUmV0dXJucyB0aGUgcHJldiBhbnMgc2NvcmUgXHJcbiAgLy8gdmFsdWUsIHVzZWQgdG8gc2V0IHRoZSBzbGlkZXIgc2NvcmUuXHJcbiAgI2ZpbGxQcmV2QW5zKG5ld1FJbmZvLCBpbmNsdWRlQWxyZWFkeUFuc3dlcmVkKSB7XHJcbiAgICBsZXQgcHJldkFuc1Njb3JlID0gNTtcclxuXHJcbiAgICAvLyBJZiBjdXJyZW50IHF1ZXN0aW9uIGhhcyBhIHByZXZpb3VzIGFuc3dlciBieSB0aGUgdXNlciwgc2hvdyB0aGUgcHJldmlvdXMgXHJcbiAgICAvLyBhbnN3ZXIgZGV0YWlscy5cclxuICAgIGlmIChpbmNsdWRlQWxyZWFkeUFuc3dlcmVkICYmIG5ld1FJbmZvLmN1cnJRQW5zKSB7XHJcbiAgICAgIHRoaXMucHJldkFuc0Rpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpOyAgICAgIFxyXG4gICAgICB0aGlzLnByZXZBbnNWYWwuaW5uZXJUZXh0ID0gXCJTa2lwcGVkXCI7XHJcblxyXG4gICAgICBpZiAoIW5ld1FJbmZvLmN1cnJRQW5zLnNraXApIHtcclxuICAgICAgICBwcmV2QW5zU2NvcmUgPSBuZXdRSW5mby5jdXJyUUFucy5hbnN3ZXJWYWw7XHJcbiAgICAgICAgdGhpcy5wcmV2QW5zVmFsLmlubmVyVGV4dCA9IHByZXZBbnNTY29yZTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnByZXZBbnNEaXYuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByZXZBbnNTY29yZTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmYWRlSW4sIGZhZGVPdXQgfSBmcm9tIFwiLi4vLi4vLi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5pbXBvcnQgeyBBbnN3ZXJVSVBhbmVsIH0gZnJvbSBcIi4vY29tcG9uZW50cy9hbnN3ZXJVaVBhbmVsLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUXVlc3Rpb25zTW9kZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcclxuICBtYWluRGl2O1xyXG4gIGFuc3dlclVpUGFuZWw7XHJcbiAgcXVlc3Rpb25zUXVldWU7XHJcbiAgYnRuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYWluRGl2LCBidG4gPSBudWxsKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5tYWluRGl2ID0gbWFpbkRpdjtcclxuICAgIHRoaXMuYnRuID0gYnRuO1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsID0gbmV3IEFuc3dlclVJUGFuZWwobWFpbkRpdik7XHJcbiAgfVxyXG5cclxuICAvLyBTZXRzIHVwIHRoZSBhbnN3ZXIgVUkgcGFuZWwgYnV0dG9uIGV2ZW50IGxpc3RlbmVycy5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnJhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuYW5zd2VyUXVlc3Rpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLnNraXBCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuYW5zd2VyUXVlc3Rpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFzc2VzIHRoZSBhbGxSZWNlbnRBbnN3ZXJzIG9uIHRvIHRoZSBxdWVzdGlvbnMgcXVldWUuXHJcbiAgc2V0UmVjZW50QW5zd2VycyhhbGxSZWNlbnRBbnN3ZXJzKSB7XHJcbiAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnNldFJlY2VudEFuc3dlcnMoYWxsUmVjZW50QW5zd2Vycyk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gaW4gdGhlIGFuc3dlciBVSSBwYW5lbCB3aXRoIHRoZSBuZXcgZmlyc3QgXHJcbiAgLy8gcXVldWUgaXRlbS5cclxuICBfc2hvd0N1cnJRKGluY2xBbHJlYWR5QW5zd2VyZWQgPSB0cnVlKSB7XHJcbiAgICAvLyBHZXRzIGluZm9ybWF0aW9uIG9uIHdoZXRoZXIgcXVldWUgaXMgbm93IGVtcHR5LCBvciB3aGF0IHRoZSBuZXh0IDEwIFxyXG4gICAgLy8gcXVldWUgaXRlbXMgKGFuZCBmaXJzdCBxdWVzdGlvbiB1c2VyIGFuc3dlciwgaWYgbmVjZXNzYXJ5KSBzaG91bGQgYmUuXHJcbiAgICBjb25zdCBuZXdDdXJyUUluZm8gPSB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmdldEN1cnJRSW5mbygpO1xyXG5cclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5kaXNwbGF5Q3VyclEobmV3Q3VyclFJbmZvLCBpbmNsQWxyZWFkeUFuc3dlcmVkKTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgY3VycmVudCBhbnN3ZXIgdG8gY3VycmVudCBxdWVzdGlvbiBhcyBhbiBvYmplY3QgZm9yIERCLlxyXG4gIGdldEFuc3dlck9iaihldmVudCwgY3VyclF1ZXN0aW9uKSB7XHJcbiAgICBjb25zdCB1c2VyU2tpcHBlZCA9IChldmVudC5jdXJyZW50VGFyZ2V0ID09PSB0aGlzLmFuc3dlclVpUGFuZWwuc2tpcEJ0bik7XHJcbiAgICBjb25zdCB0aGlzU2NvcmUgPSAodXNlclNraXBwZWQgPyBudWxsIDogTnVtYmVyKHRoaXMuYW5zd2VyVWlQYW5lbC5cclxuICAgICAgc2NvcmVTbGlkZXJJbnB1dC52YWx1ZSkpO1xyXG4gICAgICBcclxuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlscyA9IHRoaXMuX2dldFF1ZXN0aW9uRGV0YWlscyhjdXJyUXVlc3Rpb24pO1xyXG5cclxuICAgIGNvbnN0IGFuc3dlckluZm8gPSB7XHJcbiAgICAgIHF1ZXN0aW9uSWQ6IGN1cnJRdWVzdGlvbi5faWQsXHJcbiAgICAgIHNraXA6IHVzZXJTa2lwcGVkLFxyXG4gICAgICBxdWVzdGlvbkRldGFpbHM6IHF1ZXN0aW9uRGV0YWlsc1xyXG4gICAgfTtcclxuICBcclxuICAgIGlmICghdXNlclNraXBwZWQpIHtcclxuICAgICAgYW5zd2VySW5mby5hbnN3ZXJWYWwgPSB0aGlzU2NvcmU7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBhbnN3ZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyBhbGwgdGhlIHF1ZXN0aW9uIGRldGFpbHMgKGVnLiB0aXRsZSwgcmVsZWFzZSBkYXRlIGV0Yy4pIGZvciB0aGUgY3VycmVudCBcclxuICAvLyBxdWVzdGlvbiBpbiBhbiBvYmplY3QgdG8gYmUgYWRkZWQgdG8gdGhlIGFuc3dlcnMgb2JqZWN0LCB0byBiZSBhZGRlZCB0byB0aGUgREIuXHJcbiAgX2dldFF1ZXN0aW9uRGV0YWlscyhjdXJyUXVlc3Rpb24pIHtcclxuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlscyA9IHt9O1xyXG4gICAgY29uc3QgcHJvcHNUb0lnbm9yZSA9IFtcIl9pZFwiLCBcImFwaVBhZ2VOdW1cIiwgXCJhbHJlYWR5SW5EYlwiLCBcImN1cnJBbnNcIl07XHJcblxyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBjdXJyUXVlc3Rpb24pIHtcclxuICAgICAgY29uc3QgaWdub3JlUHJvcCA9IHByb3BzVG9JZ25vcmUuaW5jbHVkZXMocHJvcCk7XHJcbiAgICAgIGlmIChpZ25vcmVQcm9wKSBjb250aW51ZTtcclxuICAgICAgcXVlc3Rpb25EZXRhaWxzW3Byb3BdID0gY3VyclF1ZXN0aW9uW3Byb3BdO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcXVlc3Rpb25EZXRhaWxzO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5idG4pIHtcclxuICAgICAgdGhpcy5idG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1xLW1vZGVcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZhZGVJbih0aGlzLm1haW5EaXYpO1xyXG4gIH1cclxuXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIGlmICh0aGlzLmJ0bikge1xyXG4gICAgICB0aGlzLmJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXEtbW9kZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgZmFkZU91dCh0aGlzLm1haW5EaXYpO1xyXG4gIH1cclxufSIsIi8vIFJldHVybnMgdGhlIGNhdGVnb3J5IGFuZCB0eXBlIGZvciBhIGdpdmVuIHF1ZXN0aW9uIGFuZCBvYmplY3QuIElmIG9iamVjdCBoYXMgXHJcbi8vIG5vIGNhdGVnb3J5IHRoZW4gdXNlIHRoYXQgb2YgdGhlIHF1ZXN0aW9uLiBVc2VkIG9uIGJhc2VRdWVzdGlvbnMgUXVldWUgYW5kIFxyXG4vLyBzaW5nbGVNb2RlUVNvdXJjZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFFDYXRlZ29yeShxLCBvYmpDYXRUeXBlLCBvYmpDYXQpIHtcclxuICByZXR1cm4gKG9iakNhdCkgPyBbb2JqQ2F0VHlwZSwgb2JqQ2F0XSA6IFxyXG4gICAgW3EuY2F0ZWdvcnlUeXBlTmFtZSA/PyBxLmNhdGVnb3J5VHlwZSwgcS5jYXRlZ29yeU5hbWUgPz8gcS5jYXRlZ29yeV07XHJcbn1cclxuXHJcbi8vIEdldHMgdGhlIGNvcnJlY3QgaW1hZ2UgcGF0aCwgZGVwZW5kaW5nIG9uIHRoZSBjYXRlZ29yeS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFFJbmZvKHEsIGRldGFpbCwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpIHtcclxuICBsZXQgaW5mbztcclxuXHJcbiAgc3dpdGNoKGNhdFR5cGVOYW1lLCBjYXROYW1lKSB7XHJcblxyXG4gICAgY2FzZSAoXCJJbnRlcmVzdHNcIiwgXCJGaWxtc1wiKSA6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8ucG9zdGVyUGF0aCA/IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTg1LyR7cS5wb3N0ZXJQYXRofWAgOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9ICgke2dldERpc3BsYXlSZWxlYXNlRGF0ZShxPy5yZWxlYXNlRGF0ZSl9KWAsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50aXRsZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiVFZcIikgOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LnBvc3RlclBhdGggPyBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzE4NS8ke3EucG9zdGVyUGF0aH1gIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtnZXREaXNwbGF5UmVsZWFzZURhdGUocT8ucmVsZWFzZURhdGUpfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9YCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogYCR7cT8udGl0bGV9YFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIChcIkludGVyZXN0c1wiLCBcIk11c2ljXCIpOlxyXG4gICAgICBpbmZvID0ge1xyXG4gICAgICAgIGltZ1BhdGg6IHE/LmltYWdlLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udHJhY2tOYW1lfSAtICR7cT8uYXJ0aXN0fSAoJHtxPy5hbGJ1bX0gLSAke25ldyBEYXRlKHE/LnJlbGVhc2VEYXRlKS5nZXRGdWxsWWVhcigpfSlgLFxyXG4gICAgICAgIHFTb3VyY2VEaXNwbGF5VGV4dDogYCR7cT8udHJhY2tOYW1lfSAtICR7cT8uYXJ0aXN0fWAsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IGAke3E/LnRyYWNrTmFtZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiVmlkZW8gR2FtZXNcIik6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8uaW1hZ2UgPyBgaHR0cHM6Ly9pbWFnZXMuaWdkYi5jb20vaWdkYi9pbWFnZS91cGxvYWQvdF9jb3Zlcl9iaWcvJHtxLmltYWdlfS5qcGdgIDogbnVsbCxcclxuICAgICAgICBxRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfSAoJHtnZXREaXNwbGF5UmVsZWFzZURhdGUocT8ucmVsZWFzZURhdGUpfSkgKCR7cS5wbGF0Zm9ybXN9KWAsXHJcbiAgICAgICAgcVNvdXJjZURpc3BsYXlUZXh0OiBgJHtxPy50aXRsZX1gLFxyXG4gICAgICAgIGltZ1BsYWNlSG9sZGVyVHh0OiBgJHtxPy50aXRsZX1gXHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgKFwiSW50ZXJlc3RzXCIsIFwiQm9va3NcIik6XHJcbiAgICAgIGluZm8gPSB7XHJcbiAgICAgICAgaW1nUGF0aDogcT8uaW1hZ2UgPyBgaHR0cHM6Ly9jb3ZlcnMub3BlbmxpYnJhcnkub3JnL2IvaWQvJHtxLmltYWdlfS1NLmpwZ2AgOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogYCR7cT8udGl0bGV9ICgke3E/LmF1dGhvcn0pYCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IGAke3E/LnRpdGxlfWAsXHJcbiAgICAgICAgaW1nUGxhY2VIb2xkZXJUeHQ6IGAke3E/LnRpdGxlfWBcclxuICAgICAgfTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaW5mbyA9IHtcclxuICAgICAgICBpbWdQYXRoOiBudWxsLFxyXG4gICAgICAgIHFEaXNwbGF5VGV4dDogcT8udGV4dCxcclxuICAgICAgICBxU291cmNlRGlzcGxheVRleHQ6IHE/LnNob3J0VGV4dCxcclxuICAgICAgICBpbWdQbGFjZUhvbGRlclR4dDogcT8uc2hvcnRUZXh0ID8/IHEudGV4dFxyXG4gICAgICB9O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBpbmZvW2RldGFpbF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERpc3BsYXlSZWxlYXNlRGF0ZShyZWxlYXNlRGF0ZSkge1xyXG4gIHJldHVybiByZWxlYXNlRGF0ZSA/IG5ldyBEYXRlKHJlbGVhc2VEYXRlKS5nZXRGdWxsWWVhcigpIDogXCJVbmtub3duXCI7XHJcbn1cclxuXHJcbi8vIFVzZWQgaW4gdGhlIGRvbSBxdWV1ZSBmb3IgYW5zd2VyaW5nIHF1ZXN0aW9ucyAoc2VhcmNoIGFuZCBhdXRvKSBhbmQgYWxzbyBpbiBcclxuLy8gcHJldiBhbnN3ZXJzIGFuZCByZWNvbW1lbmRhdGlvbnMgcGFnZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVRRG9tSXRlbShxLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSkge1xyXG4gIGNvbnN0IG5ld0RvbVEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOztcclxuXHJcbiAgY29uc3QgaW1nUGF0aCA9IGdldFFJbmZvKHEsIFwiaW1nUGF0aFwiLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgXHJcbiAgaWYgKGltZ1BhdGgpIHtcclxuICAgIGNvbnN0IGRvbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBkb21JbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIGltZ1BhdGgpO1xyXG4gICAgZG9tSW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xyXG4gICAgZG9tSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBxPy50aXRsZSk7XHJcbiAgICBuZXdEb21RLmFwcGVuZENoaWxkKGRvbUltZyk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgY29uc3Qgbm9JbWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbm9JbWdEaXYuY2xhc3NMaXN0LmFkZChcInBsYWNlaG9sZGVyLWltZ1wiKTtcclxuICAgIGNvbnN0IG5vSW1nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgY29uc3QgcGxhY2Vob2xkZXJUZXh0ID0gZ2V0UUluZm8ocSwgXCJpbWdQbGFjZUhvbGRlclR4dFwiLCBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgICBub0ltZ1RleHQuaW5uZXJUZXh0ID0gcGxhY2Vob2xkZXJUZXh0O1xyXG5cclxuICAgIG5vSW1nRGl2LmFwcGVuZENoaWxkKG5vSW1nVGV4dCk7XHJcbiAgICBuZXdEb21RLmFwcGVuZENoaWxkKG5vSW1nRGl2KTtcclxuICB9O1xyXG5cclxuICBpZiAocS5wcmV2aWV3VXJsKSB7XHJcbiAgICBjb25zdCBkb21NdXNpY1BsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcclxuICAgIGRvbU11c2ljUGxheWVyLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwidHJ1ZVwiKTtcclxuICAgIGRvbU11c2ljUGxheWVyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBxLnByZXZpZXdVcmwpO1xyXG4gICAgbmV3RG9tUS5hcHBlbmRDaGlsZChkb21NdXNpY1BsYXllcik7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG5ld0RvbVE7XHJcbn0iLCIvLyBIZWxwZXIgY2xhc3MgZm9yIHRoZSBiYXNlIHF1ZXN0aW9ucyBxdWV1ZSwgdG8gcmVwcmVzZW50IHRoZSBET00gcXVldWUgaXRlbXMuXHJcbmltcG9ydCB7IGNyZWF0ZVFEb21JdGVtLCBnZXRRQ2F0ZWdvcnkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vcXVlc3Rpb25zSGVscGVycy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gKGVnLiBwb3N0ZXIgaW1hZ2VzKSBhbmQgaGFuZGxlIHRoZWlyIHRyYW5zaXRpb25zIHdoZW4gYW5zd2VyaW5nIHF1ZXN0aW9ucy5cclxuZXhwb3J0IGNsYXNzIERvbVF1ZXVlIHtcclxuICBfcXVldWUgPSBbXTtcclxuICAjbnVtVHJhbnNpdGlvbnMgPSAwO1xyXG4gICNjYXRlZ29yeVR5cGVOYW1lO1xyXG4gICNjYXRlZ29yeU5hbWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlLCBjYXRlZ29yeSkge1xyXG4gICAgdGhpcy5fcXVldWUgPSBxTW9kZU1haW5EaXYucXVlcnlTZWxlY3RvcihcIi5xdWV1ZS1pbWdzXCIpO1xyXG4gICAgdGhpcy4jY2F0ZWdvcnlUeXBlTmFtZSA9IGNhdGVnb3J5VHlwZTtcclxuICAgIHRoaXMuI2NhdGVnb3J5TmFtZSA9IGNhdGVnb3J5O1xyXG5cclxuICAgIHRoaXMuX3F1ZXVlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuI2VuZFRyYW5zaXRpb24oZXZ0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gT25jZSBET00gcXVldWUgaGFzIGRvbmUgdGhlIHRyYW5zaXRpb24gZm9yIGFuc3dlcmluZyBhIHF1ZXN0aW9uLCBkZWxldGUgXHJcbiAgLy8gdGhlIGRvbSBxdWVzdGlvbi4gQ2hlY2sgaW4gY2FzZSBhbnkgbW9yZSB0cmFuc2l0aW9ucyBhcmUgcXVldWVkIGFuZCBjYXJyeSBcclxuICAvLyB0aGVtIG91dCBpZiBzby5cclxuICAjZW5kVHJhbnNpdGlvbihldnQpIHtcclxuICAgIGlmIChldnQucHJvcGVydHlOYW1lICE9PSBcImxlZnRcIikgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuI251bVRyYW5zaXRpb25zLS07XHJcbiAgICB0aGlzLl9kZWxldGVEb21RKDApO1xyXG4gICAgdGhpcy5fcXVldWUuY2xhc3NMaXN0LnJlbW92ZShcInF1ZXVlLWltZ3MtdHJhbnNpdGlvbmluZ1wiKTtcclxuICAgIFxyXG4gICAgLy8gSWYgdXNlciBoYXMgY2xpY2tlZCBtdWx0aXBsZSBhbnN3ZXJzIHF1aWNrbHksIHRoZW4gY2Fycnkgb3V0IGFueSBcclxuICAgIC8vIHF1ZXVlZCB0cmFuc2l0aW9ucyBmb3IgZnVydGhlciBhbnN3ZXJzLlxyXG4gICAgaWYgKHRoaXMuI251bVRyYW5zaXRpb25zID4gMCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuI2RvVHJhbnNpdGlvbigpLCAwKTtcclxuICAgIH07ICAgIFxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIERPTSBxdWV1ZSBpbWFnZXMgYW5kIGF1ZGlvICh3aGVyZSBwcmVzZW50KSBmcm9tIGxpc3Qgb2YgcXVlc3Rpb25zLlxyXG4gIGFkZFRvUXVldWUocXMpIHtcclxuICAgIGZvciAobGV0IHEgb2YgcXMpIHtcclxuICAgICAgY29uc3QgW2NhdFR5cGVOYW1lLCBjYXROYW1lXSA9IGdldFFDYXRlZ29yeShxLCBcclxuICAgICAgICB0aGlzLiNjYXRlZ29yeVR5cGVOYW1lLCB0aGlzLiNjYXRlZ29yeU5hbWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV3RG9tUSA9IGNyZWF0ZVFEb21JdGVtKHEsIGNhdFR5cGVOYW1lLCBjYXROYW1lKTtcclxuICAgICAgbmV3RG9tUS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHEuX2lkKTtcclxuICAgICAgdGhpcy5fcXVldWUuYXBwZW5kQ2hpbGQobmV3RG9tUSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgRE9NIGltYWdlcyBxdWV1ZSBhbmQgaGFuZGxlIHRoZSB0cmFuc2l0aW9uLlxyXG4gIHJlbW92ZVF1ZXVlSXRlbShpZHgsIGRvVHJhbnMpIHtcclxuICAgIGlmICh0aGlzLl9xdWV1ZS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgLy8gSWYgZmlyc3QgaXRlbSBpbiBxdWV1ZSAoaWUuIGhhdmUgYW5zd2VyZWQgYSBxdWVzdGlvbiksIHRoZW4gbmVlZCB0byBcclxuICAgICAgLy8gaGFuZGxlIHRoZSB0cmFuc2l0aW9uIG9mIGltYWdlcy5cclxuICAgICAgaWYgKGlkeCA9PT0gMCAmJiBkb1RyYW5zKSB7XHJcbiAgICAgICAgdGhpcy4jbnVtVHJhbnNpdGlvbnMrKztcclxuICAgICAgICB0aGlzLiNkb1RyYW5zaXRpb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3RoZXJ3aXNlIGp1c3QgZGVsZXRlIHRoZSBET00gcXVldWUgaXRlbS5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlRG9tUShpZHgpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIERlbGV0ZXMgYW4gaW5kaXZpZHVhbCBET00gcXVldWUgaXRlbS5cclxuICBfZGVsZXRlRG9tUShpZHgpIHtcclxuICAgIC8vIElmIHJlbW92aW5nIG91dGRhdGVkIHF1ZXVlIGl0ZW1zIGZyb20gbWlkZGxlIG9mIHF1ZXVlIGJ1dCBxdWV1ZSBpcyBzdGlsbCBcclxuICAgIC8vIHRyYW5zaXRpb25pbmcsIGJvb3N0IHRoZSBpbmRleCBieSAxIHRvIGZhY3RvciBpbiB0aGF0IHRoZSBwcmV2aW91c2x5IFxyXG4gICAgLy8gYW5zd2VyZWQgcSB3aWxsIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHF1ZXVlIGJ1dCBub3QgdGhlIGRvbSBxdWV1ZSB5ZXQgXHJcbiAgICAvLyBhcyB0aGUgdHJhbnNpdGlvbiBoYXNuJ3QgeWV0IGNvbXBsZXRlZC5cclxuICAgIGlmICh0aGlzLl9xdWV1ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJxdWV1ZS1pbWdzLXRyYW5zaXRpb25pbmdcIikgJiYgaWR4ID4gMCkge1xyXG4gICAgICBpZHgrKztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fcXVldWUucmVtb3ZlQ2hpbGQodGhpcy5fcXVldWUuY2hpbGRyZW5baWR4XSk7XHJcbiAgfVxyXG5cclxuICAvLyBDYXVzZXMgdHJhbnNpdGlvbmluZyBvZiBwb3N0ZXIgaW1hZ2VzIHdoZW4gYW5zd2VyaW5nIGEgcXVlc3Rpb24uXHJcbiAgI2RvVHJhbnNpdGlvbigpIHtcclxuICAgIHRoaXMuX3F1ZXVlLmNsYXNzTGlzdC5hZGQoXCJxdWV1ZS1pbWdzLXRyYW5zaXRpb25pbmdcIik7XHJcbiAgfVxyXG5cclxuICByZXNldFF1ZXVlKCkge1xyXG4gICAgdGhpcy5fcXVldWUuaW5uZXJUZXh0ID0gXCJcIjtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBnZXRRQ2F0ZWdvcnksIGdldFFJbmZvIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3F1ZXN0aW9uc0hlbHBlcnMubWpzXCI7XHJcbmltcG9ydCB7IERvbVF1ZXVlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kb21RdWV1ZS5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VRdWVzdGlvbnNRdWV1ZSB7XHJcbiAgX2NhdGVnb3J5VHlwZU5hbWU7XHJcbiAgX2NhdGVnb3J5TmFtZTtcclxuICBxdWV1ZSA9IFtdO1xyXG4gIHF1ZXVlVHlwZTtcclxuICBfZG9tUXVldWU7XHJcbiAgX3F1ZXVlUHJldlFzID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlID0gbnVsbCwgY2F0ZWdvcnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lID0gY2F0ZWdvcnlUeXBlO1xyXG4gICAgdGhpcy5fY2F0ZWdvcnlOYW1lID0gY2F0ZWdvcnk7XHJcbiAgICB0aGlzLl9kb21RdWV1ZSA9IG5ldyBEb21RdWV1ZShxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyB0aGUgdGV4dCB0byBkaXNwbGF5IG9mIHRoZSBjdXJyZW50IGZpcnN0IGl0ZW0gaW4gdGhlIHF1ZXN0aW9ucyBxdWV1ZS5cclxuICBnZXRDdXJyUUluZm8oKSB7XHJcbiAgICBsZXQgY3VyclFUZXh0O1xyXG4gICAgbGV0IGN1cnJRQW5zO1xyXG4gICAgbGV0IGVuZE9mUXVldWUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBIaWRlIHF1ZXN0aW9uIGFuc3dlciBwYW5lbCBpZiBydW4gb3V0IG9mIHF1ZXN0aW9ucyBhbmQgZGlzcGxheSBhIG1lc3NhZ2UuXHJcbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgY3VyclFUZXh0ID0gdGhpcy5fZ2V0RW5kUXVldWVNc2coKTtcclxuICAgICAgZW5kT2ZRdWV1ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgY3VyclEgPSB0aGlzLnF1ZXVlWzBdO1xyXG4gICAgICBjb25zdCBbY2F0VHlwZU5hbWUsIGNhdE5hbWVdID0gZ2V0UUNhdGVnb3J5KGN1cnJRLCB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lLCBcclxuICAgICAgICB0aGlzLl9jYXRlZ29yeU5hbWUpO1xyXG4gICAgICAgIFxyXG4gICAgICBjdXJyUVRleHQgPSBnZXRRSW5mbyhjdXJyUSwgXCJxRGlzcGxheVRleHRcIiwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gICAgICBjdXJyUUFucyA9IGN1cnJRLmN1cnJBbnM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7ZW5kT2ZRdWV1ZSwgY3VyclFUZXh0LCBjdXJyUUFuc307XHJcbiAgfVxyXG5cclxuICBfZ2V0RW5kUXVldWVNc2coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmRRdWV1ZU1zZztcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZXMgYW4gaXRlbSBmcm9tIHRoZSBxdWV1ZSBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBmcm9tIHRoZSBET00gXHJcbiAgLy8gcXVldWUuIFJldHVybnMgdGhlIHJlbW92ZWQgcXVldWUgaXRlbS5cclxuICByZW1vdmVRdWV1ZUl0ZW0oaWR4LCBkb1RyYW5zKSB7XHJcbiAgICBjb25zdCB0aGlzUXVldWVJdGVtID0gdGhpcy5xdWV1ZVtpZHhdO1xyXG4gICAgdGhpcy5xdWV1ZS5zcGxpY2UoaWR4LCAxKTtcclxuICAgIHRoaXMuX2RvbVF1ZXVlLnJlbW92ZVF1ZXVlSXRlbShpZHgsIGRvVHJhbnMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzUXVldWVJdGVtO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkcyBhcnJheSBvZiBxdWVzdGlvbnMgdG8gcXVldWUgYW5kIGFkZHMgY29ycmVzcG9uZGluZyBuZXcgZWxlbWVudHMgdG8gXHJcbiAgLy8gRE9NIHF1ZXVlIHRvby5cclxuICBfYWRkVG9RdWV1ZShxcykge1xyXG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuY29uY2F0KHFzKTtcclxuICAgIHRoaXMuX2RvbVF1ZXVlLmFkZFRvUXVldWUocXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2xlYXJzIHRoZSBET00gaXRlbXMgcXVldWUuXHJcbiAgX3Jlc2V0UXVldWUoKSB7XHJcbiAgICB0aGlzLnF1ZXVlID0gW107XHJcbiAgICB0aGlzLl9kb21RdWV1ZS5yZXNldFF1ZXVlKCk7XHJcbiAgICB0aGlzLl9xdWV1ZVByZXZRcyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVByZXZRKHFJZCkge1xyXG4gICAgdGhpcy5fcXVldWVQcmV2UXMucHVzaChxSWQpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IERvbVF1ZXVlIH0gZnJvbSBcIi4vZG9tUXVldWUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTaW5nbGVEb21RdWV1ZSBleHRlbmRzIERvbVF1ZXVlIHtcclxuICAvLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBET00gaW1hZ2VzIHF1ZXVlIGFuZCBoYW5kbGUgdGhlIHRyYW5zaXRpb24uXHJcbiAgcmVtb3ZlUXVldWVJdGVtKGlkeCwgZG9UcmFucykge1xyXG4gICAgaWYgKHRoaXMuX3F1ZXVlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICBpZiAoaWR4ID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlRG9tUShpZHgpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBCYXNlUXVlc3Rpb25zUXVldWUgfSBmcm9tIFwiLi4vYmFzZVF1ZXN0aW9uc1F1ZXVlLm1qc1wiO1xyXG5pbXBvcnQgeyBTaW5nbGVEb21RdWV1ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3NpbmdsZURvbVF1ZXVlLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlUXVlc3Rpb25RdWV1ZSBleHRlbmRzIEJhc2VRdWVzdGlvbnNRdWV1ZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlID0gbnVsbCwgY2F0ZWdvcnkgPSBudWxsKSB7XHJcbiAgICBzdXBlcihxTW9kZU1haW5EaXYsIGNhdGVnb3J5VHlwZSwgY2F0ZWdvcnkpO1xyXG5cclxuICAgIHRoaXMuX2RvbVF1ZXVlID0gbmV3IFNpbmdsZURvbVF1ZXVlKHFNb2RlTWFpbkRpdiwgY2F0ZWdvcnlUeXBlLCBjYXRlZ29yeSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUocXVlc3Rpb24pIHtcclxuICAgIHRoaXMuX3Jlc2V0UXVldWUoKTtcclxuICAgIHRoaXMuX2FkZFRvUXVldWUoW3F1ZXN0aW9uXSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZmFkZUluLCBmdWxseUZhZGVPdXQgfSBmcm9tIFwiLi9mYWRlVHJhbnNpdGlvbnMubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDZW50cmVNb2RhbCB7XHJcbiAgd3JhcHBlcjtcclxuICAjbW9kYWw7XHJcbiAgI2Nsb3NlTW9kYWxCdG47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHdyYXBwZXIpIHtcclxuICAgIHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XHJcbiAgICB0aGlzLiNtb2RhbCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5jZW50cmUtbW9kYWxcIik7XHJcbiAgICB0aGlzLiNjbG9zZU1vZGFsQnRuID0gdGhpcy4jbW9kYWwucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcclxuICB9XHJcblxyXG4gIC8vIFNldCB1cCB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCBjbG9zZU1vZGFsRWxlbXMgPSBbdGhpcy4jY2xvc2VNb2RhbEJ0biwgdGhpcy53cmFwcGVyXTtcclxuXHJcbiAgICBmb3IgKGxldCBjbG9zZU1vZGFsRWxlbSBvZiBjbG9zZU1vZGFsRWxlbXMpIHtcclxuICAgICAgY2xvc2VNb2RhbEVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuaGlkZSgpKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4jbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiBldnQuc3RvcFByb3BhZ2F0aW9uKCkpO1xyXG4gIH1cclxuXHJcbiAgc2hvdygpIHtcclxuICAgIGZhZGVJbih0aGlzLndyYXBwZXIpO1xyXG4gIH1cclxuXHJcbiAgaGlkZSgpIHtcclxuICAgIGZ1bGx5RmFkZU91dCh0aGlzLndyYXBwZXIpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFF1ZXN0aW9uc01vZGUgfSBmcm9tIFwiLi4vLi4vcXVlc3Rpb25zTW9kZS5tanNcIjtcclxuXHJcbmltcG9ydCB7IFNpbmdsZVF1ZXN0aW9uUXVldWUgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9iYXNlUXVlc3Rpb25zUXVldWUvXFxcclxuc3ViLWNsYXNzZXMvc2luZ2xlUXVlc3Rpb25RdWV1ZS5tanNcIjtcclxuXHJcbmltcG9ydCB7IENlbnRyZU1vZGFsIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NlbnRyZU1vZGFsLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlQW5zd2VyTW9kZSBleHRlbmRzIFF1ZXN0aW9uc01vZGUge1xyXG4gIG5hbWUgPSBcInNpbmdsZVwiO1xyXG4gIF9xU291cmNlO1xyXG4gIF9hbnN3ZXJVaU1vZGFsO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYWluRGl2LCBxU291cmNlLCBidG4gPSBudWxsKSB7XHJcbiAgICBzdXBlcihtYWluRGl2LCBidG4pO1xyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZSA9IG5ldyBTaW5nbGVRdWVzdGlvblF1ZXVlKG1haW5EaXYpO1xyXG4gICAgdGhpcy5fcVNvdXJjZSA9IHFTb3VyY2U7XHJcblxyXG4gICAgY29uc3QgbW9kYWxXcmFwcGVyID0gbWFpbkRpdi5xdWVyeVNlbGVjdG9yKFwiLmNlbnRyZS1tb2RhbC13cmFwcGVyXCIpO1xyXG4gICAgdGhpcy5fYW5zd2VyVWlNb2RhbCA9IG5ldyBDZW50cmVNb2RhbChtb2RhbFdyYXBwZXIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHN1cGVyLmluaXQoKTtcclxuXHJcbiAgICB0aGlzLl9xU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbnN3ZXJTaW5nbGVRXCIsIGV2dCA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNsaWNrU2luZ2xlUShldnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYW5zd2VyVWlNb2RhbC5pbml0KCk7XHJcbiAgfVxyXG5cclxuICAvLyBTYXZlIGFuc3dlciBpbmZvcm1hdGlvbi5cclxuICBhbnN3ZXJRdWVzdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgY3VyclF1ZXN0aW9uID0gdGhpcy5xdWVzdGlvbnNRdWV1ZS5yZW1vdmVRdWV1ZUl0ZW0oMCwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBhbnN3ZXIgb2JqZWN0IGFzIGl0IHNob3VsZCBiZSBzdG9yZWQgaW4gdGhlIERCLlxyXG4gICAgY29uc3QgYW5zd2VyT2JqID0gdGhpcy5nZXRBbnN3ZXJPYmooZXZlbnQsIGN1cnJRdWVzdGlvbik7IFxyXG5cclxuICAgIC8vIEVtaXQgZXZlbnQgdG8gYmUgcGlja2VkIHVwIGJ5IHRoZSBxdWVzdGlvbnMgcGFnZS5cclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiYW5zd2VyZWRRXCIsIHtkZXRhaWw6IHthbnN3ZXJPYmo6IGFuc3dlck9ian19KVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBIaWRlIHRoZSBhbnN3ZXIgdWkgcGFuZWwuXHJcbiAgICB0aGlzLl9hbnN3ZXJVaU1vZGFsLmhpZGUoKTtcclxuXHJcbiAgICByZXR1cm4gYW5zd2VyT2JqO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNsaWNrU2luZ2xlUShldnQpIHtcclxuICAgIC8vIEdldCB0aGUgcXVlc3Rpb24gZnJvbSB0aGlzIGl0ZW0gYW5kIG1ha2UgaXQgdGhlIHF1ZXVlIGNvbnRlbnRzLlxyXG4gICAgY29uc3QgdGhpc1FJdGVtID0gZXZ0LmRldGFpbC5xdWVzdGlvbjtcclxuICAgIGNvbnN0IHRoaXNRdWVzdGlvbiA9IHRoaXMuX21ha2VRdWVzdGlvbih0aGlzUUl0ZW0pO1xyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZS51cGRhdGUodGhpc1F1ZXN0aW9uKTtcclxuXHJcbiAgICAvLyBTaG93IHRoZSBhbnN3ZXIgdWkgcGFuZWwuXHJcbiAgICB0aGlzLl9hbnN3ZXJVaU1vZGFsLnNob3coKTtcclxuXHJcbiAgICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gaW4gdGhlIGFuc3dlciBVSSBwYW5lbCB3aXRoIHRoZSBuZXcgZmlyc3QgXHJcbiAgICAvLyBxdWV1ZSBpdGVtLlxyXG4gICAgdGhpcy5fc2hvd0N1cnJRKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgY3JlYXRlUURvbUl0ZW0sIGdldFFDYXRlZ29yeSwgZ2V0UUluZm8gfSBmcm9tIFwiLi4vLi4vcXVlc3Rpb25zSGVscGVycy5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNpbmdsZU1vZGVRU291cmNlIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xyXG4gIF9saXN0RGl2O1xyXG4gIF9jb250ZW50RGl2O1xyXG4gIF9xRGl2Q2xhc3M7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxpc3REaXYpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLl9saXN0RGl2ID0gbGlzdERpdjtcclxuICAgIHRoaXMuX2NvbnRlbnREaXYgPSBsaXN0RGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKTtcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBhIGRpdiB3aXRoIGluZm9ybWF0aW9uIGZvciBhIHF1ZXN0aW9uIGl0ZW0uXHJcbiAgX2NyZWF0ZVFEaXYocSkge1xyXG4gICAgY29uc3QgW2NhdFR5cGVOYW1lLCBjYXROYW1lXSA9IGdldFFDYXRlZ29yeShxLCB0aGlzLl9jYXRlZ29yeVR5cGVOYW1lLCBcclxuICAgICAgdGhpcy5fY2F0ZWdvcnlOYW1lKTtcclxuXHJcbiAgICBjb25zdCBxU291cmNlSXRlbSA9IGNyZWF0ZVFEb21JdGVtKHEucXVlc3Rpb25EZXRhaWxzLCBjYXRUeXBlTmFtZSwgXHJcbiAgICAgIGNhdE5hbWUpO1xyXG4gICAgXHJcbiAgICBxU291cmNlSXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuX3FEaXZDbGFzcyk7XHJcblxyXG4gICAgY29uc3QgcVRleHQgPSB0aGlzLl9jcmVhdGVRVGV4dEVsZW0ocSwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpO1xyXG4gICAgY29uc3QgcVNjb3JlID0gdGhpcy5fY3JlYXRldFFTY29yZUVsZW0ocSk7XHJcbiAgICB0aGlzLl9zZXR1cFFJbWcocSwgcVNvdXJjZUl0ZW0pO1xyXG5cclxuICAgIGNvbnN0IHFJbmZvID0ge1xyXG4gICAgICBxU291cmNlSXRlbTogcVNvdXJjZUl0ZW0sXHJcbiAgICAgIHFUZXh0OiBxVGV4dCxcclxuICAgICAgcVNjb3JlOiBxU2NvcmUsXHJcbiAgICAgIGNhdFR5cGVOYW1lOiBjYXRUeXBlTmFtZSxcclxuICAgICAgY2F0TmFtZTogY2F0TmFtZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9hZGRUb1FEaXYocUluZm8pO1xyXG4gICAgcmV0dXJuIHFTb3VyY2VJdGVtO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVJhdGVCdG5DbGljayhldnQsIHF1ZXN0aW9uKSB7XHJcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgIG5ldyBDdXN0b21FdmVudChcImFuc3dlclNpbmdsZVFcIiwge2RldGFpbDoge3F1ZXN0aW9uOiBxdWVzdGlvbn19KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEJ1aWxkcyB0aGUgY29udGVudCBkaXYgd2l0aCBhbGwgdGhlIHF1ZXN0aW9ucy5cclxuICBfYnVpbGRDb250ZW50RGl2KHF1ZXN0aW9ucykge1xyXG4gICAgZm9yIChsZXQgcXVlc3Rpb24gb2YgcXVlc3Rpb25zKSB7XHJcbiAgICAgIGNvbnN0IHFTb3VyY2VJdGVtID0gdGhpcy5fY3JlYXRlUURpdihxdWVzdGlvbik7XHJcbiAgICAgIHRoaXMuX2NvbnRlbnREaXYuYXBwZW5kQ2hpbGQocVNvdXJjZUl0ZW0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVRVGV4dEVsZW0ocSwgY2F0VHlwZU5hbWUsIGNhdE5hbWUpIHtcclxuICAgIGNvbnN0IHFUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG4gICAgcVRleHQuaW5uZXJUZXh0ID0gZ2V0UUluZm8ocS5xdWVzdGlvbkRldGFpbHMsIFwicVNvdXJjZURpc3BsYXlUZXh0XCIsIFxyXG4gICAgICBjYXRUeXBlTmFtZSwgY2F0TmFtZSk7XHJcbiAgICBcclxuICAgIHFUZXh0LmNsYXNzTGlzdC5hZGQoXCJxLXRleHRcIik7XHJcbiAgICByZXR1cm4gcVRleHQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRldFFTY29yZUVsZW0ocSkge1xyXG4gICAgY29uc3QgcVNjb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBxU2NvcmUuaW5uZXJUZXh0ID0gdGhpcy5fZ2V0U2NvcmVUZXh0KHEpO1xyXG4gICAgcVNjb3JlLmNsYXNzTGlzdC5hZGQoXCJ1c2VyLXNjb3JlXCIpO1xyXG4gICAgcmV0dXJuIHFTY29yZTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgY2xpY2sgdG8gdGhlIGltYWdlIC8gcGxhY2Vob2xkZXIgaW1hZ2UuXHJcbiAgLy8gQWxzbyBjcmVhdGUgYW5kIGFkZCBob3ZlciBlZmZlY3QgZGl2LlxyXG4gIF9zZXR1cFFJbWcocSwgcVNvdXJjZUl0ZW0pIHtcclxuICAgIGNvbnN0IHFJbWcgPSBxU291cmNlSXRlbS5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpID8/IFxyXG4gICAgICBxU291cmNlSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlaG9sZGVyLWltZ1wiKTtcclxuXHJcbiAgICBxSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVSYXRlQnRuQ2xpY2soZXZ0LCBxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGltZ1dyYXBwZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaW1nV3JhcHBlckRpdi5jbGFzc0xpc3QuYWRkKFwicS1zb3VyY2UtaW1nLXdyYXBwZXJcIik7XHJcblxyXG4gICAgLy8gQ2hhbmdlIGltZyB0byBiZSBwYXJlbnRlZCBieSB0aGUgaW1nIHdyYXBwZXIgZGl2IGluc3RlYWQuXHJcbiAgICBpbWdXcmFwcGVyRGl2LmFwcGVuZENoaWxkKHFJbWcpO1xyXG4gICAgcVNvdXJjZUl0ZW0uaW5zZXJ0QmVmb3JlKGltZ1dyYXBwZXJEaXYsIHFTb3VyY2VJdGVtLmNoaWxkcmVuWzBdKTtcclxuXHJcbiAgICAvLyBBZGQgYSBob3ZlciBkaXYsIGFsc28gaW4gdGhlIHdyYXBwZXIgZGl2LlxyXG4gICAgY29uc3QgaG92ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaG92ZXJEaXYuY2xhc3NMaXN0LmFkZChcInEtc291cmNlLWl0ZW0taG92ZXJcIik7XHJcblxyXG4gICAgY29uc3QgaG92ZXJUeHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGhvdmVyVHh0LmlubmVyVGV4dCA9IHRoaXMuX2dldEhvdmVyVGV4dCgpO1xyXG4gICAgaG92ZXJUeHQuY2xhc3NMaXN0LmFkZChcInEtc291cmNlLWhvdmVyLXR4dFwiKTtcclxuXHJcbiAgICBob3ZlckRpdi5hcHBlbmRDaGlsZChob3ZlclR4dCk7XHJcbiAgICBpbWdXcmFwcGVyRGl2LmFwcGVuZENoaWxkKGhvdmVyRGl2KTtcclxuICB9XHJcbn0iLCIvLyBDbGFzcyB0byBzdG9yZSBjYXRlZ29yeSB0eXBlIGFuZCBjYXRlZ29yeSBpbmZvIGluIGEgdHJlZSBzdHJ1Y3R1cmUgb2YgbmVzdGVkXHJcbi8vIG9iamVjdHMgZm9yIGFsbCBjYXRlZ29yaWVzIHByZXNlbnQuXHJcbmV4cG9ydCBjbGFzcyBDYXRlZ29yeUluZm8ge1xyXG4gIGNhdFR5cGVzID0ge307XHJcblxyXG4gIC8vIFdoZXJlIGNhdEluZm8gaXMgYW4gb3B0aW9uYWwgY2F0ZWdvcnkgaW5mbyBzdHlsZSBvYmplY3QgKGp1c3QgdGhlIGRhdGEsIG5vdCBcclxuICAvLyBhbiBhY3R1YWwgaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyAtIGZyb20gd2hlbiBzdHJpbmdpZmllZCBhbmQgc2VudCB1c2luZyBmZXRjaCkuXHJcbiAgLy8gZGJDYXRUeXBlcyBpcyBhIGxpc3Qgb2YgY2F0ZWdvcnlUeXBlIGRvY3VtZW50cyBhcyByZXR1cm5lZCBmcm9tIGRvaW5nIGZpbmQgXHJcbiAgLy8gb2YgY2F0ZWdvcnkgdHlwZXMgaW4gREIuXHJcbiAgY29uc3RydWN0b3IoY2F0SW5mbyA9IG51bGwsIGRiQ2F0VHlwZXMgPSBudWxsKSB7XHJcbiAgICBpZiAoY2F0SW5mbykge1xyXG4gICAgICB0aGlzLmNhdFR5cGVzID0gY2F0SW5mby5jYXRUeXBlcztcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGRiQ2F0VHlwZXMpIHtcclxuICAgICAgdGhpcy4jY29uc3RydWN0RnJvbUNhdFR5cGVzKGRiQ2F0VHlwZXMpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIENvbnN0cnVjdCB0aGlzIGNhdGVnb3J5IGluZm8gYmFzZWQgb24gYSBnaXZlbiBhcnJheSBvZiBjYXRlZ29yeSB0eXBlcyBhbmQgXHJcbiAgLy8gdGhlaXIgbmVzdGVkIGNhdGVnb3JpZXMgKGFzIGEgcmVzdWx0IG9mIGEgZGliIGZpbmQgb24gY2F0ZWdvcnkgdHlwZXMpLlxyXG4gICNjb25zdHJ1Y3RGcm9tQ2F0VHlwZXMoZGJDYXRUeXBlcykge1xyXG4gICAgZm9yIChsZXQgY2F0VHlwZSBvZiBkYkNhdFR5cGVzKSB7XHJcbiAgICAgIGZvciAobGV0IGNhdCBvZiBjYXRUeXBlLmNhdGVnb3JpZXMpIHtcclxuICAgICAgICBjb25zdCBpc1JlY0RhdGEgPSB7aXNSZWNvbW1lbmRhYmxlOiBjYXQuaXNSZWNvbW1lbmRhYmxlfTtcclxuICAgICAgICB0aGlzLmNoZWNrQW5kQWRkQ2F0ZWdvcnlXaXRoVHlwZShjYXRUeXBlLm5hbWUsIGNhdC5uYW1lLCBpc1JlY0RhdGEpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIEdpdmVuIGEgY2F0ZWdvcnkgdHlwZSBhbmQgY2F0ZWdvcnksIGFkZHMgYm90aCwganVzdCB0aGUgY2F0ZWdvcnksIG9yXHJcbiAgLy8gbmVpdGhlciBvZiB0aGVtIGRlcGVuZGluZyBvbiB3aGF0IGFscmVhZHkgZXhpc3RzIGluIHRoaXMuXHJcbiAgLy8gZGF0YSBzaG91bGQgYmUgYW4gb2JqZWN0IGFuZCBhbGwgdGhlIGtleTogdmFsdWUgcGFpcnMgZnJvbSBkYXRhIHdpbGwgYmVcclxuICAvLyBhZGRlZCBpbiB0byB0aGUgQ2F0ZWdvcnlJbmZvIG9iamVjdCBhdCB0aGUgY29ycmVjdCBwbGFjZS5cclxuICBjaGVja0FuZEFkZENhdGVnb3J5V2l0aFR5cGUoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhID0gbnVsbCkge1xyXG4gICAgY29uc3QgY2F0T3JUeXBlRXhpc3RzID0gdGhpcy5fZG9lc0NhdGVnb3J5T3JUeXBlRXhpc3QoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lKTtcclxuICAgIGlmIChjYXRPclR5cGVFeGlzdHMgPT09IFwibm9yXCIpe1xyXG4gICAgICB0aGlzLl9hZGRUeXBlQW5kQ2F0ZWdvcnkoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGNhdE9yVHlwZUV4aXN0cyA9PT0gXCJ0eXBlT25seVwiKXtcclxuICAgICAgdGhpcy5fYWRkQ2F0ZWdvcnkoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBjYXRlZ29yeSBpbmZvIG9iamVjdCBhbmQgcmV0dXJucyBpdCwgYWxvbmcgd2l0aCBuZXcgXHJcbiAgLy8gZGF0YSBmb3IgZWFjaCBjYXRlZ29yeSB3aGljaCBpcyBjYWxjdWxhdGVkIHVzaW5nIHRoZSBoaWdoZXIgb3JkZXIgZ2V0RGF0YUZ1bmMgYW5kIGFyZ3MuXHJcbiAgY2xvbmVXaXRoRGF0YShnZXREYXRhRnVuYywgYXJncykge1xyXG4gICAgY29uc3QgbmV3Q2F0SW5mbyA9IG5ldyBDYXRlZ29yeUluZm8oKTtcclxuXHJcbiAgICBjb25zdCBhbGxDYXRlZ29yaWVzV2l0aFR5cGVzID0gdGhpcy5nZXRBbGxDYXRlZ29yaWVzKCk7XHJcblxyXG4gICAgZm9yIChsZXQgY2F0ZWdvcnlXaXRoVHlwZSBvZiBhbGxDYXRlZ29yaWVzV2l0aFR5cGVzKSB7XHJcbiAgICAgIGNvbnN0IGNhdFR5cGVOYW1lID0gY2F0ZWdvcnlXaXRoVHlwZS5jYXRlZ29yeVR5cGU7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZSA9IGNhdGVnb3J5V2l0aFR5cGUuY2F0ZWdvcnk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBnZXREYXRhRnVuYyhjYXRUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBhcmdzKTtcclxuXHJcbiAgICAgIG5ld0NhdEluZm8uY2hlY2tBbmRBZGRDYXRlZ29yeVdpdGhUeXBlKGNhdFR5cGVOYW1lLCBjYXRlZ29yeU5hbWUsIGRhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3Q2F0SW5mbztcclxuICB9XHJcblxyXG4gIC8vIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aGVyZSBlYWNoIG9iamVjdCBjb250YWlucyB0aGVcclxuICAvLyBjYXRlZ29yeVR5cGVOYW1lIGFuZCBjYXRlZ29yeU5hbWUsIGZvciBldmVyeSB1bmlxdWUgY2F0ZWdvcnkgaW4gdGhpcy5cclxuICBnZXRBbGxDYXRlZ29yaWVzKGluY2xEYXRhID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGFsbFVuaXF1ZUNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBjYXRUeXBlIGluIHRoaXMuY2F0VHlwZXMpIHtcclxuICAgICAgZm9yIChsZXQgY2F0ZWdvcnkgaW4gdGhpcy5jYXRUeXBlc1tjYXRUeXBlXT8uY2F0ZWdvcmllcykge1xyXG4gICAgICAgIGNvbnN0IHRoaXNDYXRBbmRUeXBlID0ge1xyXG4gICAgICAgICAgY2F0ZWdvcnlUeXBlOiBjYXRUeXBlLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGluY2xEYXRhKSB7XHJcbiAgICAgICAgICBjb25zdCBjYXREYXRhID0gdGhpcy5jYXRUeXBlc1tjYXRUeXBlXS5jYXRlZ29yaWVzW2NhdGVnb3J5XTtcclxuICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjYXREYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXNDYXRBbmRUeXBlW2tleV0gPSBjYXREYXRhW2tleV07XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFsbFVuaXF1ZUNhdGVnb3JpZXMucHVzaCh0aGlzQ2F0QW5kVHlwZSk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBhbGxVbmlxdWVDYXRlZ29yaWVzO1xyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJucyBcInR5cGVBbmRDYXRcIiBpZiBjYXRlZ29yeVR5cGUgYW5kIGNhdGVnb3J5IGV4aXN0cyBpbiB0aGUgdHJlZSwgXCJ0eXBlT25seVwiIGlmIG9ubHlcclxuICAvLyB0aGUgY2F0ZWdvcnlUeXBlIGV4aXN0cyBhbmQgXCJub3JcIiBpZiBuZWl0aGVyIHRoZSBjYXRlZ29yeSBub3IgdGhlIGNhdGVnb3J5VHlwZSBleGlzdHMuXHJcbiAgX2RvZXNDYXRlZ29yeU9yVHlwZUV4aXN0KGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSl7XHJcbiAgICBpZiAoIShjYXRlZ29yeVR5cGVOYW1lIGluIHRoaXMuY2F0VHlwZXMpKSB7XHJcbiAgICAgIHJldHVybiBcIm5vclwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIShjYXRlZ29yeU5hbWUgaW4gKHRoaXMuY2F0VHlwZXMuY2F0ZWdvcnlUeXBlTmFtZT8uY2F0ZWdvcmllcyA/PyBbXSkpKSB7XHJcbiAgICAgIHJldHVybiBcInR5cGVPbmx5XCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIFwidHlwZUFuZENhdFwiO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9hZGRUeXBlQW5kQ2F0ZWdvcnkoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKXtcclxuICAgIHRoaXMuY2F0VHlwZXNbY2F0ZWdvcnlUeXBlTmFtZV0gPSB7XHJcbiAgICAgIGNhdGVnb3JpZXM6IHt9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5fYWRkQ2F0ZWdvcnkoY2F0ZWdvcnlUeXBlTmFtZSwgY2F0ZWdvcnlOYW1lLCBkYXRhKTtcclxuICB9XHJcblxyXG4gIF9hZGRDYXRlZ29yeShjYXRlZ29yeVR5cGVOYW1lLCBjYXRlZ29yeU5hbWUsIGRhdGEpe1xyXG4gICAgdGhpcy5jYXRUeXBlc1tjYXRlZ29yeVR5cGVOYW1lXS5jYXRlZ29yaWVzW2NhdGVnb3J5TmFtZV0gPSBudWxsO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgdGhpcy5fc2V0RGF0YShjYXRlZ29yeVR5cGVOYW1lLCBjYXRlZ29yeU5hbWUsIGRhdGEpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9zZXREYXRhKGNhdGVnb3J5VHlwZU5hbWUsIGNhdGVnb3J5TmFtZSwgZGF0YSkge1xyXG4gICAgdGhpcy5jYXRUeXBlc1tjYXRlZ29yeVR5cGVOYW1lXS5jYXRlZ29yaWVzW2NhdGVnb3J5TmFtZV0gPSB7fTtcclxuICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgIHRoaXMuY2F0VHlwZXNbY2F0ZWdvcnlUeXBlTmFtZV0uY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdW2tleV0gPSBkYXRhW2tleV07XHJcbiAgICB9O1xyXG4gIH1cclxufSIsImltcG9ydCB7IENhdGVnb3J5SW5mbyB9IGZyb20gXCIuLi8uLi9zaGFyZWRKcy9jYXRlZ29yeUluZm8ubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIE9iamVjdHMgdG8gcmVwcmVzZW50IGNoZWNrYm94IHNlbGVjdGlvbiBjaGVja2JveGVzIGZvciBhbGwgY2F0ZWdvcmllcyAvIFxyXG4vLyBjYXRlZ29yeSB0eXBlcy5cclxuZXhwb3J0IGNsYXNzIENhdGVnb3J5Q2hlY2tib3hlcyB7XHJcbiAgICAjY2hlY2tib3hlcztcclxuICAgIGNhdGVnb3J5SW5mbztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYXRlZ29yeUNoZWNrYm94ZXMpIHtcclxuICAgICAgICB0aGlzLiNjaGVja2JveGVzID0gY2F0ZWdvcnlDaGVja2JveGVzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHaXZlbiBhbiBhcnJheSBvZiBjaGVja2JveCBET00gb2JqZWN0cywgcmV0dXJucyBhIENhdGVnb3J5SW5mbyBvYmplY3RcclxuICAgIC8vIGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gb24gYWxsIHNlbGVjdGVkIGNoZWNrYm94ZXMuXHJcbiAgICBnZXRTZWxlY3RlZENhdGVnb3J5SW5mbygpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRDYXRlZ29yeUluZm8gPSBuZXcgQ2F0ZWdvcnlJbmZvKCk7XHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMuI2NoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbihjaGVja2JveCl7XHJcbiAgICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjYXRUeXBlQW5kQ2F0ID0gY2hlY2tib3guZ2V0QXR0cmlidXRlKFwibmFtZVwiKS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlJbmZvLmNoZWNrQW5kQWRkQ2F0ZWdvcnlXaXRoVHlwZShjYXRUeXBlQW5kQ2F0WzBdLFxyXG4gICAgICAgICAgICAgIGNhdFR5cGVBbmRDYXRbMV0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhdGVnb3J5SW5mbyA9IHNlbGVjdGVkQ2F0ZWdvcnlJbmZvO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhdGVnb3J5SW5mbztcclxuICAgIH1cclxuXHJcbiAgICBnZXROdW1TZWxlY3RlZCgpIHtcclxuICAgICAgY29uc3QgY2hlY2tCb3hlc0FyciA9IEFycmF5LmZyb20odGhpcy4jY2hlY2tib3hlcyk7XHJcbiAgICAgIHJldHVybiBjaGVja0JveGVzQXJyLnJlZHVjZSgodG90LCBjdXJyKSA9PiAodG90ICsgY3Vyci5jaGVja2VkKSwgMCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBmYWRlRnJvbVRvIH0gZnJvbSBcIi4vZmFkZVRyYW5zaXRpb25zLm1qc1wiO1xyXG5cclxuXHJcblxyXG4vLyBVc2VkIGJ5IHRoZSByZWNvbW1lbmRhdGlvbnMgYW5kIGZpbmQga2luZHJlZCBwYWdlcyB0byBmYWRlIGJldHdlZW4gbG9hZGVycyBcclxuLy8gYW5kIG5ldyBjb250ZW50IHdoZW4gcmVmcmVzaGluZyByZWNvbW1lbmRhdGlvbnMgLyBraW5kcmVkLlxyXG5leHBvcnQgY29uc3Qga2luZHJlZFJlY3NNaXhpbiA9IHtcclxuICBfcmVidWlsZENvbnRlbnREaXYoZGF0YSkge1xyXG4gICAgdGhpcy5fY2xlYXJDb250ZW50RGl2KCk7XHJcbiAgICB0aGlzLl9idWlsZENvbnRlbnREaXYoZGF0YSk7XHJcbiAgfSxcclxuXHJcbiAgLy8gQ2xlYXIgdGhlIGNvbnRlbnQgaW4gdGhlIGxpc3QgZGl2LlxyXG4gIF9jbGVhckNvbnRlbnREaXYoKSB7XHJcbiAgICB0aGlzLl9jb250ZW50RGl2LnJlcGxhY2VDaGlsZHJlbigpO1xyXG4gIH0sXHJcblxyXG4gIF9zaG93TG9hZGVyKCkge1xyXG4gICAgcmV0dXJuIGZhZGVGcm9tVG8odGhpcy5fY29udGVudERpdiwgdGhpcy5fbG9hZGVyKTtcclxuICB9LFxyXG5cclxuICBfaGlkZUxvYWRlcigpIHtcclxuICAgIHJldHVybiBmYWRlRnJvbVRvKHRoaXMuX2xvYWRlciwgdGhpcy5fY29udGVudERpdik7XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgaGFuZGxlVXBkYXRlQnRuQ2xpY2soKSB7XHJcbiAgICBjb25zdCBsb2FkZXJTaG93biA9IHRoaXMuX3Nob3dMb2FkZXIoKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLl9nZXRVcGRhdGVkU291cmNlRGF0YSgpO1xyXG5cclxuICAgIC8vIERvbid0IGhpZGUgdGhlIGxvYWRlciAvIHNob3cgdGhlIGNvbnRlbnQgdW50aWwgYm90aCB0aGUgbG9hZGVyIGhhcyBcclxuICAgIC8vIGZpbmlzaGVkIGZhZGluZyBpbiBBTkQgdGhlIGRvU3R1ZmYgaGFzIGJlZW4gY29tcGxldGVkLlxyXG4gICAgYXdhaXQgbG9hZGVyU2hvd247XHJcbiAgICB0aGlzLl9yZWJ1aWxkQ29udGVudERpdihkYXRhKTtcclxuICAgIHRoaXMuX2hpZGVMb2FkZXIoKTtcclxuICB9LFxyXG5cclxuICAvLyBWYWxpZGF0ZXMgYW5kIHRoZW4gaGFuZGxlcyB0aGUgcmVxdWVzdCB0byB1cGRhdGUsIG90aGVyd2lzZSBhbGVydHMgd2l0aCBcclxuICAvLyB0aGUgdmFsaWRhdGlvbiBtZXNzYWdlLlxyXG4gIHZhbGlkYXRlSGFuZGxlVXBkYXRlKHNjcm9sbEVsZW0sIGZhaWxWYWxpZGF0ZU1zZykge1xyXG4gICAgY29uc3QgaXNWYWxpZFNlbGVjdGlvbnMgPSB0aGlzLl92YWxpZGF0ZVNlbGVjdGlvbnMoKTtcclxuICAgIFxyXG4gICAgaWYgKGlzVmFsaWRTZWxlY3Rpb25zKSB7XHJcbiAgICAgIHNjcm9sbEVsZW0uc2Nyb2xsSW50b1ZpZXcoe2JlaGF2aW9yOiBcInNtb290aFwifSk7XHJcbiAgICAgIHRoaXMuaGFuZGxlVXBkYXRlQnRuQ2xpY2soKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBhbGVydChmYWlsVmFsaWRhdGVNc2cpO1xyXG4gICAgfTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBTaW5nbGVNb2RlUVNvdXJjZSB9IGZyb20gXCIuLi9zaW5nbGVNb2RlUVNvdXJjZS5tanNcIjtcclxuaW1wb3J0IHsgQ2F0ZWdvcnlDaGVja2JveGVzIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NhdGVnb3J5Q2hlY2tib3hlcy5tanNcIjtcclxuaW1wb3J0IHsga2luZHJlZFJlY3NNaXhpbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9raW5kcmVkUmVjc01peGluLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUmVjc1FTb3VyY2UgZXh0ZW5kcyBTaW5nbGVNb2RlUVNvdXJjZSB7XHJcbiAgLy8gU3RvcmVzIHRoZSBET00gcm93IGZvciB0aGUgcXVlc3Rpb24gdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgYW5zd2VyZWQuXHJcbiAgI2N1cnJRUm93ID0gbnVsbDtcclxuICAjcmVjRm9yQ2F0ZWdvcnlDaGVja2JveGVzO1xyXG4gICNiYXNlZE9uQ2F0ZWdvcnlDaGVja2JveGVzO1xyXG4gICNnZXRSZWNzQnRuO1xyXG4gIF9sb2FkZXI7XHJcbiAgX3FEaXZDbGFzcyA9IFwicmVjLWl0ZW1cIjtcclxuXHJcbiAgc3RhdGljICNJTlZBTElEX1NFTEVDVFNfTVNHID0gYEF0IGxlYXN0IG9uZSBjYXRlZ29yeSBtdXN0IGJlIHNlbGVjdGVkIGZyb20gZWFjaCBvZiB0aGUgXCJSZWNvbW1lbmQgZm9yXCIgYW5kIFwiQmFzZWQgb25cIiBncm91cHMuYDtcclxuICBzdGF0aWMgI05PX0tJTkRSRURfTVNHID0gW1wiWW91J3JlIG9uZSBvZiBhIGtpbmQhXCIsIFwiV2UgY291bGRuJ3QgZmluZCBhbnlvbmUgc2ltaWxhciBlbm91Z2ggdG8geW91IGZvciB0aGUgc2VsZWN0ZWQgY2F0ZWdvcmllcy4gVHJ5IGEgZGlmZmVyZW50IHNlbGVjdGlvbiBvciBhbnN3ZXIgbW9yZSBxdWVzdGlvbnMuXCJdO1xyXG4gIHN0YXRpYyAjS0lORFJFRF9OT19SRUNTX01TRyA9IFtcIk5vIHJlY29tbWVuZGF0aW9ucyFcIiwgXCJZb3VyIEtpbmRyZWQgc3Bpcml0cyBmb3IgdGhlIGNhdGVnb3JpZXMgc2VsZWN0ZWQgaGF2ZSBub3RoaW5nIHRvIHJlY29tbWVuZCB5b3UgdGhhdCB5b3UgaGF2ZW4ndCByYXRlZCBhbHJlYWR5ISBUcnkgYSBkaWZmZXJlbnQgc2VsZWN0aW9uLlwiXTtcclxuXHJcbiAgY29uc3RydWN0b3IobGlzdERpdikge1xyXG4gICAgc3VwZXIobGlzdERpdik7XHJcblxyXG4gICAgdGhpcy5fbG9hZGVyID0gbGlzdERpdi5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcclxuXHJcbiAgICBjb25zdCByZWNzRm9yRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWNvbW1lbmRhdGlvbnMtZm9yXCIpO1xyXG4gICAgY29uc3QgYmFzZWRPbkRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFzZWQtb25cIik7XHJcbiAgICBjb25zdCByZWNGb3JDaGVja2JveGVzQXJyID0gcmVjc0ZvckRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGVnb3J5LWNoZWNrYm94XCIpO1xyXG4gICAgY29uc3QgYmFzZWRPbkNoZWNrYm94ZXNBcnIgPSBiYXNlZE9uRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2F0ZWdvcnktY2hlY2tib3hcIik7XHJcbiAgICBcclxuICAgIHRoaXMuI3JlY0ZvckNhdGVnb3J5Q2hlY2tib3hlcyA9IG5ldyBDYXRlZ29yeUNoZWNrYm94ZXMocmVjRm9yQ2hlY2tib3hlc0Fycik7XHJcbiAgICB0aGlzLiNiYXNlZE9uQ2F0ZWdvcnlDaGVja2JveGVzID0gbmV3IENhdGVnb3J5Q2hlY2tib3hlcyhiYXNlZE9uQ2hlY2tib3hlc0Fycik7XHJcblxyXG4gICAgdGhpcy4jZ2V0UmVjc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2V0LXJlY3MtYnRuXCIpO1xyXG5cclxuICAgIHRoaXMuI2dldFJlY3NCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy52YWxpZGF0ZUhhbmRsZVVwZGF0ZSh0aGlzLl9saXN0RGl2LCBSZWNzUVNvdXJjZS4jSU5WQUxJRF9TRUxFQ1RTX01TRyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEJ1aWxkcyB0aGUgY29udGVudCBkaXYgd2l0aCBhbGwgdGhlIHF1ZXN0aW9ucy5cclxuICBfYnVpbGRDb250ZW50RGl2KHJlY3NJbmZvKSB7XHJcbiAgICBpZiAocmVjc0luZm8ubnVtS2luZHJlZCA+IDApIHtcclxuICAgICAgaWYgKHJlY3NJbmZvLnJlY29tbWVuZExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHN1cGVyLl9idWlsZENvbnRlbnREaXYocmVjc0luZm8ucmVjb21tZW5kTGlzdCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy4jc2V0Tm9SZWNzTXNnKFJlY3NRU291cmNlLiNLSU5EUkVEX05PX1JFQ1NfTVNHKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLiNzZXROb1JlY3NNc2coUmVjc1FTb3VyY2UuI05PX0tJTkRSRURfTVNHKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBTZXRzIGEgbWVzc2FnZSBpbiB0aGUgcmVjb21tZW5kYXRpb25zIGxpc3QgZm9yIHdoeSBubyByZWNvbW1lbmRhdGlvbnMgd2VyZSBmb3VuZC5cclxuICAjc2V0Tm9SZWNzTXNnKG1zZ0luZm8pIHtcclxuICAgIGNvbnN0IG5vUmVjc01zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBjb25zdCBub1JlY3NIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDVcIik7XHJcbiAgICBjb25zdCBub1JlY3NUeHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcbiAgICBub1JlY3NIZWFkZXIuaW5uZXJUZXh0ID0gbXNnSW5mb1swXTtcclxuICAgIG5vUmVjc1R4dC5pbm5lclRleHQgPSBtc2dJbmZvWzFdO1xyXG4gICAgXHJcbiAgICBub1JlY3NNc2dEaXYuYXBwZW5kQ2hpbGQobm9SZWNzSGVhZGVyKTtcclxuICAgIG5vUmVjc01zZ0Rpdi5hcHBlbmRDaGlsZChub1JlY3NUeHQpO1xyXG5cclxuICAgIG5vUmVjc01zZ0Rpdi5jbGFzc0xpc3QuYWRkKFwibm8tcmVjcy1tc2dcIik7XHJcbiAgICB0aGlzLl9jb250ZW50RGl2LmFwcGVuZENoaWxkKG5vUmVjc01zZ0Rpdik7XHJcbiAgfVxyXG5cclxuICAvLyBFbnN1cmUgYXQgbGVhc3Qgb25lIGNoZWNrYm94IGlzIHNlbGVjdGVkIGZvciBSZWMgZm9yIGFuZCBCYXNlZCBvbiBHcm91cHMuXHJcbiAgX3ZhbGlkYXRlU2VsZWN0aW9ucygpIHtcclxuICAgIGNvbnN0IG51bUJhc2VkT25DYXRzID0gdGhpcy4jcmVjRm9yQ2F0ZWdvcnlDaGVja2JveGVzLmdldE51bVNlbGVjdGVkKCk7XHJcbiAgICBjb25zdCBudW1SZWNDYXRzID0gdGhpcy4jYmFzZWRPbkNhdGVnb3J5Q2hlY2tib3hlcy5nZXROdW1TZWxlY3RlZCgpO1xyXG4gICAgY29uc3QgaXNWYWxpZFNlbGVjdGlvbnMgPSAobnVtQmFzZWRPbkNhdHMgPiAwKSAmJiAobnVtUmVjQ2F0cyA+IDApO1xyXG4gICAgcmV0dXJuIGlzVmFsaWRTZWxlY3Rpb25zO1xyXG4gIH1cclxuXHJcbiAgX2FkZFRvUURpdihxSW5mbykge1xyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uYXBwZW5kQ2hpbGQocUluZm8ucVRleHQpO1xyXG4gICAgcUluZm8ucVNvdXJjZUl0ZW0uaW5zZXJ0QmVmb3JlKHFJbmZvLnFTY29yZSwgcUluZm8ucVNvdXJjZUl0ZW0uY2hpbGRyZW5bMF0pO1xyXG5cclxuICAgIGNvbnN0IGNhdFR5cGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBjb25zdCBjYXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG4gICAgY2F0VHlwZVRleHQuY2xhc3NMaXN0LmFkZChcInJlYy1jYXQtdHlwZVwiKTtcclxuICAgIGNhdFRleHQuY2xhc3NMaXN0LmFkZChcInJlYy1jYXRcIik7XHJcblxyXG4gICAgW2NhdFR5cGVUZXh0LmlubmVyVGV4dCwgY2F0VGV4dC5pbm5lclRleHRdID0gW3FJbmZvLmNhdFR5cGVOYW1lLCBxSW5mby5jYXROYW1lXTtcclxuXHJcbiAgICBxSW5mby5xU291cmNlSXRlbS5hcHBlbmRDaGlsZChjYXRUeXBlVGV4dCk7XHJcbiAgICBxSW5mby5xU291cmNlSXRlbS5hcHBlbmRDaGlsZChjYXRUZXh0KTtcclxuXHJcbiAgICByZXR1cm4gcUluZm8ucVNvdXJjZUl0ZW07XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIGxhdGVzdCByZWNvbW1lbmRhdGlvbnMgZnJvbSB0aGUgYmFjayBlbmQuXHJcbiAgYXN5bmMgZ2V0UmVjcygpIHtcclxuICAgIGNvbnN0IHJlY0ZvckNhdGVnb3J5SW5mbyA9IHRoaXMuI3JlY0ZvckNhdGVnb3J5Q2hlY2tib3hlcy5nZXRTZWxlY3RlZENhdGVnb3J5SW5mbygpO1xyXG4gICAgY29uc3QgYmFzZWRPbkNhdGVnb3J5SW5mbyA9IHRoaXMuI2Jhc2VkT25DYXRlZ29yeUNoZWNrYm94ZXMuZ2V0U2VsZWN0ZWRDYXRlZ29yeUluZm8oKTtcclxuXHJcbiAgICBjb25zdCBhbGxDYXRlZ29yeUluZm8gPSB7XHJcbiAgICAgIHJlY29tbWVuZGF0aW9uc0ZvcjogcmVjRm9yQ2F0ZWdvcnlJbmZvLFxyXG4gICAgICBiYXNlZE9uOiBiYXNlZE9uQ2F0ZWdvcnlJbmZvXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZldGNoUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9yZWNvbW1lbmRhdGlvbnNcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGFsbENhdGVnb3J5SW5mbylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zdCByZWNvbW1lbmRzSW5mbyA9IGF3YWl0IGZldGNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIHJlY29tbWVuZHNJbmZvO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRoZSBjdXJyUVJvdyB0byB0aGUgcXVlc3Rpb24gdGhhdCBpcyBub3cgYmVpbmcgcmF0ZWQsIHNvIGl0IGNhbiBiZSBcclxuICAvLyBlYXNpbHkgcmVtb3ZlZCBvbmNlIGFuc3dlcmVkLlxyXG4gIF9oYW5kbGVSYXRlQnRuQ2xpY2soZXZ0LCBxdWVzdGlvbikge1xyXG4gICAgdGhpcy4jY3VyclFSb3cgID0gZXZ0LmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgc3VwZXIuX2hhbmRsZVJhdGVCdG5DbGljayhldnQsIHF1ZXN0aW9uKTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0aGUgbmV3bHkgYW5zd2VyZWQgcXVlc3Rpb24gZnJvbSB0aGUgcmVjb21tZW5kYXRpb25zIGxpc3QuXHJcbiAgcmVtb3ZlQW5zd2VyZWRRKCkge1xyXG4gICAgdGhpcy5fY29udGVudERpdi5yZW1vdmVDaGlsZCh0aGlzLiNjdXJyUVJvdyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0U2NvcmVUZXh0KHJlYykge1xyXG4gICAgcmV0dXJuIHJlYy5yYXRpbmcuc3RyZW5ndGgudG9GaXhlZCgxKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gUE9TVFMgYW55IG5ldyBhbnN3ZXJzIHRoZW4gZ2V0cyB0aGUgbGF0ZXN0IHJlY29tbWVuZGF0aW9ucy5cclxuICBhc3luYyAjZ2V0TGF0ZXN0UmVjcygpIHtcclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYGdldFJlY3NDbGlja2ApKTtcclxuXHJcbiAgICAvLyBXYWl0IGZvciBwb3N0IGFuc3dlcnMgdG8gY29tcGxldGUgYmVmb3JlIHJlZnJlc2hpbmcgcmVjb21tZW5kYXRpb25zLlxyXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncG9zdEFuc3dlcnNDb21wbGV0ZScsIHJlc29sdmUoKSwge29uY2U6IHRydWV9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxhdGVzdFJlY3NJbmZvID0gYXdhaXQgdGhpcy5nZXRSZWNzKCk7XHJcbiAgICByZXR1cm4gbGF0ZXN0UmVjc0luZm87XHJcbiAgfVxyXG5cclxuICAvLyBVc2VkIGJ5IHRoZSBtaXhpbiB0byBnZXQgbGF0ZXN0IHJlY29tbWVuZGF0aW9ucy5cclxuICBhc3luYyBfZ2V0VXBkYXRlZFNvdXJjZURhdGEoKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy4jZ2V0TGF0ZXN0UmVjcygpO1xyXG4gIH1cclxuICBcclxuICBfZ2V0SG92ZXJUZXh0KCkge1xyXG4gICAgcmV0dXJuIFwiUmF0ZSBpdCFcIjtcclxuICB9XHJcbn1cclxuXHJcbk9iamVjdC5hc3NpZ24oUmVjc1FTb3VyY2UucHJvdG90eXBlLCBraW5kcmVkUmVjc01peGluKTsiLCJpbXBvcnQgeyBRdWVzdGlvbnNNb2RlIH0gZnJvbSBcIi4uLy4uL3F1ZXN0aW9uc01vZGUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBRTW9kZVdpdGhRdWV1ZUlucHV0IGV4dGVuZHMgUXVlc3Rpb25zTW9kZSB7XHJcbiAgcXVldWVJbnB1dFBhbmVsO1xyXG5cclxuICAvLyBTYXZlIGFuc3dlciBpbmZvcm1hdGlvbiwgdXBkYXRlIHRoZSBxdWV1ZSBpZiBuZWNlc3NhcnkuXHJcbiAgYXN5bmMgYW5zd2VyUXVlc3Rpb24oZXZlbnQpIHtcclxuICAgIGNvbnN0IGN1cnJRdWVzdGlvbiA9IHRoaXMucXVlc3Rpb25zUXVldWUucmVtb3ZlUXVldWVJdGVtKDAsIHRydWUpO1xyXG5cclxuICAgIHRoaXMucXVlc3Rpb25zUXVldWUuc2F2ZVByZXZRKGN1cnJRdWVzdGlvbi5faWQpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgYW5zd2VyIG9iamVjdCBhcyBpdCBzaG91bGQgYmUgc3RvcmVkIGluIHRoZSBEQi5cclxuICAgIGNvbnN0IGFuc3dlck9iaiA9IHRoaXMuZ2V0QW5zd2VyT2JqKGV2ZW50LCBjdXJyUXVlc3Rpb24pO1xyXG5cclxuICAgIC8vIEVtaXQgZXZlbnQgdG8gYmUgcGlja2VkIHVwIGJ5IHRoZSBxdWVzdGlvbnMgcGFnZS5cclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiYW5zd2VyZWRRXCIsIHtkZXRhaWw6IHthbnN3ZXJPYmo6IGFuc3dlck9ian19KVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gaW4gdGhlIGFuc3dlciBVSSBwYW5lbCB3aXRoIHRoZSBuZXcgZmlyc3QgXHJcbiAgICAvLyBxdWV1ZSBpdGVtLlxyXG4gICAgdGhpcy5fc2hvd0N1cnJRKCk7XHJcblxyXG4gICAgLy8gQWRkcyBtb3JlIHF1ZXN0aW9ucyB0byB0aGUgcXVlc3Rpb25zIHF1ZXVlIGlmIG5lY2Vzc2FyeS5cclxuICAgIGxldCBxdWV1ZVVwZGF0ZWQgPSBhd2FpdCB0aGlzLnF1ZXN0aW9uc1F1ZXVlLnVwZGF0ZSgpO1xyXG4gICAgaWYgKHF1ZXVlVXBkYXRlZCkge1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uc1F1ZXVlLmNoZWNrRm9yT3V0ZGF0ZWRRcyh0cnVlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgcXVlc3Rpb24gaW4gdGhlIGFuc3dlciBVSSBwYW5lbCB3aXRoIHRoZSBuZXcgZmlyc3QgXHJcbiAgLy8gcXVldWUgaXRlbS4gXHJcbiAgX3Nob3dDdXJyUSgpIHtcclxuICAgIGNvbnN0IGluY2xBbHJlYWR5QW5zd2VyZWQgPSB0aGlzLnF1ZXVlSW5wdXRQYW5lbD8uXHJcbiAgICAgIGluY2x1ZGVBbHJlYWR5QW5zd2VyZWRDaGVja2JveC5jaGVja2VkO1xyXG5cclxuICAgIHN1cGVyLl9zaG93Q3VyclEoaW5jbEFscmVhZHlBbnN3ZXJlZCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhY3RpdmF0ZSgpIHtcclxuICAgIHN1cGVyLmFjdGl2YXRlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGVzIHRoZSBxdWVzdGlvbnMgcXVldWUgYW5kIHRoZW4gZGlzcGxheXMgdGhlIGZpcnN0IHF1ZXN0aW9uIG9mIGl0LCBcclxuICAvLyBjYWxsZWQgd2hlbiBzd2l0Y2hpbmcgdG8gdGhpcyBxdWVzdGlvbnMgbW9kZS5cclxuICBhc3luYyB1cGRhdGVRdWV1ZUFuZFNob3dGaXJzdChpc05ld1F1ZXVlID0gZmFsc2UpIHtcclxuICAgIHRoaXMuYW5zd2VyVWlQYW5lbC5zaG93TG9hZGVyKCk7XHJcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZVF1ZXVlKGlzTmV3UXVldWUpO1xyXG4gICAgdGhpcy5hbnN3ZXJVaVBhbmVsLmhpZGVMb2FkZXIoKTtcclxuICAgIHRoaXMuX3Nob3dDdXJyUSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgcXVlc3Rpb25zIHF1ZXVlLlxyXG4gIGFzeW5jIHVwZGF0ZVF1ZXVlKGlzTmV3UXVldWUpIHtcclxuICAgIC8vIFF1ZXVlIHdpbGwgb25seSB1cGRhdGUgaWYgaXQncyBzaG9ydCBvbiBhbnN3ZXJzLlxyXG4gICAgYXdhaXQgdGhpcy5xdWVzdGlvbnNRdWV1ZS51cGRhdGUoaXNOZXdRdWV1ZSk7XHJcblxyXG4gICAgLy8gQ2hlY2tzIHRoZSBxdWV1ZSB0byBzZWUgaWYgYW55IHF1ZXN0aW9ucyBpbiBpdCBhcmUgbm93IG91dGRhdGVkIGJhc2VkIG9uIFxyXG4gICAgLy8gcmVjZW50bHkgUE9TVGVkIGFuc3dlcnMgb3IgcmVjZW50IGFuc3dlcnMgZnJvbSBvdGhlciBxdWVzdGlvbnMgbW9kZXMgdGhhdCBcclxuICAgIC8vIGhhdmVuJ3QgeWV0IGJlZW4gUE9TVGVkLlxyXG4gICAgdGhpcy5xdWVzdGlvbnNRdWV1ZS5jaGVja0Zvck91dGRhdGVkUXMoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmaW5pc2hGYWRlT3V0IH0gZnJvbSBcIi4uLy4uL2ZhZGVUcmFuc2l0aW9ucy5tanNcIjtcclxuaW1wb3J0IHsgZmluZEFuZE92ZXJ3cml0ZUVsc2VQdXNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NoYXJlZEpzL3V0aWxzLm1qc1wiO1xyXG5cclxuaW1wb3J0IHsgUU1vZGVXaXRoUXVldWVJbnB1dCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvXFxcclxucU1vZGVXaXRoUXVldWVJbnB1dC9xTW9kZVdpdGhRdWV1ZUlucHV0Lm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUXVlc3Rpb25zUGFnZSB7XHJcbiAgI3N3aXRjaGluZ01vZGUgPSBmYWxzZTtcclxuICBxdWVzdGlvbnNNb2RlcztcclxuICBxTW9kZVN3aXRjaGVyO1xyXG4gIGN1cnJRdWVzdGlvbk1vZGU7XHJcbiAgY2F0ZWdvcnlUeXBlTmFtZTtcclxuICBjYXRlZ29yeU5hbWU7XHJcbiAgLy8gTmV3IGFuc3dlcnMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBQT1NUZWQgdG8gc2VydmVyLlxyXG4gIG5vdFlldFBvc3RlZEFuc3dlcnMgPSBbXTtcclxuICAvLyBUaGUgbm90IHlldCBQT1NUZWQgYW5zd2VycyBwbHVzIGFueSBhbnN3ZXJzIHRoYXQgYXJlIFBPU1RlZCBidXQgdGhlIHNhdmUgXHJcbiAgLy8gb24gYmFjayBlbmQgaGFzbid0IGNvbXBsZXRlZCB5ZXQuXHJcbiAgYWxsUmVjZW50QW5zd2VycyA9IFtdO1xyXG4gIHN0YXRpYyAjc3VibWl0QW5zd2Vyc0ludGVydmFsID0gNjAwMDAwOyAvLyAxMCBtaW5zXHJcblxyXG4gIGNvbnN0cnVjdG9yKHFNb2RlcywgcU1vZGVTd2l0Y2hlciA9IFtdLCBjYXRlZ29yeVR5cGVOYW1lID0gbnVsbCwgXHJcbiAgICBjYXRlZ29yeU5hbWUgPSBudWxsKSB7XHJcblxyXG4gICAgdGhpcy5xdWVzdGlvbnNNb2RlcyA9IHFNb2RlcztcclxuICAgIHRoaXMucU1vZGVTd2l0Y2hlciA9IHFNb2RlU3dpdGNoZXI7XHJcbiAgICB0aGlzLmNhdGVnb3J5VHlwZU5hbWUgPSBjYXRlZ29yeVR5cGVOYW1lO1xyXG4gICAgdGhpcy5jYXRlZ29yeU5hbWUgPSBjYXRlZ29yeU5hbWU7XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdXAgdGhlIGV2ZW50IGxpc3RlbmVycyBmb3IgYWxsIGJ1dHRvbnMgYW5kIHByb3RvY29sIGZvciB1cGxvYWRpbmcgXHJcbiAgLy8gYW5zd2VycyBkYXRhLlxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBidXR0b25zIHdpdGhpbiBlYWNoIHF1ZXN0aW9ucyBtb2RlLlxyXG4gICAgZm9yIChsZXQgcU1vZGUgb2YgdGhpcy5xdWVzdGlvbnNNb2Rlcykge1xyXG4gICAgICBxTW9kZS5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFdoZW4gcXVlc3Rpb25zIHBhZ2UgaXMgbGVmdCAvIHRhYiBjbG9zZWQsIHBvc3QgYW55IGFuc3dlcnMgdG8gdGhlIHNlcnZlci5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fcG9zdEFuc3dlcnModHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTdWJtaXQgYW5zd2VycyBldmVyeSAxMCBtaW5zLCBpZiB0aGVyZSBhcmUgYW55LlxyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLl9wb3N0QW5zd2VycyhmYWxzZSk7XHJcbiAgICB9LCBRdWVzdGlvbnNQYWdlLiNzdWJtaXRBbnN3ZXJzSW50ZXJ2YWwpO1xyXG5cclxuICAgIC8vIExpc3RlbiBmb3IgZXZlbnRzIGVtaXR0ZWQgYnkgYW55IHEgbW9kZSB3aGVuIGEgcXVlc3Rpb24gaXMgYW5zd2VyZWQuXHJcbiAgICBmb3IgKGxldCBxTW9kZSBvZiB0aGlzLnF1ZXN0aW9uc01vZGVzKSB7XHJcbiAgICAgIHFNb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbnN3ZXJlZFFcIiwgZXZ0ID0+IHtcclxuICAgICAgICBjb25zdCBhbnN3ZXJPYmogPSBldnQuZGV0YWlsLmFuc3dlck9iajtcclxuICAgICAgICB0aGlzLl9oYW5kbGVOZXdBbnN3ZXIoYW5zd2VyT2JqKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXQgdGhlIHFNb2RlU3dpdGNoZXIuXHJcbiAgICB0aGlzLiNpbml0UU1vZGVTd2l0Y2hlcigpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgcSBtb2RlIHN3aXRjaCBidXR0b25zLlxyXG4gICNpbml0UU1vZGVTd2l0Y2hlcigpIHtcclxuICAgIGZvciAobGV0IG1vZGVCdG5MaW5rIG9mIHRoaXMucU1vZGVTd2l0Y2hlcikge1xyXG4gICAgICBjb25zdCBxTW9kZUJ0biA9IG1vZGVCdG5MaW5rLmJ0bjtcclxuICAgICAgY29uc3QgcU1vZGUgPSBtb2RlQnRuTGluay5tb2RlO1xyXG5cclxuICAgICAgcU1vZGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAvLyBEb24ndCB0cnkgdG8gc3dpdGNoIG1vZGUgaWYgYWxyZWFkeSB0cmFuc2l0aW9uaW5nIGJldHdlZW4gdHdvIG9yIGlmIFxyXG4gICAgICAgIC8vIGNsaWNrZWQgb24gY3VycmVudCBxTW9kZS5cclxuICAgICAgICBjb25zdCBkb250U3dpdGNoTW9kZSA9IHRoaXMuI3N3aXRjaGluZ01vZGUgfHwgKHRoaXMuY3VyclF1ZXN0aW9uTW9kZSA9PT0gcU1vZGUpO1xyXG4gICAgICAgIGlmIChkb250U3dpdGNoTW9kZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLiNzd2l0Y2hpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICBhd2FpdCB0aGlzLnN3aXRjaFFNb2RlKHFNb2RlKVxyXG4gICAgICAgIHRoaXMuI3N3aXRjaGluZ01vZGUgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1cclxuICBcclxuICAvLyBTYXZlcyAob3Igb3ZlcndyaXRlcykgbmV3IGFuc3dlciB0byBub3RZZXRQb3N0ZWQgYW5kIGFsbFJlY2VudEFuc3dlcnMgYW5kIFxyXG4gIC8vIHRoZW4gc2VuZHMgdGhlIHVwZGF0ZWQgcmVjZW50IGFuc3dlcnMgYXJyYXkgdG8gdGhlIGN1cnJlbnQgcXVlc3Rpb25zIG1vZGUuXHJcbiAgX2hhbmRsZU5ld0Fuc3dlcihhbnN3ZXJPYmopIHtcclxuICAgIHRoaXMuX3VwZGF0ZUFuc0FycmF5V2l0aEFucyh0aGlzLm5vdFlldFBvc3RlZEFuc3dlcnMsIGFuc3dlck9iaik7XHJcbiAgICB0aGlzLl91cGRhdGVBbnNBcnJheVdpdGhBbnModGhpcy5hbGxSZWNlbnRBbnN3ZXJzLCBhbnN3ZXJPYmopO1xyXG4gICAgdGhpcy5fc2V0UmVjZW50QW5zd2VycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIGN1cnJlbnQgcXVlc3Rpb24gbW9kZTogaGlkZSBpdCwgZ2V0IHRoZSBsYXRlc3QgYW5zd2VycyBhbmQgcG9zdCBcclxuICAvLyB0aGVtIHRvIHRoZSBzZXJ2ZXIuXHJcbiAgcmVtb3ZlUW1vZGUoKSB7XHJcbiAgICB0aGlzLmN1cnJRdWVzdGlvbk1vZGUuZGVhY3RpdmF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRoZSBuZXcgcXVlc3Rpb25zIG1vZGUgYW5kIHNob3cgaXQuXHJcbiAgYXN5bmMgc2V0UU1vZGUobmV3UU1vZGUpIHtcclxuICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZSA9IG5ld1FNb2RlO1xyXG4gICAgYXdhaXQgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLmFjdGl2YXRlKCk7XHJcblxyXG4gICAgdGhpcy5fc2V0UmVjZW50QW5zd2VycygpO1xyXG5cclxuICAgIGlmICh0aGlzLmN1cnJRdWVzdGlvbk1vZGUgaW5zdGFuY2VvZiBRTW9kZVdpdGhRdWV1ZUlucHV0KSB7XHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcXVldWUgZm9yIHRoZSBxdWVzdGlvbnMgbW9kZSBhbmQgc2hvdyBmaXJzdCBpdGVtIGluIHRoZSBxdWV1ZS5cclxuICAgICAgYXdhaXQgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLnVwZGF0ZVF1ZXVlQW5kU2hvd0ZpcnN0KCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX3NldFJlY2VudEFuc3dlcnMoKSB7XHJcbiAgICAvLyBEb24ndCBuZWVkIHRvIGtlZXAgYSBsaXN0IG9mIHJlY2VudCBhbnN3ZXJzIGZvciByZWNvbW1lbmRhdGlvbnMgbW9kZS5cclxuICAgIGlmICh0aGlzLmN1cnJRdWVzdGlvbk1vZGU/Lm5hbWUgIT09IFwicmVjc1wiKSB7XHJcbiAgICAgIHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5zZXRSZWNlbnRBbnN3ZXJzKHRoaXMuYWxsUmVjZW50QW5zd2Vycyk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyBhbiBvcmlnQW5zQXJyYXkgd2l0aCBhIG5ldyBhbnN3ZXIsIG92ZXJ3cml0aW5nIHdoZXJlIFxyXG4gIC8vIHByZXNlbnQgaW4gdGhlIG9yaWdBbnNBcnJheSAob3RoZXJ3aXNlIGFkZGluZykuXHJcbiAgX3VwZGF0ZUFuc0FycmF5V2l0aEFucyhvcmlnQW5zQXJyYXksIG5ld0Fucykge1xyXG4gICAgY29uc3QgbWF0Y2hGdW5jID0gKGFyckl0ZW0sIG5ld0l0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIGFyckl0ZW0ucXVlc3Rpb25JZCA9PT0gbmV3SXRlbS5xdWVzdGlvbklkXHJcbiAgICB9O1xyXG5cclxuICAgIGZpbmRBbmRPdmVyd3JpdGVFbHNlUHVzaChvcmlnQW5zQXJyYXksIG5ld0FucywgbWF0Y2hGdW5jKTtcclxuICB9XHJcblxyXG4gIC8vIFN3aXRjaCBiZXR3ZWVuIHF1ZXN0aW9uIG1vZGVzLlxyXG4gIGFzeW5jIHN3aXRjaFFNb2RlKG5ld1FNb2RlKSB7XHJcbiAgICB0aGlzLnJlbW92ZVFtb2RlKCk7XHJcbiAgICBhd2FpdCBmaW5pc2hGYWRlT3V0KHRoaXMuY3VyclF1ZXN0aW9uTW9kZS5tYWluRGl2KTtcclxuICAgIGF3YWl0IHRoaXMuc2V0UU1vZGUobmV3UU1vZGUpO1xyXG4gIH1cclxuICBcclxuICAvLyBSZXNldHMgdGhlIG5ldyBhbmQgdXBkYXRlZCBhbnN3ZXJzIGZvciB0aGlzIHF1ZXN0aW9ucyBwYWdlLlxyXG4gIHJlc2V0QW5zd2VycygpIHtcclxuICAgIHRoaXMubm90WWV0UG9zdGVkQW5zd2VycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgLy8gT25jZSB0aGUgZmV0Y2ggUE9TVCBvZiBzb21lIG5ldyBhbnN3ZXJzIGV2ZXJ5IDEwIG1pbnMgaGFzIGJlZW4gY29tcGxldGVkLCBcclxuICAvLyB1cGRhdGUgdGhlIGFsbFJlY2VudEFuc3dlcnMgc28gdGhhdCB0aGUgcXVldWUgaGFzIGxlc3MgdG8gbW9kaWZ5LlxyXG4gIGNsZWFyUmVjZW50bHlQb3N0ZWRBbnN3ZXJzKHN1Y2Nlc3NQb3N0ZWRBbnN3ZXJzKSB7XHJcbiAgICAvLyBSZW1vdmUgZWFjaCBzdWNjZXNzZnVsbHkgUE9TVGVkIGFuc3dlciBmcm9tIHRoaXMgYWxsUmVjZW50QW5zd2Vycy5cclxuICAgIGZvciAobGV0IHN1Y2Nlc3NQb3N0ZWRBbnN3ZXIgb2Ygc3VjY2Vzc1Bvc3RlZEFuc3dlcnMpIHtcclxuICAgICAgY29uc3QgZmluZEluZGV4ID0gZ2V0RmluZEluZGV4KHN1Y2Nlc3NQb3N0ZWRBbnN3ZXIsIHRoaXMuYWxsUmVjZW50QW5zd2Vycyk7XHJcbiAgICAgIGlmIChmaW5kSW5kZXggPiAtMSkge1xyXG4gICAgICAgIHRoaXMuYWxsUmVjZW50QW5zd2Vycy5zcGxpY2UoZmluZEluZGV4LCAxKTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEZpbmRzIHRoaXMgZXhhY3QgYW5zd2VyIGluIHRoZSBhbGxSZWNlbnRBbnN3ZXJzIChzYW1lIFxyXG4gICAgLy8gcXVlc3Rpb25JZCBtYXkgYXBwZWFyIG1vcmUgdGhhbiBvbmNlIHNvIG9ubHkgZmluZCBleGFjdCBtYXRjaCB3aXRoIFxyXG4gICAgLy8gYW5zd2VyIC8gc2tpcCB2YWx1ZSB0b28pLlxyXG4gICAgZnVuY3Rpb24gZ2V0RmluZEluZGV4KHN1Y2Nlc3NQb3N0ZWRBbnN3ZXIsIHVwZGF0ZUFuc3dlcnNBcnJheSkge1xyXG4gICAgICBjb25zdCBmaW5kSW5kZXggPSB1cGRhdGVBbnN3ZXJzQXJyYXkuZmluZEluZGV4KGFucyA9PiB7XHJcbiAgICAgICAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHByb3BzVG9DaGVjayA9IFtcInF1ZXN0aW9uSWRcIiwgXCJza2lwXCIsIFwiYW5zd2VyVmFsXCJdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGFucykge1xyXG4gICAgICAgICAgY29uc3Qgc2tpcFByb3AgPSAhcHJvcHNUb0NoZWNrLmluY2x1ZGVzKHByb3ApO1xyXG4gICAgICAgICAgaWYgKHNraXBQcm9wKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBpc01hdGNoID0gYW5zW3Byb3BdID09PSBzdWNjZXNzUG9zdGVkQW5zd2VyW3Byb3BdO1xyXG4gICAgICAgICAgaWYgKCFpc01hdGNoKSBicmVhaztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gaXNNYXRjaDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gZmluZEluZGV4O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFBPU1QgdGhlc2UgYW5zd2VycyBpbmZvIHRvIHRoZSBzZXJ2ZXIuXHJcbiAgYXN5bmMgX3Bvc3RBbnN3ZXJzKGlzQ2hhbmdlT2ZQYWdlID0gZmFsc2UpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgYW5zd2VycyB0byB1cGxvYWQuXHJcbiAgICBjb25zdCBub05ld0Fuc3dlcnMgPSB0aGlzLm5vdFlldFBvc3RlZEFuc3dlcnMubGVuZ3RoID09PSAwO1xyXG4gICAgaWYgKG5vTmV3QW5zd2VycykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IFtwb3N0Um91dGUsIGFuc3dlcnNUb1Bvc3RdID0gdGhpcy4jZ2V0UG9zdEluZm8oKTtcclxuXHJcbiAgICBjb25zdCBwb3N0T2JqID0ge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgdHlwZTogXCJhbnN3ZXJzXCIsIFxyXG4gICAgICAgIGRhdGE6IGFuc3dlcnNUb1Bvc3RcclxuICAgICAgfSlcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIElmIG1vdmluZyBvZmYgdGhlIHBhZ2UsIGtlZXAgZmV0Y2ggcmVxdWVzdCBhbGl2ZS5cclxuICAgIGlmIChpc0NoYW5nZU9mUGFnZSkge1xyXG4gICAgICBwb3N0T2JqLmtlZXBhbGl2ZSA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnJlc2V0QW5zd2VycygpO1xyXG4gICAgYXdhaXQgZmV0Y2gocG9zdFJvdXRlLCBwb3N0T2JqKTtcclxuXHJcbiAgICB0aGlzLmNsZWFyUmVjZW50bHlQb3N0ZWRBbnN3ZXJzKGFuc3dlcnNUb1Bvc3QpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0cyB0aGUgcmVsZXZhbnQgcG9zdFJvdXRlIGFuZCBhbnN3ZXJzVG9Qb3N0IGZvcm1hdCBmb3Igd2hldGhlciB1cGxvYWRpbmcgXHJcbiAgLy8gYW5zd2VycyBmb3IgYSBzaW5nbGUgY2F0ZWdvcnkgKGZyb20gcXVlc3Rpb25zIHBhZ2UpIG9yIGZvciBtdWx0aXBsZSBcclxuICAvLyBjYXRlZ29yaWVzIChlZy4gZnJvbSByZWNvbW1lbmRhdGlvbnMgcGFnZSkuXHJcbiAgI2dldFBvc3RJbmZvKCkge1xyXG4gICAgY29uc3QgYW5zd2Vyc01peGVkQ2F0ZWdvcmllcyA9ICF0aGlzLmNhdGVnb3J5TmFtZTtcclxuXHJcbiAgICBsZXQgcG9zdFJvdXRlO1xyXG4gICAgbGV0IGFuc3dlcnNUb1Bvc3Q7XHJcblxyXG4gICAgaWYgKGFuc3dlcnNNaXhlZENhdGVnb3JpZXMpIHtcclxuICAgICAgcG9zdFJvdXRlID0gYC9xdWVzdGlvbnMvbWl4ZWQtY2F0ZWdvcmllc2A7XHJcbiAgICAgIGFuc3dlcnNUb1Bvc3QgPSB0aGlzLiNnZXRBbnN3ZXJzVG9Qb3N0Q2F0SW5mbyh0aGlzLm5vdFlldFBvc3RlZEFuc3dlcnMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHBvc3RSb3V0ZSA9IGAvcXVlc3Rpb25zLyR7dGhpcy5jYXRlZ29yeVR5cGVOYW1lfS8ke3RoaXMuY2F0ZWdvcnlOYW1lfWA7XHJcbiAgICAgIGFuc3dlcnNUb1Bvc3QgPSB0aGlzLm5vdFlldFBvc3RlZEFuc3dlcnMuc2xpY2UoKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIFtwb3N0Um91dGUsIGFuc3dlcnNUb1Bvc3RdO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFrZSBhIGNhdGVnb3J5IGluZm8gb2JqZWN0IHdpdGggdGhlIGFuc3dlcnMgZm9yIGVhY2ggY2F0ZWdvcnksIGZvciB3aGVuIFxyXG4gIC8vIHVwbG9hZGluZyBhbnN3ZXJzIGZvciBtdWx0aXBsZSBjYXRlZ29yaWVzIGF0IG9uY2UgKGVnLiBmcm9tIHJlY29tbWVuZGF0aW9ucyBwYWdlKS5cclxuICAjZ2V0QW5zd2Vyc1RvUG9zdENhdEluZm8oYW5zd2Vyc1RvUG9zdCkge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllc0Fuc3dlcnMgPSBbXTtcclxuXHJcbiAgICAvLyBQb3B1bGF0ZSBjYXRlZ29yaWVzQW5zd2VycyB3aXRoIGFuc3dlcnMgZm9yIGVhY2ggZGlmZmVyZW50IGNhdGVnb3J5LlxyXG4gICAgZm9yIChsZXQgYW5zd2VyIG9mIGFuc3dlcnNUb1Bvc3QpIHtcclxuICAgICAgY29uc3QgdGhpc0Fuc0NhdFR5cGUgPSBhbnN3ZXIucXVlc3Rpb25EZXRhaWxzLmNhdGVnb3J5VHlwZU5hbWU7XHJcbiAgICAgIGNvbnN0IHRoaXNBbnNDYXQgPSBhbnN3ZXIucXVlc3Rpb25EZXRhaWxzLmNhdGVnb3J5TmFtZTtcclxuXHJcbiAgICAgIGNvbnN0IGZvdW5kQ2F0ZWdvcnlJZHggPSBjYXRlZ29yaWVzQW5zd2Vycy5maW5kSW5kZXgobGlzdCA9PiB7XHJcbiAgICAgICAgY29uc3QgY2F0VHlwZU1hdGNoID0gbGlzdC5jYXRUeXBlID09PSB0aGlzQW5zQ2F0VHlwZTtcclxuICAgICAgICBjb25zdCBjYXRNYXRjaCA9IGxpc3QuY2F0ID09PSB0aGlzQW5zQ2F0O1xyXG4gICAgICAgIHJldHVybiAoY2F0VHlwZU1hdGNoICYmIGNhdE1hdGNoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBmb3JtYXR0ZWRBbnMgPSBmb3JtYXRBbnN3ZXIoYW5zd2VyKTtcclxuXHJcbiAgICAgIGlmIChmb3VuZENhdGVnb3J5SWR4ID4gLTEpIHtcclxuICAgICAgICBjYXRlZ29yaWVzQW5zd2Vyc1tmb3VuZENhdGVnb3J5SWR4XS5hbnN3ZXJzLnB1c2goZm9ybWF0dGVkQW5zKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBuZXdDYXRlZ29yeSA9IHtcclxuICAgICAgICAgIGNhdFR5cGU6IHRoaXNBbnNDYXRUeXBlLFxyXG4gICAgICAgICAgY2F0OiB0aGlzQW5zQ2F0LFxyXG4gICAgICAgICAgYW5zd2VyczogW2Zvcm1hdHRlZEFuc11cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjYXRlZ29yaWVzQW5zd2Vycy5wdXNoKG5ld0NhdGVnb3J5KTtcclxuICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoZSBjYXRlZ29yeSBhbmQgY2F0ZWdvcnkgdHlwZSBmcm9tIHRoZSBhbnN3ZXIuXHJcbiAgICBmdW5jdGlvbiBmb3JtYXRBbnN3ZXIoYW5zd2VyKSB7XHJcbiAgICAgIGRlbGV0ZSBhbnN3ZXIucXVlc3Rpb25EZXRhaWxzLmNhdGVnb3J5TmFtZTtcclxuICAgICAgZGVsZXRlIGFuc3dlci5xdWVzdGlvbkRldGFpbHMuY2F0ZWdvcnlUeXBlTmFtZTtcclxuICAgICAgcmV0dXJuIGFuc3dlcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2F0ZWdvcmllc0Fuc3dlcnM7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUmVjb21tZW5kYXRpb25zTW9kZSB9IGZyb20gXCIuLi9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3F1ZXN0aW9uc01vZGUvc3ViLWNsYXNzZXMvc2luZ2xlQW5zd2VyTW9kZS9zdWItY2xhc3Nlcy9yZWNvbW1lbmRhdGlvbnNNb2RlLm1qc1wiO1xyXG5pbXBvcnQgeyBSZWNzUVNvdXJjZSB9IGZyb20gXCIuLi9tb2R1bGVzL3F1ZXN0aW9ucy9jb21wb25lbnRzL3FTb3VyY2Uvc3ViLWNsYXNzZXMvcmVjc1FTb3VyY2UubWpzXCI7XHJcbmltcG9ydCB7IFJlY3NRdWVzdGlvbnNQYWdlIH0gZnJvbSBcIi4uL21vZHVsZXMvcXVlc3Rpb25zL3F1ZXN0aW9uc1BhZ2Uvc3ViLWNsYXNzZXMvcmVjc1F1ZXN0aW9uc1BhZ2UubWpzXCI7XHJcbmltcG9ydCBcIi4vbG9nZ2VkSW5QYWdlLmpzXCI7XHJcblxyXG5cclxuXHJcbmNvbnN0IHNpbmdsZUFuc3dlclFNb2RlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaW5nbGUtYW5zd2VyLW1vZGVcIik7XHJcblxyXG5jb25zdCByZWNvbW1lbmRhdGlvbnNMaXN0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWNvbW1lbmRhdGlvbnMtbGlzdFwiKTtcclxuY29uc3QgcmVjb21tZW5kYXRpb25zTGlzdCA9IG5ldyBSZWNzUVNvdXJjZShyZWNvbW1lbmRhdGlvbnNMaXN0RGl2KTtcclxuXHJcbmNvbnN0IHJlY29tbWVuZGF0aW9uc01vZGUgPSBuZXcgUmVjb21tZW5kYXRpb25zTW9kZShzaW5nbGVBbnN3ZXJRTW9kZURpdiwgXHJcbiAgcmVjb21tZW5kYXRpb25zTGlzdCk7XHJcblxyXG4vLyBDcmVhdGUgdGhlIHF1ZXN0aW9ucyBwYWdlLlxyXG5jb25zdCBxdWVzdGlvbnNQYWdlID0gbmV3IFJlY3NRdWVzdGlvbnNQYWdlKFtyZWNvbW1lbmRhdGlvbnNNb2RlXSk7XHJcblxyXG5xdWVzdGlvbnNQYWdlLmluaXQoKTtcclxuXHJcbi8vIE9uIHBhZ2UgbG9hZCwgdXBkYXRlIHRoZSBxdWVzdGlvbnMgcXVldWUgYW5kIHNob3cgdGhlIGZpcnN0IHF1ZXN0aW9uLlxyXG53aW5kb3cub25sb2FkID0gYXN5bmMgKCkgPT4ge1xyXG4gIGF3YWl0IHF1ZXN0aW9uc1BhZ2Uuc2V0UU1vZGUocmVjb21tZW5kYXRpb25zTW9kZSk7XHJcbn0iLCJpbXBvcnQgeyBTaW5nbGVBbnN3ZXJNb2RlIH0gZnJvbSBcIi4uL3NpbmdsZUFuc3dlck1vZGUubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNvbW1lbmRhdGlvbnNNb2RlIGV4dGVuZHMgU2luZ2xlQW5zd2VyTW9kZSB7XHJcbiAgbmFtZSA9IFwicmVjc1wiO1xyXG5cclxuICAvLyBBbHNvIHJlbW92ZSB0aGUgYW5zd2VyZWQgcXVlc3Rpb24gZnJvbSB0aGUgcmVjb21tZW5kYXRpb25zIGxpc3QuXHJcbiAgYW5zd2VyUXVlc3Rpb24oZXZlbnQpIHtcclxuICAgIGNvbnN0IHRoaXNBbnMgPSBzdXBlci5hbnN3ZXJRdWVzdGlvbihldmVudCk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoaXMgYW5zd2VyZWQgcXVlc3Rpb24gZnJvbSB0aGUgcmVjb21tZW5kYXRpb25zIGxpc3QsIGlmIHVzZXIgXHJcbiAgICAvLyBkaWRuJ3Qgc2tpcCBpdC5cclxuICAgIGlmICghdGhpc0Fucy5za2lwKSB7XHJcbiAgICAgIHRoaXMuX3FTb3VyY2UucmVtb3ZlQW5zd2VyZWRRKCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gTWFrZXMgYSBxdWVzdGlvbiwgcmVhZHkgdG8gYmUgc2hvd24gaW4gdGhlIGFuc3dlclVpUGFuZWwsIGZyb20gdGhlIGNsaWNrZWQgXHJcbiAgLy8gb24gcXVlc3Rpb24uXHJcbiAgX21ha2VRdWVzdGlvbihxSXRlbSkge1xyXG4gICAgY29uc3QgdGhpc1EgPSB7XHJcbiAgICAgIF9pZDogcUl0ZW0ucXVlc3Rpb25JZCxcclxuICAgICAgY2F0ZWdvcnlUeXBlTmFtZTogcUl0ZW0uY2F0ZWdvcnlUeXBlLFxyXG4gICAgICBjYXRlZ29yeU5hbWU6IHFJdGVtLmNhdGVnb3J5XHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAobGV0IHByb3AgaW4gcUl0ZW0ucXVlc3Rpb25EZXRhaWxzKSB7XHJcbiAgICAgIHRoaXNRW3Byb3BdID0gcUl0ZW0ucXVlc3Rpb25EZXRhaWxzW3Byb3BdXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aGlzUTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBRdWVzdGlvbnNQYWdlIH0gZnJvbSBcIi4uL3F1ZXN0aW9uc1BhZ2UubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNzUXVlc3Rpb25zUGFnZSBleHRlbmRzIFF1ZXN0aW9uc1BhZ2Uge1xyXG4gIFxyXG4gIHNldFFNb2RlKG5ld1FNb2RlKSB7XHJcbiAgICBzdXBlci5zZXRRTW9kZShuZXdRTW9kZSk7XHJcblxyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLl9xU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoYGdldFJlY3NDbGlja2AsIGFzeW5jICgpID0+IHtcclxuICAgICAgdGhpcy5fcG9zdEFuc3dlcnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gdGhlIHEgc291cmNlIHNvIHRoYXQgaXQga25vd3MgaXQgY2FuIHRoZW4gcmVmcmVzaCB0aGUgXHJcbiAgLy8gcmVjb21tZW5kYXRpb25zLlxyXG4gIGFzeW5jIF9wb3N0QW5zd2Vycyhpc0NoYW5nZU9mUGFnZSA9IGZhbHNlKSB7XHJcbiAgICBzdXBlci5fcG9zdEFuc3dlcnMoaXNDaGFuZ2VPZlBhZ2UpO1xyXG4gICAgdGhpcy5jdXJyUXVlc3Rpb25Nb2RlLl9xU291cmNlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGBwb3N0QW5zd2Vyc0NvbXBsZXRlYCkpO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJmYWRlSW4iLCJlbGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2V0VGltZW91dCIsImFzeW5jIiwiZnVsbHlGYWRlSW4iLCJmaW5pc2hGYWRlSW4iLCJmYWRlT3V0IiwiYWRkIiwiZmluaXNoRmFkZU91dCIsImZ1bGx5RmFkZU91dCIsImZhZGVGcm9tVG8iLCJlbGVtMSIsImVsZW0yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJQb3BCdG4iLCJjb25zdHJ1Y3RvciIsInBvcEJ0bkNvbnRhaW5lciIsInRoaXMiLCJxdWVyeVNlbGVjdG9yIiwiaW5pdCIsImJ0biIsImNvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIndpbmRvdyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2giLCJhcnJheSIsIm5ld0l0ZW0iLCJlbGVtQ29tcEZ1bmMiLCJmb3VuZEluZGV4IiwiZmluZEluZGV4IiwiYXJySXRlbSIsInNwbGljZSIsInB1c2giLCJhd2FpdFRyYW5zaXRpb24iLCJwcm9wTmFtZSIsImV2dCIsInByb3BlcnR5TmFtZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkFuc3dlclVJUGFuZWwiLCJtYWluRGl2IiwicmF0ZVBhbmVsIiwicmF0ZUJ0biIsInNraXBCdG4iLCJzY29yZVNsaWRlciIsInNjb3JlU2xpZGVySW5wdXQiLCJjdXJyUXVlc3Rpb25UZXh0IiwicHJldkFuc0RpdiIsInByZXZBbnNWYWwiLCJsb2FkZXIiLCJkZXRhaWxzIiwicU1vZGVEaXYiLCJkaXNwbGF5Q3VyclEiLCJuZXdRSW5mbyIsImluY2x1ZGVBbHJlYWR5QW5zd2VyZWQiLCJpbm5lckhUTUwiLCJjdXJyUVRleHQiLCJpbm5lclRleHQiLCJwcmV2U2NvcmUiLCJ2YWx1ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImVuZE9mUXVldWUiLCJwcmV2QW5zU2NvcmUiLCJjdXJyUUFucyIsInNraXAiLCJhbnN3ZXJWYWwiLCJRdWVzdGlvbnNNb2RlIiwiRXZlbnRUYXJnZXQiLCJhbnN3ZXJVaVBhbmVsIiwicXVlc3Rpb25zUXVldWUiLCJzdXBlciIsImFuc3dlclF1ZXN0aW9uIiwic2V0UmVjZW50QW5zd2VycyIsImFsbFJlY2VudEFuc3dlcnMiLCJfc2hvd0N1cnJRIiwiaW5jbEFscmVhZHlBbnN3ZXJlZCIsIm5ld0N1cnJRSW5mbyIsImdldEN1cnJRSW5mbyIsImdldEFuc3dlck9iaiIsImV2ZW50IiwiY3VyclF1ZXN0aW9uIiwidXNlclNraXBwZWQiLCJjdXJyZW50VGFyZ2V0IiwidGhpc1Njb3JlIiwiTnVtYmVyIiwicXVlc3Rpb25EZXRhaWxzIiwiX2dldFF1ZXN0aW9uRGV0YWlscyIsImFuc3dlckluZm8iLCJxdWVzdGlvbklkIiwiX2lkIiwicHJvcHNUb0lnbm9yZSIsImluY2x1ZGVzIiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwiZ2V0UUNhdGVnb3J5IiwicSIsIm9iakNhdFR5cGUiLCJvYmpDYXQiLCJjYXRlZ29yeVR5cGVOYW1lIiwiY2F0ZWdvcnlUeXBlIiwiY2F0ZWdvcnlOYW1lIiwiY2F0ZWdvcnkiLCJnZXRRSW5mbyIsImRldGFpbCIsImNhdFR5cGVOYW1lIiwiY2F0TmFtZSIsImluZm8iLCJpbWdQYXRoIiwicG9zdGVyUGF0aCIsInFEaXNwbGF5VGV4dCIsInRpdGxlIiwiZ2V0RGlzcGxheVJlbGVhc2VEYXRlIiwicmVsZWFzZURhdGUiLCJxU291cmNlRGlzcGxheVRleHQiLCJpbWdQbGFjZUhvbGRlclR4dCIsImltYWdlIiwidHJhY2tOYW1lIiwiYXJ0aXN0IiwiYWxidW0iLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJwbGF0Zm9ybXMiLCJhdXRob3IiLCJ0ZXh0Iiwic2hvcnRUZXh0IiwiY3JlYXRlUURvbUl0ZW0iLCJuZXdEb21RIiwiY3JlYXRlRWxlbWVudCIsImRvbUltZyIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwibm9JbWdEaXYiLCJub0ltZ1RleHQiLCJwbGFjZWhvbGRlclRleHQiLCJwcmV2aWV3VXJsIiwiZG9tTXVzaWNQbGF5ZXIiLCJEb21RdWV1ZSIsIl9xdWV1ZSIsInFNb2RlTWFpbkRpdiIsIl9kZWxldGVEb21RIiwiYWRkVG9RdWV1ZSIsInFzIiwicmVtb3ZlUXVldWVJdGVtIiwiaWR4IiwiZG9UcmFucyIsImhhc0NoaWxkTm9kZXMiLCJjb250YWlucyIsInJlbW92ZUNoaWxkIiwiY2hpbGRyZW4iLCJyZXNldFF1ZXVlIiwiQmFzZVF1ZXN0aW9uc1F1ZXVlIiwiX2NhdGVnb3J5VHlwZU5hbWUiLCJfY2F0ZWdvcnlOYW1lIiwicXVldWUiLCJxdWV1ZVR5cGUiLCJfZG9tUXVldWUiLCJfcXVldWVQcmV2UXMiLCJsZW5ndGgiLCJfZ2V0RW5kUXVldWVNc2ciLCJjdXJyUSIsImN1cnJBbnMiLCJlbmRRdWV1ZU1zZyIsInRoaXNRdWV1ZUl0ZW0iLCJfYWRkVG9RdWV1ZSIsImNvbmNhdCIsIl9yZXNldFF1ZXVlIiwic2F2ZVByZXZRIiwicUlkIiwiU2luZ2xlRG9tUXVldWUiLCJTaW5nbGVRdWVzdGlvblF1ZXVlIiwidXBkYXRlIiwicXVlc3Rpb24iLCJDZW50cmVNb2RhbCIsIndyYXBwZXIiLCJjbG9zZU1vZGFsRWxlbXMiLCJjbG9zZU1vZGFsRWxlbSIsImhpZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJzaG93IiwiU2luZ2xlQW5zd2VyTW9kZSIsIm5hbWUiLCJfcVNvdXJjZSIsIl9hbnN3ZXJVaU1vZGFsIiwicVNvdXJjZSIsIm1vZGFsV3JhcHBlciIsIl9oYW5kbGVDbGlja1NpbmdsZVEiLCJhbnN3ZXJPYmoiLCJDdXN0b21FdmVudCIsInRoaXNRSXRlbSIsInRoaXNRdWVzdGlvbiIsIl9tYWtlUXVlc3Rpb24iLCJTaW5nbGVNb2RlUVNvdXJjZSIsIl9saXN0RGl2IiwiX2NvbnRlbnREaXYiLCJfcURpdkNsYXNzIiwibGlzdERpdiIsIl9jcmVhdGVRRGl2IiwicVNvdXJjZUl0ZW0iLCJxVGV4dCIsIl9jcmVhdGVRVGV4dEVsZW0iLCJxU2NvcmUiLCJfY3JlYXRldFFTY29yZUVsZW0iLCJfc2V0dXBRSW1nIiwicUluZm8iLCJfYWRkVG9RRGl2IiwiX2hhbmRsZVJhdGVCdG5DbGljayIsIl9idWlsZENvbnRlbnREaXYiLCJxdWVzdGlvbnMiLCJfZ2V0U2NvcmVUZXh0IiwicUltZyIsImltZ1dyYXBwZXJEaXYiLCJpbnNlcnRCZWZvcmUiLCJob3ZlckRpdiIsImhvdmVyVHh0IiwiX2dldEhvdmVyVGV4dCIsIkNhdGVnb3J5SW5mbyIsImNhdFR5cGVzIiwiY2F0SW5mbyIsImRiQ2F0VHlwZXMiLCJjYXRUeXBlIiwiY2F0IiwiY2F0ZWdvcmllcyIsImlzUmVjRGF0YSIsImlzUmVjb21tZW5kYWJsZSIsImNoZWNrQW5kQWRkQ2F0ZWdvcnlXaXRoVHlwZSIsImRhdGEiLCJjYXRPclR5cGVFeGlzdHMiLCJfZG9lc0NhdGVnb3J5T3JUeXBlRXhpc3QiLCJfYWRkVHlwZUFuZENhdGVnb3J5IiwiX2FkZENhdGVnb3J5IiwiY2xvbmVXaXRoRGF0YSIsImdldERhdGFGdW5jIiwiYXJncyIsIm5ld0NhdEluZm8iLCJhbGxDYXRlZ29yaWVzV2l0aFR5cGVzIiwiZ2V0QWxsQ2F0ZWdvcmllcyIsImNhdGVnb3J5V2l0aFR5cGUiLCJpbmNsRGF0YSIsImFsbFVuaXF1ZUNhdGVnb3JpZXMiLCJ0aGlzQ2F0QW5kVHlwZSIsImNhdERhdGEiLCJfc2V0RGF0YSIsIkNhdGVnb3J5Q2hlY2tib3hlcyIsImNhdGVnb3J5SW5mbyIsImNhdGVnb3J5Q2hlY2tib3hlcyIsImdldFNlbGVjdGVkQ2F0ZWdvcnlJbmZvIiwic2VsZWN0ZWRDYXRlZ29yeUluZm8iLCJjaGVja2JveCIsImNoZWNrZWQiLCJjYXRUeXBlQW5kQ2F0IiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJnZXROdW1TZWxlY3RlZCIsIkFycmF5IiwiZnJvbSIsInJlZHVjZSIsInRvdCIsImN1cnIiLCJraW5kcmVkUmVjc01peGluIiwiX3JlYnVpbGRDb250ZW50RGl2IiwiX2NsZWFyQ29udGVudERpdiIsInJlcGxhY2VDaGlsZHJlbiIsIl9zaG93TG9hZGVyIiwiX2xvYWRlciIsIl9oaWRlTG9hZGVyIiwibG9hZGVyU2hvd24iLCJfZ2V0VXBkYXRlZFNvdXJjZURhdGEiLCJ2YWxpZGF0ZUhhbmRsZVVwZGF0ZSIsInNjcm9sbEVsZW0iLCJmYWlsVmFsaWRhdGVNc2ciLCJfdmFsaWRhdGVTZWxlY3Rpb25zIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImhhbmRsZVVwZGF0ZUJ0bkNsaWNrIiwiYWxlcnQiLCJSZWNzUVNvdXJjZSIsInN0YXRpYyIsInJlY3NGb3JEaXYiLCJiYXNlZE9uRGl2IiwicmVjRm9yQ2hlY2tib3hlc0FyciIsImJhc2VkT25DaGVja2JveGVzQXJyIiwicmVjc0luZm8iLCJudW1LaW5kcmVkIiwicmVjb21tZW5kTGlzdCIsIm1zZ0luZm8iLCJub1JlY3NNc2dEaXYiLCJub1JlY3NIZWFkZXIiLCJub1JlY3NUeHQiLCJudW1CYXNlZE9uQ2F0cyIsIm51bVJlY0NhdHMiLCJjYXRUeXBlVGV4dCIsImNhdFRleHQiLCJhbGxDYXRlZ29yeUluZm8iLCJyZWNvbW1lbmRhdGlvbnNGb3IiLCJiYXNlZE9uIiwiZmV0Y2hSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwianNvbiIsInBhcmVudE5vZGUiLCJyZW1vdmVBbnN3ZXJlZFEiLCJyZWMiLCJyYXRpbmciLCJzdHJlbmd0aCIsInRvRml4ZWQiLCJnZXRSZWNzIiwiYXNzaWduIiwiUU1vZGVXaXRoUXVldWVJbnB1dCIsInF1ZXVlSW5wdXRQYW5lbCIsImNoZWNrRm9yT3V0ZGF0ZWRRcyIsImluY2x1ZGVBbHJlYWR5QW5zd2VyZWRDaGVja2JveCIsImlzTmV3UXVldWUiLCJzaG93TG9hZGVyIiwidXBkYXRlUXVldWUiLCJoaWRlTG9hZGVyIiwiUXVlc3Rpb25zUGFnZSIsInF1ZXN0aW9uc01vZGVzIiwicU1vZGVTd2l0Y2hlciIsImN1cnJRdWVzdGlvbk1vZGUiLCJub3RZZXRQb3N0ZWRBbnN3ZXJzIiwicU1vZGVzIiwicU1vZGUiLCJfcG9zdEFuc3dlcnMiLCJzZXRJbnRlcnZhbCIsIl9oYW5kbGVOZXdBbnN3ZXIiLCJtb2RlQnRuTGluayIsInFNb2RlQnRuIiwibW9kZSIsInN3aXRjaFFNb2RlIiwiX3VwZGF0ZUFuc0FycmF5V2l0aEFucyIsIl9zZXRSZWNlbnRBbnN3ZXJzIiwicmVtb3ZlUW1vZGUiLCJuZXdRTW9kZSIsInVwZGF0ZVF1ZXVlQW5kU2hvd0ZpcnN0Iiwib3JpZ0Fuc0FycmF5IiwibmV3QW5zIiwic2V0UU1vZGUiLCJyZXNldEFuc3dlcnMiLCJjbGVhclJlY2VudGx5UG9zdGVkQW5zd2VycyIsInN1Y2Nlc3NQb3N0ZWRBbnN3ZXJzIiwic3VjY2Vzc1Bvc3RlZEFuc3dlciIsImdldEZpbmRJbmRleCIsInVwZGF0ZUFuc3dlcnNBcnJheSIsImFucyIsImlzTWF0Y2giLCJwcm9wc1RvQ2hlY2siLCJpc0NoYW5nZU9mUGFnZSIsInBvc3RSb3V0ZSIsImFuc3dlcnNUb1Bvc3QiLCJwb3N0T2JqIiwidHlwZSIsImtlZXBhbGl2ZSIsInNsaWNlIiwiY2F0ZWdvcmllc0Fuc3dlcnMiLCJhbnN3ZXIiLCJ0aGlzQW5zQ2F0VHlwZSIsInRoaXNBbnNDYXQiLCJmb3VuZENhdGVnb3J5SWR4IiwibGlzdCIsImNhdFR5cGVNYXRjaCIsImNhdE1hdGNoIiwiZm9ybWF0dGVkQW5zIiwiZm9ybWF0QW5zd2VyIiwiYW5zd2VycyIsIm5ld0NhdGVnb3J5Iiwic2luZ2xlQW5zd2VyUU1vZGVEaXYiLCJyZWNvbW1lbmRhdGlvbnNMaXN0RGl2IiwicmVjb21tZW5kYXRpb25zTGlzdCIsInJlY29tbWVuZGF0aW9uc01vZGUiLCJxSXRlbSIsInRoaXNRIiwicXVlc3Rpb25zUGFnZSIsIm9ubG9hZCJdLCJzb3VyY2VSb290IjoiIn0=