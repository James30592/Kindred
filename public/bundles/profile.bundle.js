(()=>{"use strict";var t={733:(t,e,s)=>{s.d(e,{Yi:()=>a,_5:()=>r});var n=s(922);async function r(t){!function(t){t.classList.remove("fully-hidden"),setTimeout((()=>t.classList.remove("transparent")),10)}(t),await async function(t){await(0,n.hk)(t,"opacity")}(t)}async function a(t){!function(t){t.classList.add("transparent")}(t),await async function(t){await(0,n.hk)(t,"opacity"),t.classList.add("fully-hidden")}(t)}},300:(t,e,s)=>{var n=s(733);class r{#t;#e;constructor(t){this.#t=t.querySelector(".pop-btn"),this.#e=t.querySelector(".pop-btn-content")}init(){this.#s(this.#t,this.#e)}#s(t,e){t.addEventListener("click",(()=>{this.#n(t,e)}),{once:!0})}async#n(t,e){await(0,n._5)(e),window.addEventListener("click",(async()=>{await(0,n.Yi)(e),this.#s(t,e)}),{once:!0})}}document.querySelectorAll(".pop-btn-container").forEach((t=>{new r(t).init()}))},922:(t,e,s)=>{function n(t=0,e=1,s=!1){const n=e-t,r=Math.random()*n+t;return s?Math.floor(r):r}function r(t){return Math.random()<=t}function a(t,e=null){return new Promise((s=>{t.addEventListener("transitionend",(async n=>{e?(n.propertyName===e||await a(t,e),s()):s()}),{once:!0})}))}s.d(e,{PO:()=>r,hk:()=>a,wT:()=>n})}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,s),a.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{class t{x;y;constructor(t,e){this.x=t,this.y=e}getTxt(){return`${this.x}, ${this.y}`}getReverse(){return new t(-this.x,-this.y)}vectorTo(e){return new t(e.x-this.x,e.y-this.y)}vectorFrom(e){return new t(this.x-e.x,this.y-e.y)}addVector(e){return new t(this.x+e.x,this.y+e.y)}getScaledVector(e){return new t(this.x*e,this.y*e)}getUnitVector(){const e=this.getMag();return new t(this.x/e,this.y/e)}getMag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}getRotatedVector(e,s=new t(0,0)){const n=new t(this.x,this.y),r=Math.sin(e),a=Math.cos(e);n.x-=s.x,n.y-=s.y;const i=n.y*r+n.x*a,o=n.y*a-n.x*r;return n.x=i+s.x,n.y=o+s.y,n}}var e=s(922);function n(t){const e=t.getTotalLength();t.setAttribute("stroke-dasharray",e),t.setAttribute("stroke-dashoffset",e),setTimeout((()=>{t.classList.add("draw-svg-path"),t.setAttribute("stroke-dashoffset",0)}),0)}async function r(t){let s=new Promise((t=>t()));for(let r of t)r.classList.remove("hidden"),n(r),s=(0,e.hk)(r,"stroke-dashoffset");await s}class a{#r;#a;#i;#o;pathElem;ctrlPt1;ctrlPt2;constructor(t,e,s){this.#r=t,this.#a=e,this.#o=s}_getContinuingCtrlPt1(t,e){const s=e.vectorTo(t).getRotatedVector(Math.PI);return e.addVector(s)}_getRandVect(t,s,n,r){const a=(0,e.wT)(r.minAngleDiff,r.maxAngleDiff)*t,i=s.getRotatedVector(a),o=n*(0,e.wT)(r.minMagFact,r.maxMagFact);return i.getScaledVector(o)}setDVal(){this.#i=`M ${this.#r.getTxt()} \n    C ${this.ctrlPt1.getTxt()} ${this.ctrlPt2.getTxt()} ${this.#a.getTxt()}`}createPathElem(){const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.#i),t.dataset.subDrawIdx=this.#o,this.pathElem=t,this.pathElem}}class i extends a{rotDirToSegVect;static#h={minAngleDiff:Math.PI/180*25,maxAngleDiff:Math.PI/180*25,minMagFact:.3,maxMagFact:.3};getCtrlPts(t,e,s,n,r,a){this.ctrlPt1=this.#c(t,e,s,r,a),this.ctrlPt2=this.#d(n,r,e)}#c(t,s,n,r,a){let o;if(0===t){this.rotDirToSegVect=(0,e.PO)(.5)?1:-1;const t=i.#h,a=this._getRandVect(this.rotDirToSegVect,r,s,t);o=n.addVector(a)}else{this.rotDirToSegVect=-a.corePath.rotDirToSegVect;const t=a.corePath.ctrlPt2;o=this._getContinuingCtrlPt1(t,n)}return o}#d(t,e,s){const n=i.#h,r=e.getReverse(),a=this._getRandVect(-this.rotDirToSegVect,r,s,n);return t.addVector(a)}}class o extends a{#l;rotDirToCorePath;insideCore;static#g={minAngleDiff:Math.PI/180*10,maxAngleDiff:Math.PI/180*20,minMagFact:.3,maxMagFact:.4};static#P={minAngleDiff:Math.PI/180*5,maxAngleDiff:Math.PI/180*30,minMagFact:.2,maxMagFact:.6};static#m=1;static#u={minAngleDiff:Math.PI/180*70,maxAngleDiff:Math.PI/180*90,minMagFact:.25,maxMagFact:.36};constructor(t,e,s,n){super(t,e,s),this.#l=n}getCtrlPts(t,e,s,n,r,a,i){this.ctrlPt1=this.#c(t,n,e,a),this.ctrlPt2=this.#d(s,r,t,a,i)}#c(t,e,s,n){let r;if(e?.hasPattern){const t=e.extraPaths[this.#l];this.insideCore=t.insideCore,this.rotDirToCorePath=-t.rotDirToCorePath;const n=t.ctrlPt2;r=this._getContinuingCtrlPt1(n,s)}else{this.rotDirToCorePath=1===this.#l?1:-1;const e=n.rotDirToSegVect!==this.rotDirToCorePath;this.insideCore=e;const a=e?o.#P:o.#g,i=s.vectorTo(n.ctrlPt1).getUnitVector(),h=this._getRandVect(this.rotDirToCorePath,i,t,a);r=s.addVector(h)}return r}#d(t,e,s,n,r){let a;const i=t.vectorTo(n.ctrlPt2).getUnitVector();let h=this.insideCore?o.#P:o.#g;this.#p(e,r)&&(h=o.#u);const c=this._getRandVect(-this.rotDirToCorePath,i,s,h);return a=t.addVector(c),a}#p(t,s){let n=0;return t?.hasPattern&&(n=s?1:this.insideCore?o.#m:0),(0,e.PO)(n)}}class h{#f;#r;#a;#C;#w;#E;extraPathsBothEndsPerp=!1;hasPattern;corePath;extraPaths=[];allPaths=[];static#D=.4;constructor(t,e,s,n){this.#f=t,this.hasPattern=e,this.#r=s,this.#a=n,this.#C=this.#r.vectorTo(this.#a),this.#w=this.#C.getUnitVector(),this.#E=this.#C.getMag()}setCorePath(t){this.corePath=new i(this.#r,this.#a,this.#f),this.corePath.getCtrlPts(this.#f,this.#E,this.#r,this.#a,this.#w,t)}setExtraPaths(t,s){if(!this.hasPattern)return;const n=t?.extraPathsBothEndsPerp;this.extraPathsBothEndsPerp=!n&&(0,e.PO)(h.#D);for(let e=0;e<2;e++)this.extraPaths[e]=new o(this.#r,this.#a,this.#f,e),this.extraPaths[e].getCtrlPts(this.#E,this.#r,this.#a,t,s,this.corePath,this.extraPathsBothEndsPerp)}setAllPaths(){this.allPaths.push(this.corePath),this.allPaths.push(...this.extraPaths)}setPathDVals(){this.allPaths.forEach((t=>{t.setDVal()}))}createPathElems(){const t=[];return this.allPaths.forEach((e=>{t.push(e.createPathElem())})),t}}class c extends EventTarget{startId;#I;pathElems=[];#_;#S;#C;#V;#x;#T;#M;#A;#R;#v;#y;#N=!1;static#O=9;static#L=.02;static#b=.01;constructor(e){super(),this.startId=e.elemIds[0],this.#I=e.elemIds[1],this.#_=e.coords[0],this.#S=e.coords[1],this.#C=this.#_.vectorTo(this.#S),this.#V=this.#C.getMag();const s=(window.innerWidth+window.innerHeight)/2;this.#v=c.#O/100*s,this.#M=Math.round(this.#V/this.#v),this.#A=.4,this.#R=.9;const n=this.#C.x/this.#M,r=this.#C.y/this.#M;this.#x=new t(n,r);const a=this.#C.getRotatedVector(Math.PI/2);this.#T=a.getUnitVector()}async draw(){if(!this.#N){this.#N=!0;for(let t of this.#y){const e=t.allPaths.map((t=>t.pathElem));await r(e)}this.dispatchEvent(new CustomEvent("connectionDrawn",{detail:{endId:this.#I}}))}}hidePaths(){this.pathElems.forEach((t=>{t.classList.add("hidden")}))}createPaths(){const t=this.#k(),e=this.#B();this.#y=this.#U(e,t),this.#F(this.#y),this.#$(this.#y)}#$(t){t.forEach((t=>{this.pathElems.push(...t.createPathElems())}))}#F(t){[(t,e)=>t.setCorePath(e),(t,e,s)=>t.setExtraPaths(e,s),t=>t.setAllPaths(),t=>t.setPathDVals()].forEach((e=>{this.#q(t,e)}))}#q(t,e){t.forEach(((s,n)=>{const r=t[n-1],a=t[n+1];e(s,r,a)}))}#U(t,e){const s=[];for(let n=0;n<t.length;n++){const r=1===t[n],a=e[n],i=e[n+1],o=new h(n,r,a,i);s.push(o)}return s}#B(){const t=Array.from("g".repeat(this.#M));for(let n=0;n<this.#M;n++){let r=this.#A;const[a,i]=[t[n-1],t[n-2]],o=!!i&&"g"!==i;if(a&&"g"!==a)if(o){const e=s(n,t);r*=Math.pow(this.#R,e)}else r=1;else n===this.#M-1&&(r=0);const h=(0,e.PO)(r)?1:"g";t[n]=h}return t;function s(t,e){let s=1,n=t-2;for(;n>=0&&"g"!==e[n];)s++,n--;return s}}#k(){let t=this.#J();return t=this.#j(t),t.splice(0,0,this.#_),t.push(this.#S),t}#J(){const e=[];for(let s=1;s<this.#M;s++){const n=this.#_.x+this.#x.x*s,r=this.#_.y+this.#x.y*s;e.push(new t(n,r))}return e}#j(t){for(let s=0;s<t.length;s++){const n=t[s],r=(0,e.wT)(-c.#L,c.#L),a=(0,e.wT)(-c.#b,c.#b),i=this.#x.getScaledVector(r),o=this.#T.getScaledVector(this.#V*a),h=n.addVector(i).addVector(o);t[s]=h}return t}}s(300);const d=document.querySelectorAll(".connect-elem"),l=new class{#z;#H=[];#G;constructor(t){this.#z=t}createAndDraw(){this.#X(this.#z),this.#Y()}#Y(){this.#H.forEach((t=>{t.hidePaths(),t.addEventListener("connectionDrawn",(t=>{this.#W(t.detail.endId)}))})),this.#W(this.#G)}#W(t){this.#H.forEach((e=>{e.startId===t&&e.draw()}))}#X(e){const s=document.querySelector(".svg-connects-wrapper"),n=s.getBoundingClientRect(),r=s.querySelector('[data-draw-origin="true"');this.#G=r.dataset.connectId;const a=new t(n.left,n.top),i=n.width,o=n.height,h=this.#K(e,a),c=this.#Q(h),d=document.createElementNS("http://www.w3.org/2000/svg","svg");return d.classList.add("connections-svg"),d.setAttribute("viewBox",`0 0 ${i} ${o}`),d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("alt",""),this.#Z(c),this.#tt(d),s.appendChild(d),d}#tt(t){this.#H.forEach((e=>{t.append(...e.pathElems)}))}#Z(t){t.forEach((t=>{const e=new c(t);e.createPaths(),this.#H.push(e)}))}#Q(t){const e=[];return t.forEach((s=>{s?.connectsTo?.forEach((n=>{const r=s.posn,a=t.find((t=>t.elemId===n)),i={coords:[r,a.posn],elemIds:[s.elemId,n]};e.push(i)}))})),e}#K(t,e){const s=[];return t.forEach((t=>{const n={},r=t.getBoundingClientRect(),a=window.getComputedStyle(t,":after"),i=this.#et(r,a,e),o=t.dataset.connectId;n.elemId=o,n.posn=i,n.connectsTo=t.dataset?.connectsTo?.split(","),s.push(n)})),s}#et(e,s,n){const r=e.left-n.x+parseInt(s.left,10),a=e.top-n.y+parseInt(s.top,10);return new t(r,a)}}(d);window.addEventListener("load",(()=>{l.createAndDraw()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RkYsQ0FBQzBFLEVBRExFLEVBQWVELE1BR2M1RSxRQUQvQixDQUFDeEssRUFBS3VQLE9BQVEzQixJQUc5QmlCLEVBQWdCOUUsS0FBS1EsRUFBZSxHQUNwQyxJQUdHc0UsQ0FDVCxDQUdBLEdBQXVCZCxFQUFPTSxHQUM1QixNQUFNWSxFQUFvQixHQWlCMUIsT0FmQWxCLEVBQU14TSxTQUFRdkIsSUFDWixNQUFNd1AsRUFBYyxDQUFDLEVBRWZDLEVBQWV6UCxFQUFLa08sd0JBQ3BCd0IsRUFBa0J0TyxPQUFPdU8saUJBQWlCM1AsRUFBTSxVQUNoRDRQLEVBQWEvTyxNQUFLLEdBQWU0TyxFQUFjQyxFQUFpQnJCLEdBRWhFd0IsRUFBZ0I3UCxFQUFLNEgsUUFBUXdHLFVBQ25Db0IsRUFBWUQsT0FBU00sRUFDckJMLEVBQVlKLEtBQU9RLEVBQ25CSixFQUFZTixXQUFhbFAsRUFBSzRILFNBQVNzSCxZQUFZWSxNQUFNLEtBRXpEYixFQUFrQmxGLEtBQUt5RixFQUFZLElBRzlCUCxDQUNULENBR0EsSUFBZWMsRUFBVUwsRUFBaUJyQixHQUN4QyxNQUFNcEIsRUFBUzhDLEVBQVN6QixLQUFPRCxFQUFhdEssRUFBSWlNLFNBQVNOLEVBQWdCcEIsS0FBTSxJQUN6RXBCLEVBQVM2QyxFQUFTeEIsSUFBTUYsRUFBYXJLLEVBQUlnTSxTQUFTTixFQUFnQm5CLElBQUssSUFHN0UsT0FGc0IsSUFBSXpLLEVBQVFtSixFQUFRQyxFQUc1QyxHRDlJd0NPLEdBRTFDck0sT0FBT0YsaUJBQWlCLFFBQVEsS0FDOUJ3TSxFQUFlQyxlQUFlLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvZmFkZVRyYW5zaXRpb25zLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvcG9wQnRucy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9zaGFyZWRKcy91dGlscy5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9raW5kcmVkL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9raW5kcmVkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL3ZlY3RvcjIubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvbW9kdWxlcy9kcmF3U3Zncy9kcmF3QW5pbVN2Z3MuanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2RyYXdTdmdzL2Nvbm5lY3Rpb25zU3ZnL2Nvbm5lY3RTdWJQYXRoL2Nvbm5lY3RTdWJQYXRoLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvZHJhd1N2Z3MvY29ubmVjdGlvbnNTdmcvY29ubmVjdFN1YlBhdGgvc3ViQ2xhc3Nlcy9jb3JlUGF0aC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2RyYXdTdmdzL2Nvbm5lY3Rpb25zU3ZnL2Nvbm5lY3RTdWJQYXRoL3N1YkNsYXNzZXMvZXh0cmFQYXRoLm1qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvZHJhd1N2Z3MvY29ubmVjdGlvbnNTdmcvc2VnbWVudC5tanMiLCJ3ZWJwYWNrOi8va2luZHJlZC8uL3NyYy9qcy9tb2R1bGVzL2RyYXdTdmdzL2Nvbm5lY3Rpb25zU3ZnL3NpbmdsZUNvbm5lY3Rpb24ubWpzIiwid2VicGFjazovL2tpbmRyZWQvLi9zcmMvanMvcGFnZXMvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly9raW5kcmVkLy4vc3JjL2pzL21vZHVsZXMvZHJhd1N2Z3MvY29ubmVjdGlvbnNTdmcvY29ubmVjdGlvbnNTdmcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEhlbHBlciBmdW5jdGlvbnMgdG8gYXNzaXN0IHdpdGggZmFkaW5nIGluIC8gb3V0IERPTSBlbGVtZW50cy5cclxuaW1wb3J0IHsgYXdhaXRUcmFuc2l0aW9uIH0gZnJvbSBcIi4uLy4uL3NoYXJlZEpzL3V0aWxzLm1qc1wiO1xyXG5cclxuXHJcblxyXG4vLyBGYWRlIHRyYW5zaXRpb24gaGVscGVyIGZ1bmN0aW9ucywgdXNlZCB3aXRoIHRyYW5zcGFyZW50LCBmdWxseS1oaWRkZW4gYW5kIFxyXG4vLyBmYWRlLXRyYW5zIGNzcyBjbGFzc2VzLlxyXG4vLyBNYWtlcyBkaXNwbGF5IHByb3BlcnR5IHZpc2libGUgYW5kIHRoZW4gcmVtb3ZlcyB0cmFuc3BhcmVuY3kuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWRlSW4oZWxlbSkge1xyXG4gIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImZ1bGx5LWhpZGRlblwiKTtcclxuICBzZXRUaW1lb3V0KCgpID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcInRyYW5zcGFyZW50XCIpLCAxMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5pc2hGYWRlSW4oZWxlbSkge1xyXG4gIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBcIm9wYWNpdHlcIik7XHJcbn1cclxuXHJcbi8vIEZpbmlzaGVzIHdoZW4gZmFkZSBpbiBpcyBjb21wbGV0ZWQuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmdWxseUZhZGVJbihlbGVtKSB7XHJcbiAgZmFkZUluKGVsZW0pO1xyXG4gIGF3YWl0IGZpbmlzaEZhZGVJbihlbGVtKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQoZWxlbSkge1xyXG4gIGVsZW0uY2xhc3NMaXN0LmFkZChcInRyYW5zcGFyZW50XCIpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBvcGFjaXR5IHRyYW5zaXRpb24gb24gdGhlIFxyXG4vLyBnaXZlbiBlbGVtZW50IGlzIGNvbXBsZXRlZC4gQWxzbyBmdWxseSBoaWRlcyB0aGUgZWxlbWVudC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmlzaEZhZGVPdXQoZWxlbSkge1xyXG4gIGF3YWl0IGF3YWl0VHJhbnNpdGlvbihlbGVtLCBcIm9wYWNpdHlcIik7XHJcbiAgZWxlbS5jbGFzc0xpc3QuYWRkKFwiZnVsbHktaGlkZGVuXCIpO1xyXG59XHJcblxyXG4vLyBGYWRlIG91dCBhbmQgZnVsbHkgaGlkZSB0aGUgZ2l2ZW4gZWxlbWVudC5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZ1bGx5RmFkZU91dChlbGVtKSB7XHJcbiAgZmFkZU91dChlbGVtKTtcclxuICBhd2FpdCBmaW5pc2hGYWRlT3V0KGVsZW0pO1xyXG59XHJcblxyXG4vLyBGYWRlcyBvdXQgZWxlbTEgYW5kIGZhZGVzIGluIGVsZW0yIG9uY2UgdHJhbnNpdGlvbiBjb21wbGV0ZWQsIGRvZXNuJ3QgZmluaXNoIFxyXG4vLyB1bnRpbCBlbGVtMiBmdWxseSBmYWRlZCBpbi4gUmV0dXJucyBwcm9taXNlLlxyXG5leHBvcnQgZnVuY3Rpb24gZmFkZUZyb21UbyhlbGVtMSwgZWxlbTIpIHtcclxuICBjb25zdCBmYWRlQ29tcGxldGVQcm9taXNlID0gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICBhd2FpdCBmdWxseUZhZGVPdXQoZWxlbTEpO1xyXG4gICAgYXdhaXQgZnVsbHlGYWRlSW4oZWxlbTIpO1xyXG4gICAgcmVzb2x2ZSgpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZmFkZUNvbXBsZXRlUHJvbWlzZTtcclxufSIsImltcG9ydCB7IGZ1bGx5RmFkZUluLCBmdWxseUZhZGVPdXQgfSBmcm9tIFwiLi9mYWRlVHJhbnNpdGlvbnMubWpzXCI7XHJcblxyXG5cclxuXHJcbi8vIEJ0biB3aXRoIGFzc29jaWF0ZWQgY29udGVudC4gQ29udGVudCBmYWRlcyBpbiB3aGVuIGJ1dHRvbiBpcyBjbGlja2VkIGFuZCBcclxuLy8gZmFkZXMgb3V0IHdoZW4gYW55dGhpbmcgaXMgY2xpY2tlZC4gVXNlZCBieSBpbmZvIGJ1dHRvbnMgYW5kIG5hdiBkcm9wZG93bi5cclxuY2xhc3MgUG9wQnRuIHtcclxuICAjYnRuO1xyXG4gICNjb250ZW50O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3BCdG5Db250YWluZXIpIHtcclxuICAgIHRoaXMuI2J0biA9IHBvcEJ0bkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcC1idG5cIik7XHJcbiAgICB0aGlzLiNjb250ZW50ID0gcG9wQnRuQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wLWJ0bi1jb250ZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuI3NldHVwSW5mb0J0bkNsaWNrKHRoaXMuI2J0biwgdGhpcy4jY29udGVudCk7XHJcbiAgfVxyXG5cclxuICAjc2V0dXBJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KSB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy4jaGFuZGxlSW5mb0J0bkNsaWNrKGJ0biwgY29udGVudCk7XHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgI2hhbmRsZUluZm9CdG5DbGljayhidG4sIGNvbnRlbnQpIHtcclxuICAgIGF3YWl0IGZ1bGx5RmFkZUluKGNvbnRlbnQpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IGZ1bGx5RmFkZU91dChjb250ZW50KTtcclxuICAgICAgdGhpcy4jc2V0dXBJbmZvQnRuQ2xpY2soYnRuLCBjb250ZW50KTtcclxuICAgIH0sIHtvbmNlOiB0cnVlfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbml0cyBhbGwgcG9wIGJ0bnMgb24gYSBwYWdlLlxyXG5mdW5jdGlvbiBzZXR1cFBvcEJ0bnMoKSB7XHJcbiAgY29uc3QgcG9wQnRuQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wLWJ0bi1jb250YWluZXJcIik7XHJcbiAgXHJcbiAgcG9wQnRuQ29udGFpbmVycy5mb3JFYWNoKHBvcEJ0bkNvbnRhaW5lciA9PiB7XHJcbiAgICBjb25zdCBwb3BCdG4gPSBuZXcgUG9wQnRuKHBvcEJ0bkNvbnRhaW5lcik7XHJcbiAgICBwb3BCdG4uaW5pdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5zZXR1cFBvcEJ0bnMoKTsiLCIvLyBDbGFtcCBudW1iZXIgYmV0d2VlbiB0d28gdmFsdWVzLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xyXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKHN0YXJ0LCBlbmQsIHBycHJ0biA9IDAuNSkge1xyXG4gIHJldHVybiBzdGFydCArICgoZW5kIC0gc3RhcnQpICogcHJwcnRuKTtcclxufVxyXG5cclxuLy8gRm9yIGludHMsIGl0IGlzIGluY2x1c2l2ZSBvZiBzdGFydCBhbmQgbm90IGluY2x1c2l2ZSBvZiBlbmQuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kQmV0d2VlbihzdGFydCA9IDAsIGVuZCA9IDEsIGludHMgPSBmYWxzZSkge1xyXG4gIGNvbnN0IHJhbmdlID0gZW5kIC0gc3RhcnQ7XHJcbiAgY29uc3QgcmFuZEZsb2F0ID0gKE1hdGgucmFuZG9tKCkgKiByYW5nZSkgKyBzdGFydDtcclxuICByZXR1cm4gaW50cyA/IE1hdGguZmxvb3IocmFuZEZsb2F0KSA6IHJhbmRGbG9hdDtcclxufVxyXG5cclxuLy8gUHJvYmFiaWxpdHkgc2hvdWxkIGJlIGEgZGVjaW1hbCwgcmV0dXJucyB0cnVlIG9yIGZhbHNlLlxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdFJhbmRvbShwcm9iYWJpbGl0eSkge1xyXG4gIHJldHVybiAoTWF0aC5yYW5kb20oKSA8PSBwcm9iYWJpbGl0eSkgPyB0cnVlIDogZmFsc2U7XHJcbn1cclxuXHJcbi8vIFRha2VzIGEgbGlzdCBvZiBwcm9iIG9iamVjdHMgYXMgaW5wdXQgaW4gZm9ybWF0IHtuYW1lOiBuYW1lLCBwcm9iOiBwcm9ifSBhbmQgXHJcbi8vIHJldHVybnMgbmFtZSBvZiBjaG9zZW4gcHJvYk9iaiwgb3IgZmFsc2UgaWYgbm9uZSBjaG9zZW4gKGluIGNhc2UgdGhhdCBwcm9iT2JqcyBcclxuLy8gcHJvYnMgZG9udCBzdW0gdG8gMSkuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UmFuZE11bHQoLi4ucHJvYnMpIHtcclxuICBjb25zdCBwcm9ic09ianMgPSBbXTtcclxuICBsZXQgY3VyclByb2JTdGFydCA9IDA7XHJcblxyXG4gIHByb2JzLmZvckVhY2gocHJvYiA9PiB7XHJcbiAgICBjb25zdCB0aGlzUHJvYiA9IHtcclxuICAgICAgbmFtZTogcHJvYi5uYW1lLFxyXG4gICAgICBzdGFydDogY3VyclByb2JTdGFydCxcclxuICAgICAgZW5kOiBjdXJyUHJvYlN0YXJ0ICsgcHJvYi5wcm9iXHJcbiAgICB9O1xyXG5cclxuICAgIHByb2JzT2Jqcy5wdXNoKHRoaXNQcm9iKTtcclxuXHJcbiAgICBjdXJyUHJvYlN0YXJ0ICs9IHByb2I7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNob3NlblZhbCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgbGV0IHJldHVyblZhbCA9IGZhbHNlO1xyXG5cclxuICBwcm9ic09ianMuZm9yRWFjaChwcm9iID0+IHtcclxuICAgIGNvbnN0IGNob3NlblRoaXNQcm9iID0gcHJvYi5zdGFydCA8PSBjaG9zZW5WYWwgJiYgcHJvYi5lbmQgPiBjaG9zZW5WYWw7XHJcbiAgICBpZiAoY2hvc2VuVGhpc1Byb2IpIHtcclxuICAgICAgcmV0dXJuVmFsID0gcHJvYi5uYW1lO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHJldHVyblZhbDtcclxufVxyXG5cclxuLy8gU2VhcmNoZXMgZm9yIGEgbmV3SXRlbSBpbiBhbiBhcnJheSBnaXZlbiBhbiBlbGVtQ29tcEZ1bmMgdGhhdCBkZXRlcm1pbmVzIFxyXG4vLyB3aGV0aGVyIGl0IGlzIHByZXNlbnQgb3Igbm90IChlZy4gdG8gZmluZCBiYXNlZCBvbiBxdWVzdGlvbiBJRCkuIElmIHByZXNlbnQsIFxyXG4vLyBlbGVtZW50IGluIGFycmF5IGlzIG92ZXJ3cml0dGVuIHdpdGggbmV3SXRlbSwgb3RoZXJ3aXNlIG5ld0l0ZW0gaXMgcHVzaGVkIHRvIFxyXG4vLyBlbmQgb2YgYXJyYXkuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kQW5kT3ZlcndyaXRlRWxzZVB1c2goYXJyYXksIG5ld0l0ZW0sIGVsZW1Db21wRnVuYykge1xyXG4gIGNvbnN0IGZvdW5kSW5kZXggPSBhcnJheS5maW5kSW5kZXgoYXJySXRlbSA9PiBlbGVtQ29tcEZ1bmMoYXJySXRlbSwgbmV3SXRlbSkpO1xyXG5cclxuICAvLyBJZiBmb3VuZCwgb3ZlcndyaXRlLlxyXG4gIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcclxuICAgIGFycmF5LnNwbGljZShmb3VuZEluZGV4LCAxLCBuZXdJdGVtKTtcclxuICB9XHJcbiAgLy8gT3RoZXJ3aXNlIGFkZC5cclxuICBlbHNlIHtcclxuICAgIGFycmF5LnB1c2gobmV3SXRlbSk7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRyYW5zaXRpb24gb24gZ2l2ZW4gZWxlbWVudCBlbmRzLCBcclxuLy8gb3B0aW9uYWwgdHJhbnNpdGlvbiBwcm9wZXJ0eSBuYW1lIGNoZWNrLlxyXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRUcmFuc2l0aW9uKGVsZW0sIHByb3BOYW1lID0gbnVsbCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgYXN5bmMgZXZ0ID0+IHtcclxuXHJcbiAgICAgIGlmIChwcm9wTmFtZSkge1xyXG4gICAgICAgIGlmIChldnQucHJvcGVydHlOYW1lID09PSBwcm9wTmFtZSkge1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCBhd2FpdFRyYW5zaXRpb24oZWxlbSwgcHJvcE5hbWUpO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pO1xyXG4gIH0pXHJcbn1cclxuXHJcbi8vIEZvciB0ZXN0aW5nIGxvbmcgcnVubmluZyBmdW5jdGlvbnMuXHJcbi8vIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKSk7IC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIlxyXG5leHBvcnQgY2xhc3MgVmVjdG9yMiB7XHJcbiAgeDtcclxuICB5O1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gIH1cclxuXHJcbiAgZ2V0VHh0KCkge1xyXG4gICAgcmV0dXJuIGAke3RoaXMueH0sICR7dGhpcy55fWA7XHJcbiAgfVxyXG5cclxuICBnZXRSZXZlcnNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKC10aGlzLngsIC10aGlzLnkpO1xyXG4gIH1cclxuXHJcbiAgdmVjdG9yVG8ocmVsVmVjdCkge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHJlbFZlY3QueCAtIHRoaXMueCwgcmVsVmVjdC55IC0gdGhpcy55KTtcclxuICB9XHJcblxyXG4gIHZlY3RvckZyb20ocmVsVmVjdCkge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAtIHJlbFZlY3QueCwgdGhpcy55IC0gcmVsVmVjdC55KTtcclxuICB9XHJcblxyXG4gIGFkZFZlY3Rvcih2ZWN0b3IpIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2NhbGVkVmVjdG9yKHNjYWxlRmFjdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICogc2NhbGVGYWN0b3IsIHRoaXMueSAqIHNjYWxlRmFjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVuaXRWZWN0b3IoKSB7XHJcbiAgICBjb25zdCBtYWcgPSB0aGlzLmdldE1hZygpO1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAvIG1hZywgdGhpcy55IC8gbWFnKTtcclxuICB9XHJcblxyXG4gIGdldE1hZygpIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LCAyKSArIE1hdGgucG93KHRoaXMueSwgMikpO1xyXG4gIH1cclxuXHJcbiAgLy8gUG9zaXRpdmUgYW5nbGUgbWVhbnMgY2xvY2t3aXNlLCBuZWdhdGl2ZSBhbnRpY2xvY2t3aXNlLlxyXG4gIGdldFJvdGF0ZWRWZWN0b3IoYW5nbGUsIHJvdE9yaWdpbiA9IG5ldyBWZWN0b3IyKDAsIDApKSB7XHJcbiAgICBjb25zdCByb3RWZWMgPSBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcblxyXG4gICAgY29uc3Qgc2luQSA9IE1hdGguc2luKGFuZ2xlKTtcclxuICAgIGNvbnN0IGNvc0EgPSBNYXRoLmNvcyhhbmdsZSk7XHJcblxyXG4gICAgLy8gVHJhbnNsYXRlIHBvaW50IGJhY2sgdG8gb3JpZ2luLlxyXG4gICAgcm90VmVjLnggLT0gcm90T3JpZ2luLng7XHJcbiAgICByb3RWZWMueSAtPSByb3RPcmlnaW4ueTtcclxuXHJcbiAgICAvLyBSb3RhdGUgcG9pbnQuXHJcbiAgICBjb25zdCB4TmV3ID0gcm90VmVjLnkgKiBzaW5BICsgcm90VmVjLnggKiBjb3NBO1xyXG4gICAgY29uc3QgeU5ldyA9IHJvdFZlYy55ICogY29zQSAtIHJvdFZlYy54ICogc2luQTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgcG9pbnQgYmFjay5cclxuICAgIHJvdFZlYy54ID0geE5ldyArIHJvdE9yaWdpbi54O1xyXG4gICAgcm90VmVjLnkgPSB5TmV3ICsgcm90T3JpZ2luLnk7XHJcbiAgICByZXR1cm4gcm90VmVjO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGF3YWl0VHJhbnNpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9zaGFyZWRKcy91dGlscy5tanNcIjtcclxuXHJcblxyXG5cclxuLy8gY29uc3Qgc3Znc1RvRHJhdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJhdy1zdmdcIik7XHJcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiBkcmF3QW5pbVN2Z3Moc3Znc1RvRHJhdykpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdBbmltU3ZncyhzdmdzKSB7XHJcbiAgc3Zncy5mb3JFYWNoKHN2ZyA9PiBkcmF3QW5pbVN2ZyhzdmcpKTtcclxufVxyXG5cclxuLy8gQW5pbWF0ZSBkcmF3aW5nIG9mIGFuIFNWRyB1c2luZyBpdCdzIHBhdGhzLlxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0FuaW1Tdmcoc3ZnKSB7XHJcbiAgY29uc3Qgc3ZnUGF0aHMgPSBzdmcucXVlcnlTZWxlY3RvckFsbChcInBhdGhcIik7XHJcblxyXG4gIGZvciAobGV0IHBhdGggb2Ygc3ZnUGF0aHMpIHtcclxuICAgIGRyYXdBbmltUGF0aChwYXRoKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBBbmltYXRlZCBkcmF3IG9mIGEgc2luZ2xlIHBhdGggb2YgYW4gU1ZHLlxyXG5mdW5jdGlvbiBkcmF3QW5pbVBhdGgocGF0aCkge1xyXG4gIGNvbnN0IHBhdGhMZW5ndGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XHJcblxyXG4gIHBhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLCBwYXRoTGVuZ3RoKTtcclxuICBwYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsIHBhdGhMZW5ndGgpO1xyXG5cclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIHBhdGguY2xhc3NMaXN0LmFkZChcImRyYXctc3ZnLXBhdGhcIik7XHJcbiAgICBwYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNob2Zmc2V0XCIsIDApO1xyXG4gIH0sIDApO1xyXG59XHJcblxyXG4vLyBEcmF3cyBhbiBhcnJheSBvZiBwYXRocyBzaW11bHRhbmVvdXNseSBhbmQgcmV0dXJucyBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgXHJcbi8vIHdoZW4gYWxsIGRyYXduLlxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJhd1NpbXVsUGF0aHMocGF0aHMpIHtcclxuICBsZXQgcGF0aHNEcmF3biA9IG5ldyBQcm9taXNlKHJlcyA9PiByZXMoKSk7XHJcblxyXG4gIGZvciAobGV0IHBhdGggb2YgcGF0aHMpIHtcclxuICAgIHBhdGguY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIGRyYXdBbmltUGF0aChwYXRoKTtcclxuICAgIHBhdGhzRHJhd24gPSBhd2FpdFRyYW5zaXRpb24ocGF0aCwgXCJzdHJva2UtZGFzaG9mZnNldFwiKTtcclxuICB9O1xyXG5cclxuICBhd2FpdCBwYXRoc0RyYXduO1xyXG4gIHJldHVybjtcclxufVxyXG5cclxuLy8gVGhpcyBhbmQgYmVsb3cgdHdvIGZ1bmN0aW9ucyBub3QgdXNlZCBjdXJyZW50bHkgYXMgZGVjaWRlZCB0byB1c2UgYSBzdHlsZSBvZiBcclxuLy8gZHJhd2luZyB3aGVyZSBlYWNoIGNvbm5lY3Rpb24gaXMgZHJhd24gb25jZSBhIGNvbm5lY3Rpb24gaXMgZHJhd24gdG8gdGhhdCBcclxuLy8gZWxlbWVudCwgdGhpcyBpcyBkb25lIGluIHRoZSBDb25uZWN0aW9uc1N2ZyBjbGFzcy5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRyYXdJbk9yZGVyKHN2Zykge1xyXG4gIGNvbnN0IHN2Z1BhdGhzID0gQXJyYXkuZnJvbShzdmcuY2hpbGRyZW4pO1xyXG4gIHN2Z1BhdGhzLmZvckVhY2gocGF0aEVsZW0gPT4gcGF0aEVsZW0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcbiAgXHJcbiAgY29uc3QgcGF0aElkeEVsZW1zID0gZ2V0UGF0aElkeEVsZW1zKHN2Z1BhdGhzKTtcclxuXHJcbiAgZm9yIChsZXQgZHJhd0lkeCA9IDA7IGRyYXdJZHggPD0gcGF0aElkeEVsZW1zLm1heFBhdGhJZHg7IGRyYXdJZHgrKykge1xyXG4gICAgY29uc3QgcGF0aElkeE9iaiA9IHBhdGhJZHhFbGVtc1tkcmF3SWR4XTtcclxuXHJcbiAgICBmb3IgKGxldCBzdWJEcmF3SWR4ID0gMDsgc3ViRHJhd0lkeCA8PSBwYXRoSWR4T2JqLm1heFN1YlBhdGhJZHg7IHN1YkRyYXdJZHgrKykge1xyXG4gICAgICBjb25zdCBzdWJQYXRocyA9IHBhdGhJZHhPYmpbc3ViRHJhd0lkeF07XHJcblxyXG4gICAgICBhd2FpdCBkcmF3U3ViUGF0aHMoc3ViUGF0aHMsIGRyYXdJZHgsIHN1YkRyYXdJZHgpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBEcmF3cyB0aGUgcmVsZXZhbnQgc3ViIHBhdGhzIHdpdGggdGhlIGdpdmVuIGRyYXdJZHggYW5kIHN1YkRyYXdJZHggYW5kIFxyXG4vLyByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlc2Ugc3ViUGF0aHMgaGF2ZSBmaW5pc2hlZCBiZWluZyBkcmF3bi5cclxuYXN5bmMgZnVuY3Rpb24gZHJhd1N1YlBhdGhzKHBhdGhzKSB7XHJcbiAgbGV0IHBhdGhzRHJhd24gPSBuZXcgUHJvbWlzZShyZXMgPT4gcmVzKCkpO1xyXG5cclxuICBmb3IgKGxldCBwYXRoIG9mIHBhdGhzKSB7XHJcbiAgICBwYXRoLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICBkcmF3QW5pbVBhdGgocGF0aCk7XHJcbiAgICBwYXRoc0RyYXduID0gYXdhaXRUcmFuc2l0aW9uKHBhdGgsIFwic3Ryb2tlLWRhc2hvZmZzZXRcIik7XHJcbiAgfTtcclxuXHJcbiAgYXdhaXQgcGF0aHNEcmF3bjtcclxuICByZXR1cm47XHJcbn1cclxuXHJcbi8vIEJ1aWxkcyBhbiBvYmplY3Qgd2l0aCBrZXlzIG9mIGRyYXdJZHhzIGFuZCBzdWIga2V5cyBvZiBzdWJEcmF3SWR4cyBhbmQgXHJcbi8vIHByb3BlcnRpZXMgd2hpY2ggYXJlIGFycmF5cyBvZiBwYXRocyB3aXRoIHRoZXNlIGRyYXcgYW5kIHN1YkRyYXcgaWR4cy5cclxuZnVuY3Rpb24gZ2V0UGF0aElkeEVsZW1zKHBhdGhFbGVtcykge1xyXG4gIGNvbnN0IHBhdGhJZHhFbGVtcyA9IHttYXhQYXRoSWR4OiAwfTtcclxuXHJcbiAgZm9yIChsZXQgcGF0aEVsZW0gb2YgcGF0aEVsZW1zKSB7XHJcbiAgICBjb25zdCBwYXRoRHJhd0lkeCA9IE51bWJlcihwYXRoRWxlbS5kYXRhc2V0LmRyYXdJZHgpO1xyXG4gICAgY29uc3QgcGF0aFN1YkRyYXdJZHggPSBOdW1iZXIocGF0aEVsZW0uZGF0YXNldC5zdWJEcmF3SWR4KTtcclxuXHJcbiAgICBjb25zdCBwYXRoSWR4RXhpc3RzID0gT2JqZWN0Lmhhc093bihwYXRoSWR4RWxlbXMsIHBhdGhEcmF3SWR4KTtcclxuXHJcbiAgICBpZiAocGF0aElkeEV4aXN0cykge1xyXG4gICAgICBjb25zdCBzdWJQYXRoSWR4RXhpc3RzID0gT2JqZWN0Lmhhc093bihwYXRoSWR4RWxlbXNbcGF0aERyYXdJZHhdLCBwYXRoU3ViRHJhd0lkeCk7XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIHBhdGhFbGVtLlxyXG4gICAgICBpZiAoc3ViUGF0aElkeEV4aXN0cykge1xyXG4gICAgICAgIHBhdGhJZHhFbGVtc1twYXRoRHJhd0lkeF1bcGF0aFN1YkRyYXdJZHhdLnB1c2gocGF0aEVsZW0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEluY3JlYXNlIG1heFN1YlBhdGhJZHggaWYgbmVjZXNzYXJ5IGFuZCBhZGQgdGhlIHBhdGhFbGVtLlxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBuZXdNYXhTdWJJZHggPSBwYXRoU3ViRHJhd0lkeCA+IHBhdGhJZHhFbGVtc1twYXRoRHJhd0lkeF0ubWF4U3ViUGF0aElkeDtcclxuXHJcbiAgICAgICAgaWYgKG5ld01heFN1YklkeCkge1xyXG4gICAgICAgICAgcGF0aElkeEVsZW1zW3BhdGhEcmF3SWR4XS5tYXhTdWJQYXRoSWR4ID0gcGF0aFN1YkRyYXdJZHg7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcGF0aElkeEVsZW1zW3BhdGhEcmF3SWR4XVtwYXRoU3ViRHJhd0lkeF0gPSBbcGF0aEVsZW1dO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluY3JlYXNlIHRoZSBtYXhQYXRoSWR4IGlmIG5lY2Vzc2FyeSBhbmQgYWRkIHRoZSBwYXRoIGFuZCBzdWJQYXRoRWxlbS5cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXdNYXhQYXRoSWR4ID0gcGF0aERyYXdJZHggPiBwYXRoSWR4RWxlbXMubWF4UGF0aElkeDtcclxuXHJcbiAgICAgIGlmIChuZXdNYXhQYXRoSWR4KSB7XHJcbiAgICAgICAgcGF0aElkeEVsZW1zLm1heFBhdGhJZHggPSBwYXRoRHJhd0lkeDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHBhdGhJZHhFbGVtc1twYXRoRHJhd0lkeF0gPSB7XHJcbiAgICAgICAgbWF4U3ViUGF0aElkeDogcGF0aFN1YkRyYXdJZHgsXHJcbiAgICAgICAgW3BhdGhTdWJEcmF3SWR4XTogW3BhdGhFbGVtXVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gcGF0aElkeEVsZW1zO1xyXG59IiwiaW1wb3J0IHsgcmFuZEJldHdlZW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0U3ViUGF0aCB7XHJcbiAgI3N0YXJ0O1xyXG4gICNlbmQ7XHJcbiAgI2RWYWw7XHJcbiAgI3NlZ0lkeDtcclxuICBwYXRoRWxlbTtcclxuICBjdHJsUHQxO1xyXG4gIGN0cmxQdDI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNlZ1N0YXJ0LCBzZWdFbmQsIHNlZ0lkeCkge1xyXG4gICAgdGhpcy4jc3RhcnQgPSBzZWdTdGFydDtcclxuICAgIHRoaXMuI2VuZCA9IHNlZ0VuZDtcclxuICAgIHRoaXMuI3NlZ0lkeCA9IHNlZ0lkeDtcclxuICB9XHJcblxyXG4gIC8vIFVzZWQgYnkgY29yZSBhbmQgZXh0cmEgcGF0aHMgd2hlbiBmb2xsb3dpbmcgb24gZnJvbSBwcmV2aW91cyBjb3JlIC8gZXh0cmEgcGF0aHMuXHJcbiAgX2dldENvbnRpbnVpbmdDdHJsUHQxKHByZXZDdHJsUHQyLCBzZWdTdGFydCkge1xyXG4gICAgY29uc3Qgc2VnU3RhcnRUb1ByZXZDdHJsUHQyID0gc2VnU3RhcnQudmVjdG9yVG8ocHJldkN0cmxQdDIpO1xyXG5cclxuICAgIGNvbnN0IHNlZ1N0YXJ0VG9DdHJsUHQxID0gc2VnU3RhcnRUb1ByZXZDdHJsUHQyLmdldFJvdGF0ZWRWZWN0b3IoTWF0aC5QSSk7XHJcbiAgICBjb25zdCBjdHJsUHQxID0gc2VnU3RhcnQuYWRkVmVjdG9yKHNlZ1N0YXJ0VG9DdHJsUHQxKTtcclxuICAgIHJldHVybiBjdHJsUHQxO1xyXG4gIH1cclxuXHJcbiAgLy8gVGFrZXMgZGlyZWN0aW9uICgxIGZvciBjbG9ja3dpc2UsIC0xIGZvciBhbnRpY2xvY2t3aXNlKSwgdW5pdGRpcmVjdGlvbiB2ZWN0b3IsIFxyXG4gIC8vIG1hZ25pdHVkZSBhbmQgdGhlbiBtaW5zIGFuZCBtYXggZm9yIGFuZ2xlIGFuZCBzY2FsZSBmYWN0b3IgcmFuZG9taXNhdGlvbiByYW5nZXMuXHJcbiAgX2dldFJhbmRWZWN0KHJvdERpciwgZGlyVmVjdCwgc2VnVmVjdE1hZywgcmFuZExpbXMpIHtcclxuICAgIGNvbnN0IGFic0FuZ2xlID0gcmFuZEJldHdlZW4ocmFuZExpbXMubWluQW5nbGVEaWZmLCByYW5kTGltcy5tYXhBbmdsZURpZmYpO1xyXG4gICAgY29uc3QgYW5nbGUgPSBhYnNBbmdsZSAqIHJvdERpcjtcclxuICAgIGNvbnN0IHVuc2NhbGVkVmVjdCA9IGRpclZlY3QuZ2V0Um90YXRlZFZlY3RvcihhbmdsZSk7XHJcblxyXG4gICAgLy8gR2V0IHJhbmRvbSBwcm9wb3J0aW9uIG9mIHNlZ21lbnQgZGlzdGFuY2UuXHJcbiAgICBjb25zdCBzY2FsZUZhY3RvciA9IHJhbmRCZXR3ZWVuKHJhbmRMaW1zLm1pbk1hZ0ZhY3QsIHJhbmRMaW1zLm1heE1hZ0ZhY3QpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzY2FsZSA9IHNlZ1ZlY3RNYWcgKiBzY2FsZUZhY3RvcjtcclxuICAgIHJldHVybiB1bnNjYWxlZFZlY3QuZ2V0U2NhbGVkVmVjdG9yKHNjYWxlKTtcclxuICB9XHJcblxyXG4gIC8vIFNldHMgdGhlIGQgdmFsdWUgdG8gYmUgdXNlZCBieSBhbiBzdmcgaW1hZ2UuXHJcbiAgc2V0RFZhbCgpIHtcclxuICAgIHRoaXMuI2RWYWwgPSBgTSAke3RoaXMuI3N0YXJ0LmdldFR4dCgpfSBcclxuICAgIEMgJHt0aGlzLmN0cmxQdDEuZ2V0VHh0KCl9ICR7dGhpcy5jdHJsUHQyLmdldFR4dCgpfSAke3RoaXMuI2VuZC5nZXRUeHQoKX1gO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlUGF0aEVsZW0oKSB7XHJcbiAgICBjb25zdCB0aGlzUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKVxyXG4gICAgdGhpc1BhdGguc2V0QXR0cmlidXRlKFwiZFwiLCB0aGlzLiNkVmFsKTtcclxuICAgIHRoaXNQYXRoLmRhdGFzZXQuc3ViRHJhd0lkeCA9IHRoaXMuI3NlZ0lkeDtcclxuICAgIHRoaXMucGF0aEVsZW0gPSB0aGlzUGF0aDtcclxuICAgIHJldHVybiB0aGlzLnBhdGhFbGVtO1xyXG4gIH1cclxufSIsImltcG9ydCB7IHRlc3RSYW5kb20gfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcbmltcG9ydCB7IENvbm5lY3RTdWJQYXRoIH0gZnJvbSBcIi4uL2Nvbm5lY3RTdWJQYXRoLm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ29yZVBhdGggZXh0ZW5kcyBDb25uZWN0U3ViUGF0aCB7XHJcbiAgcm90RGlyVG9TZWdWZWN0O1xyXG5cclxuICAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgZ2V0dGluZyAxc3QgY29udHJvbCBwb2ludCBpZiB0aGUgc2VnbWVudCBpcyB0aGUgdmVyeSBcclxuICAvLyBmaXJzdCBvbmUgaW4gdGhlIGNvbm5lY3Rpb24uIE1hZyBmYWN0b3IgaXMgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBzZWdtZW50cyBcclxuICAvLyBkIGFuZCBhbmdsZSBpcyBmcm9tIHRoZSBvdmVyYWxsIGNvbm5lY3Rpb24gbWFpbiB2ZWN0b3IuIEluIHRoZSBlbmQgaXQgXHJcbiAgLy8gbG9va2VkIGJlc3QganVzdCBmaXhlZCBhdCB0aGVzZSB2YWx1ZXMgSSB0aGluay5cclxuICBzdGF0aWMgI1JBTkRfVkVDVF9MSU1TID0geyBcclxuICAgIG1pbkFuZ2xlRGlmZjogMjUgKiAoTWF0aC5QSSAvIDE4MCksXHJcbiAgICBtYXhBbmdsZURpZmY6IDI1ICogKE1hdGguUEkgLyAxODApLFxyXG4gICAgbWluTWFnRmFjdDogMC4zLFxyXG4gICAgbWF4TWFnRmFjdDogMC4zXHJcbiAgfVxyXG5cclxuICBnZXRDdHJsUHRzKGlkeCwgc2VnVmVjdE1hZywgc2VnU3RhcnQsIHNlZ0VuZCwgc2VnVW5pdFZlY3QsIHByZXZTZWcpIHtcclxuICAgIHRoaXMuY3RybFB0MSA9IHRoaXMuI2dldEN0cmxQdDEoaWR4LCBzZWdWZWN0TWFnLCBzZWdTdGFydCwgc2VnVW5pdFZlY3QsIHByZXZTZWcpO1xyXG4gICAgdGhpcy5jdHJsUHQyID0gdGhpcy4jZ2V0Q3RybFB0MihzZWdFbmQsIHNlZ1VuaXRWZWN0LCBzZWdWZWN0TWFnKTtcclxuICB9XHJcblxyXG4gIC8vIEdldHMgdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnQgZm9yIHRoaXMgY29yZSBwYXRoIGN1YmljIGJlemllciBjdXJ2ZS5cclxuICAjZ2V0Q3RybFB0MShpZHgsIHNlZ1ZlY3RNYWcsIHNlZ1N0YXJ0LCBzZWdVbml0VmVjdCwgcHJldlNlZykge1xyXG4gICAgbGV0IGN0cmxQdDE7XHJcblxyXG4gICAgY29uc3QgaXNGaXJzdFNlZyA9IGlkeCA9PT0gMDtcclxuXHJcbiAgICAvLyBJZiB2ZXJ5IGZpcnN0IHNlZ21lbnQgaW4gdGhlIGNvbm5lY3Rpb24sIGNob29zZSByYW5kb20gZGlyZWN0aW9uIGxlZnQgb3IgXHJcbiAgICAvLyByaWdodCBvZiB0b3RhbCBtYWluIHZlY3Rvci5cclxuICAgIGlmIChpc0ZpcnN0U2VnKSB7XHJcbiAgICAgIHRoaXMucm90RGlyVG9TZWdWZWN0ID0gdGVzdFJhbmRvbSgwLjUpID8gMSA6IC0xO1xyXG4gICAgICBjb25zdCByYW5kTGltcyA9IENvcmVQYXRoLiNSQU5EX1ZFQ1RfTElNUztcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZVZlY3QgPSB0aGlzLl9nZXRSYW5kVmVjdCh0aGlzLnJvdERpclRvU2VnVmVjdCwgc2VnVW5pdFZlY3QsIFxyXG4gICAgICAgIHNlZ1ZlY3RNYWcsIHJhbmRMaW1zKTtcclxuXHJcbiAgICAgIGN0cmxQdDEgPSBzZWdTdGFydC5hZGRWZWN0b3IodHJhbnNsYXRlVmVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3RoZXJ3aXNlLCBjdHJsUHQxIHNob3VsZCBiZSBwcmV2aW91cyBzZWdtZW50J3MgY29yZSBwYXRoJ3MgY3RybFB0MiwgXHJcbiAgICAvLyByb3RhdGVkIDE4MCBkZWdyZWVzIGFib3V0IHRoaXMgc2VnIHN0YXJ0LlxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMucm90RGlyVG9TZWdWZWN0ID0gLXByZXZTZWcuY29yZVBhdGgucm90RGlyVG9TZWdWZWN0O1xyXG4gICAgICBjb25zdCBwcmV2Q29yZUN0cmxQdDIgPSBwcmV2U2VnLmNvcmVQYXRoLmN0cmxQdDI7XHJcbiAgICAgIGN0cmxQdDEgPSB0aGlzLl9nZXRDb250aW51aW5nQ3RybFB0MShwcmV2Q29yZUN0cmxQdDIsIHNlZ1N0YXJ0KTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGN0cmxQdDE7XHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmF0ZSBhIHJhbmRvbSB2ZWN0b3IgYmFjayBmcm9tIHRoZSBzZWcgZW5kLCBvbiB0aGUgc2FtZSBzaWRlIHJlbGF0aXZlIFxyXG4gIC8vIHRvIHNlZyBtYWluIHZlY3Rvci5cclxuICAjZ2V0Q3RybFB0MihzZWdFbmQsIHNlZ1VuaXRWZWN0LCBzZWdWZWN0TWFnKSB7XHJcbiAgICBjb25zdCByYW5kTGltcyA9IENvcmVQYXRoLiNSQU5EX1ZFQ1RfTElNUztcclxuICAgIGNvbnN0IHJldmVyc2VTZWdWZWN0ID0gc2VnVW5pdFZlY3QuZ2V0UmV2ZXJzZSgpO1xyXG5cclxuICAgIGNvbnN0IHRyYW5zbGF0ZVZlY3QgPSB0aGlzLl9nZXRSYW5kVmVjdCgtdGhpcy5yb3REaXJUb1NlZ1ZlY3QsIHJldmVyc2VTZWdWZWN0LCBcclxuICAgICAgc2VnVmVjdE1hZywgcmFuZExpbXMpO1xyXG5cclxuICAgIGNvbnN0IGN0cmxQdDIgPSBzZWdFbmQuYWRkVmVjdG9yKHRyYW5zbGF0ZVZlY3QpO1xyXG4gICAgcmV0dXJuIGN0cmxQdDI7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgdGVzdFJhbmRvbSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zaGFyZWRKcy91dGlscy5tanNcIjtcclxuaW1wb3J0IHsgQ29ubmVjdFN1YlBhdGggfSBmcm9tIFwiLi4vY29ubmVjdFN1YlBhdGgubWpzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBFeHRyYVBhdGggZXh0ZW5kcyBDb25uZWN0U3ViUGF0aHtcclxuICAjZXh0cmFQYXRoSWQ7XHJcbiAgcm90RGlyVG9Db3JlUGF0aDtcclxuICBpbnNpZGVDb3JlO1xyXG5cclxuICAvLyBGb3IgdGhlIGV4dHJhIHBhdGggdGhhdCBydW5zIG91dHNpZGUgb2YgdGhlIGNvcmUgcGF0aC5cclxuICBzdGF0aWMgI1JBTkRfT1VUU0lERV9WRUNUX0xJTVMgPSB7IFxyXG4gICAgbWluQW5nbGVEaWZmOiAxMCAqIChNYXRoLlBJIC8gMTgwKSxcclxuICAgIG1heEFuZ2xlRGlmZjogMjAgKiAoTWF0aC5QSSAvIDE4MCksXHJcbiAgICBtaW5NYWdGYWN0OiAwLjMsXHJcbiAgICBtYXhNYWdGYWN0OiAwLjRcclxuICB9XHJcblxyXG4gIC8vIFNMaWdodGx5IGFkanVzdGVkIGxpbWl0cyBmb3IgaWYgY3V0dGluZyBpbnNpZGUgdGhlIGNvcmUgcGF0aCBhcyBjb3JlIHBhdGggY3VydmVzIFxyXG4gIC8vIG91dHdhcmRzLCBtYWtlIGNvbnRyb2wgcG9pbnRzIG1vcmUgcHJvbWluZW50IHNvIGxpbmUgaXNuJ3QgdG9vIGNsb3NlIHRvIGNvcmUgcGF0aC5cclxuICBzdGF0aWMgI1JBTkRfSU5TSURFX1ZFQ1RfTElNUyA9IHtcclxuICAgIG1pbkFuZ2xlRGlmZjogNSAqIChNYXRoLlBJIC8gMTgwKSxcclxuICAgIG1heEFuZ2xlRGlmZjogMzAgKiAoTWF0aC5QSSAvIDE4MCksXHJcbiAgICBtaW5NYWdGYWN0OiAwLjIsXHJcbiAgICBtYXhNYWdGYWN0OiAwLjZcclxuICB9XHJcbiAgLy8gUHJvYmFiaWxpdHkgdGhlIGV4dHJhIHBhdGggaW5zaWRlIHRoZSBjb3JlIHBhdGggcmVqb2lucyBwZXJwLCBnaXZlbiB0aGF0IFxyXG4gIC8vIGJvdGggZXh0cmEgcGF0aHMgZG9uJ3QgcmVqb2luIHBlcnAuXHJcbiAgc3RhdGljICNQUk9CX0lOU0lERV9QRVJQX1JFSk9JTiA9IDE7XHJcblxyXG4gIHN0YXRpYyAjUkFORF9QRVJQX1ZFQ1RfTElNUyA9IHtcclxuICAgIG1pbkFuZ2xlRGlmZjogNzAgKiAoTWF0aC5QSSAvIDE4MCksXHJcbiAgICBtYXhBbmdsZURpZmY6IDkwICogKE1hdGguUEkgLyAxODApLFxyXG4gICAgbWluTWFnRmFjdDogMC4yNSxcclxuICAgIG1heE1hZ0ZhY3Q6IDAuMzZcclxuICB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZWdTdGFydCwgc2VnRW5kLCBzZWdJZHgsIGV4dHJhUGF0aElkKSB7XHJcbiAgICBzdXBlcihzZWdTdGFydCwgc2VnRW5kLCBzZWdJZHgpO1xyXG4gICAgdGhpcy4jZXh0cmFQYXRoSWQgPSBleHRyYVBhdGhJZDtcclxuICB9XHJcblxyXG4gIGdldEN0cmxQdHMoc2VnVmVjdE1hZywgc2VnU3RhcnQsIHNlZ0VuZCwgcHJldlNlZywgbmV4dFNlZywgc2VnQ29yZVBhdGgsIGJvdGhFeHRyYVBhdGhzRW5kUGVycCkge1xyXG4gICAgdGhpcy5jdHJsUHQxID0gdGhpcy4jZ2V0Q3RybFB0MShzZWdWZWN0TWFnLCBwcmV2U2VnLCBzZWdTdGFydCwgc2VnQ29yZVBhdGgpO1xyXG4gICAgdGhpcy5jdHJsUHQyID0gdGhpcy4jZ2V0Q3RybFB0MihzZWdFbmQsIG5leHRTZWcsIHNlZ1ZlY3RNYWcsIHNlZ0NvcmVQYXRoLCBib3RoRXh0cmFQYXRoc0VuZFBlcnApO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gdmVjdG9yIHRvIGVhY2ggc2lkZSBvZiB0aGUgY29yZSBwYXRoIGZvciBlYWNoIGV4dHJhIHBhdGgsIFxyXG4gIC8vIG9yIGNvbnRpbnVlIHRoZSBwcmV2aW91cyBleHRyYSBwYXRocyBpZiB0aGVyZSB3ZXJlIGFueS5cclxuICAjZ2V0Q3RybFB0MShzZWdWZWN0TWFnLCBwcmV2U2VnLCBzZWdTdGFydCwgc2VnQ29yZVBhdGgpIHtcclxuICAgIGxldCBjdHJsUHQxO1xyXG5cclxuICAgIC8vIElzIGEgZm9sbG93aW5nIGV4dHJhIHBhdGgsIG5lZWQgZmlyc3QgY3RybFB0IHRvIGJlIG9wcG9zaXRlIG9mIGxhc3QgXHJcbiAgICAvLyBzZWcncyBleHRyYSBwYXRocycgMm5kIGN0cmxQdHMuXHJcbiAgICBpZiAocHJldlNlZz8uaGFzUGF0dGVybikge1xyXG4gICAgICBjb25zdCBmb2xsb3dpbmdQYXRoID0gcHJldlNlZy5leHRyYVBhdGhzW3RoaXMuI2V4dHJhUGF0aElkXTtcclxuICAgICAgdGhpcy5pbnNpZGVDb3JlID0gZm9sbG93aW5nUGF0aC5pbnNpZGVDb3JlO1xyXG5cclxuICAgICAgLy8gRXh0cmEgcGF0aCB3aWxsIGhhdmUgY3Jvc3NlZCBvdmVyIHRoZSBjb3JlIHBhdGggZG8gcm90IGRpciBpcyBub3cgb3Bwb3NpdGUuXHJcbiAgICAgIHRoaXMucm90RGlyVG9Db3JlUGF0aCA9IC1mb2xsb3dpbmdQYXRoLnJvdERpclRvQ29yZVBhdGg7XHJcbiAgICAgIGNvbnN0IHByZXZDdHJsUHQyID0gZm9sbG93aW5nUGF0aC5jdHJsUHQyO1xyXG4gICAgICBjdHJsUHQxID0gdGhpcy5fZ2V0Q29udGludWluZ0N0cmxQdDEocHJldkN0cmxQdDIsIHNlZ1N0YXJ0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPdGhlcndpc2UsIHN0YXJ0IG5ldyBleHRyYSBwYXRocywgc2xpZ2h0bHkgZWl0aGVyIHNpZGUgb2YgY29yZSBwYXRoLlxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIEV4dHJhUGF0aElkIDAgYWx3YXlzIGdvZXMgYW50aWNsb2Nrd2lzZSBvZiBjb3JlIHBhdGgsIEV4dHJhUGF0aElkIDEgXHJcbiAgICAgIC8vIGFsd2F5cyBzdGFydHMgY2xvY2t3aXNlLlxyXG4gICAgICB0aGlzLnJvdERpclRvQ29yZVBhdGggPSAodGhpcy4jZXh0cmFQYXRoSWQgPT09IDEpID8gMSA6IC0xO1xyXG5cclxuICAgICAgLy8gVHJ1ZSBpZiB0aGlzIGV4dHJhIHBhdGggaXMgY3V0dGluZyBpbnNpZGUgdGhlIGNvcmUgcGF0aCBhcyB0aGUgY29yZSBcclxuICAgICAgLy8gcGF0aCBjdXJ2ZXMgb3V0LlxyXG4gICAgICBjb25zdCBpbnNpZGVDb3JlID0gc2VnQ29yZVBhdGgucm90RGlyVG9TZWdWZWN0ICE9PSB0aGlzLnJvdERpclRvQ29yZVBhdGg7XHJcbiAgICAgIHRoaXMuaW5zaWRlQ29yZSA9IGluc2lkZUNvcmU7XHJcblxyXG4gICAgICBjb25zdCByYW5kTGltcyA9IGluc2lkZUNvcmUgPyBFeHRyYVBhdGguI1JBTkRfSU5TSURFX1ZFQ1RfTElNUyA6IEV4dHJhUGF0aC4jUkFORF9PVVRTSURFX1ZFQ1RfTElNUztcclxuICAgICAgY29uc3QgdGhpc0NvcmVTdGFydFZlY3QgPSBzZWdTdGFydC52ZWN0b3JUbyhzZWdDb3JlUGF0aC5jdHJsUHQxKS5nZXRVbml0VmVjdG9yKCk7XHJcblxyXG4gICAgICBjb25zdCB0cmFuc2xhdGVWZWN0ID0gdGhpcy5fZ2V0UmFuZFZlY3QodGhpcy5yb3REaXJUb0NvcmVQYXRoLCBcclxuICAgICAgICB0aGlzQ29yZVN0YXJ0VmVjdCwgc2VnVmVjdE1hZywgcmFuZExpbXMpO1xyXG5cclxuICAgICAgY3RybFB0MSA9IHNlZ1N0YXJ0LmFkZFZlY3Rvcih0cmFuc2xhdGVWZWN0KTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGN0cmxQdDE7XHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmF0ZSBhIHJhbmRvbSB2ZWN0b3IgYmFjayBmcm9tIHRoZSBzZWcgZW5kLCBvbiB0aGUgc2FtZSBzaWRlIHJlbGF0aXZlIFxyXG4gIC8vIHRvIHRoZSBjb3JlIHBhdGguIElmIHRoZSBuZXh0IHNlZ21lbnQgaGFzIGV4dHJhIHBhdGhzIHRoZW4gZ2l2ZSBpdCBhIGdvb2QgXHJcbiAgLy8gY2hhbmNlIG9mIHJlam9pbmluZyB0aGUgY29yZSBwYXRoIGF0IGEgcm91Z2hseSBwZXJwZW5kaWN1bGFyIGFuZ2xlIHNvIHRoaXMgXHJcbiAgLy8gbGluZSBjYW4gYmUgY29udGludWVkIG9uIGluIHRoZSBuZXh0IHNlZ21lbnQgZm9yIGFuIGludGVyZXN0aW5nIHBhdHRlck4uXHJcbiAgI2dldEN0cmxQdDIoc2VnRW5kLCBuZXh0U2VnLCBzZWdWZWN0TWFnLCBzZWdDb3JlUGF0aCwgYm90aEV4dHJhUGF0aHNFbmRQZXJwKSB7XHJcbiAgICBsZXQgY3RybFB0MjtcclxuXHJcbiAgICBjb25zdCB0aGlzQ29yZUVuZFZlY3QgPSBzZWdFbmQudmVjdG9yVG8oc2VnQ29yZVBhdGguY3RybFB0MikuZ2V0VW5pdFZlY3RvcigpO1xyXG5cclxuICAgIGxldCByYW5kTGltcyA9IHRoaXMuaW5zaWRlQ29yZSA/IEV4dHJhUGF0aC4jUkFORF9JTlNJREVfVkVDVF9MSU1TIDogRXh0cmFQYXRoLiNSQU5EX09VVFNJREVfVkVDVF9MSU1TO1xyXG5cclxuICAgIGNvbnN0IHBlcnBSZWpvaW4gPSB0aGlzLiNnZXRJc1BlcnBSZWpvaW4obmV4dFNlZywgYm90aEV4dHJhUGF0aHNFbmRQZXJwKTtcclxuXHJcbiAgICBpZiAocGVycFJlam9pbikge1xyXG4gICAgICByYW5kTGltcyA9IEV4dHJhUGF0aC4jUkFORF9QRVJQX1ZFQ1RfTElNUztcclxuICAgIH07XHJcbiAgICAgICAgXHJcbiAgICBjb25zdCB0cmFuc2xhdGVWZWN0ID0gdGhpcy5fZ2V0UmFuZFZlY3QoLXRoaXMucm90RGlyVG9Db3JlUGF0aCwgXHJcbiAgICAgIHRoaXNDb3JlRW5kVmVjdCwgc2VnVmVjdE1hZywgcmFuZExpbXMpO1xyXG5cclxuICAgIGN0cmxQdDIgPSBzZWdFbmQuYWRkVmVjdG9yKHRyYW5zbGF0ZVZlY3QpO1xyXG4gICAgcmV0dXJuIGN0cmxQdDI7XHJcbiAgfVxyXG5cclxuICAvLyBGb3IgZ2V0dGluZyB0aGUgMm5kIGNvbnRyb2wgcG9pbnQsIHdvcmtzIG91dCBpZiB0aGlzIGV4dHJhIHBhdGggc2hvdWxkIFxyXG4gIC8vIHJlam9pbiBhdCBwZXJwZW5kaWN1bGFyIHRvIGNvcmUgcGF0aC5cclxuICAjZ2V0SXNQZXJwUmVqb2luKG5leHRTZWcsIGJvdGhFeHRyYVBhdGhzRW5kUGVycCkge1xyXG4gICAgbGV0IHByb2JQZXJwUmVqb2luID0gMDtcclxuICAgIC8vIERvbid0IHJlam9pbiBhdCBwZXJwIGlmIG5leHQgc2VnIGhhcyBubyBwYXR0ZXJuLlxyXG4gICAgaWYgKG5leHRTZWc/Lmhhc1BhdHRlcm4pIHtcclxuICAgICAgLy8gSWYgc2VnbWVudCBkZWNpZGVkIChSTkcpIHRoYXQgYm90aCBleHRyYSBwYXRocyBzaG91bGQgcmVqb2luIHBlcnAgKGZvciBcclxuICAgICAgLy8gbGVhZiBzaGFwZSkgdGhlbiBtYWtlIGNlcnRhaW4uXHJcbiAgICAgIGlmIChib3RoRXh0cmFQYXRoc0VuZFBlcnApIHtcclxuICAgICAgICBwcm9iUGVycFJlam9pbiA9IDE7XHJcbiAgICAgIH1cclxuICAgICAgLy8gT3RoZXJ3aXNlIGdpdmUgaGlnaCBwcm9iYWJpbGl0eSB0byBpbnNpZGUgY29yZSBwYXRoIGFuZCBsb3cgKGN1cnJlbnRseSBcclxuICAgICAgLy8gbm8pIHByb2JhYmlsaXR5IHRvIG91dHNpZGUgY29yZSBwYXRoKS5cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gVGhpcyBwcm9iYWJpbGl0eSBjdXJyZW50bHkgc2V0IHRvIDEgYnV0IG1pZ2h0IGRlY3JlYXNlIHNsaWdodGx5IGxhdGVyLCBcclxuICAgICAgICAvLyB0aGlzIGlzIHRoZSBvZGRzIG9mIGluc2lkZSBwYXRoIHJlam9pbmluZyBwZXJwZW5kaWN1bGFyIHRvIGNvcmUsIGlmIFxyXG4gICAgICAgIC8vIGl0J3MgZ2l2ZW4gdGhhdCBib3RoIGV4dHJhIHBhdGhzIGRvbnQgcmVqb2luIHBlcnAuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5zaWRlQ29yZSkge1xyXG4gICAgICAgICAgcHJvYlBlcnBSZWpvaW4gPSBFeHRyYVBhdGguI1BST0JfSU5TSURFX1BFUlBfUkVKT0lOO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFeHRyYSBwYXRoIHRoYXQgaXMgb3V0c2lkZSBvZiB0aGUgY29yZSBpcyBuZXZlciBwZXJwZW5kaWN1bGFyIGFsb25lLCBsb29rcyB3ZWlyZC5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHByb2JQZXJwUmVqb2luID0gMDtcclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGVzdFJhbmRvbShwcm9iUGVycFJlam9pbik7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgdGVzdFJhbmRvbSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zaGFyZWRKcy91dGlscy5tanNcIjtcclxuaW1wb3J0IHsgQ29yZVBhdGggfSBmcm9tIFwiLi9jb25uZWN0U3ViUGF0aC9zdWJDbGFzc2VzL2NvcmVQYXRoLm1qc1wiO1xyXG5pbXBvcnQgeyBFeHRyYVBhdGggfSBmcm9tIFwiLi9jb25uZWN0U3ViUGF0aC9zdWJDbGFzc2VzL2V4dHJhUGF0aC5tanNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNlZ21lbnQge1xyXG4gICNpZHg7XHJcbiAgI3N0YXJ0O1xyXG4gICNlbmQ7XHJcbiAgI21haW5WZWN0O1xyXG4gICNtYWluVW5pdFZlY3Q7XHJcbiAgI3ZlY3RNYWc7XHJcbiAgZXh0cmFQYXRoc0JvdGhFbmRzUGVycCA9IGZhbHNlO1xyXG4gIGhhc1BhdHRlcm47XHJcbiAgY29yZVBhdGg7XHJcbiAgZXh0cmFQYXRocyA9IFtdO1xyXG4gIGFsbFBhdGhzID0gW107XHJcblxyXG4gIHN0YXRpYyAjUFJPQl9CT1RIX0VYVFJBX0VORF9QRVJQID0gMC40O1xyXG5cclxuICBjb25zdHJ1Y3RvcihpZHgsIGhhc1BhdHRlcm4sIHN0YXJ0LCBlbmQpIHtcclxuICAgIHRoaXMuI2lkeCA9IGlkeDtcclxuICAgIHRoaXMuaGFzUGF0dGVybiA9IGhhc1BhdHRlcm47XHJcbiAgICB0aGlzLiNzdGFydCA9IHN0YXJ0O1xyXG4gICAgdGhpcy4jZW5kID0gZW5kO1xyXG4gICAgdGhpcy4jbWFpblZlY3QgPSB0aGlzLiNzdGFydC52ZWN0b3JUbyh0aGlzLiNlbmQpO1xyXG4gICAgdGhpcy4jbWFpblVuaXRWZWN0ID0gdGhpcy4jbWFpblZlY3QuZ2V0VW5pdFZlY3RvcigpO1xyXG4gICAgdGhpcy4jdmVjdE1hZyA9IHRoaXMuI21haW5WZWN0LmdldE1hZygpO1xyXG4gIH1cclxuXHJcbiAgLy8gUG9wdWxhdGUgdGhlIGNvcmVQYXRoQ3RybFB0cyBmb3IgdGhpcyBzZWdtZW50LlxyXG4gIHNldENvcmVQYXRoKHByZXZTZWcpIHtcclxuICAgIHRoaXMuY29yZVBhdGggPSBuZXcgQ29yZVBhdGgodGhpcy4jc3RhcnQsIHRoaXMuI2VuZCwgdGhpcy4jaWR4KTtcclxuXHJcbiAgICB0aGlzLmNvcmVQYXRoLmdldEN0cmxQdHModGhpcy4jaWR4LCB0aGlzLiN2ZWN0TWFnLCB0aGlzLiNzdGFydCwgdGhpcy4jZW5kLCBcclxuICAgICAgdGhpcy4jbWFpblVuaXRWZWN0LCBwcmV2U2VnKTtcclxuICB9XHJcblxyXG4gIC8vIFBvcHVsYXRlIHRoZSBjdHJsUHRzIGZvciB0aGUgZXh0cmEgcGF0aHMgZm9yIHRoaXMgc2VnbWVudCwgaWYgaXQgaGFzIGFueS5cclxuICBzZXRFeHRyYVBhdGhzKHByZXZTZWcsIG5leHRTZWcpIHtcclxuICAgIGlmICghdGhpcy5oYXNQYXR0ZXJuKSByZXR1cm47XHJcblxyXG4gICAgLy8gRG9udCBhbGxvdyBhIHNlZ21lbnQgdG8gaGF2ZSBib3RoIGVuZHMgYmUgcGVycGVuZGljdWxhciBmb3IgYm90aCBleHRyYSBcclxuICAgIC8vIHBhdGhzIG9yIGxvb2tzIGxpa2UgZmF0IGJ1YmJsZS5cclxuICAgIGNvbnN0IHByZXZTZWdCb3RoRW5kc1BlcnAgPSBwcmV2U2VnPy5leHRyYVBhdGhzQm90aEVuZHNQZXJwO1xyXG4gICAgdGhpcy5leHRyYVBhdGhzQm90aEVuZHNQZXJwID0gcHJldlNlZ0JvdGhFbmRzUGVycCA/IGZhbHNlIFxyXG4gICAgICA6IHRlc3RSYW5kb20oU2VnbWVudC4jUFJPQl9CT1RIX0VYVFJBX0VORF9QRVJQKTtcclxuXHJcbiAgICBmb3IgKGxldCBleHRyYVBhdGhOdW0gPSAwOyBleHRyYVBhdGhOdW0gPCAyOyBleHRyYVBhdGhOdW0rKykge1xyXG5cclxuICAgICAgdGhpcy5leHRyYVBhdGhzW2V4dHJhUGF0aE51bV0gPSBuZXcgRXh0cmFQYXRoKHRoaXMuI3N0YXJ0LCB0aGlzLiNlbmQsIFxyXG4gICAgICAgIHRoaXMuI2lkeCwgZXh0cmFQYXRoTnVtKTtcclxuXHJcbiAgICAgIHRoaXMuZXh0cmFQYXRoc1tleHRyYVBhdGhOdW1dLmdldEN0cmxQdHModGhpcy4jdmVjdE1hZywgdGhpcy4jc3RhcnQsIFxyXG4gICAgICAgIHRoaXMuI2VuZCwgcHJldlNlZywgbmV4dFNlZywgdGhpcy5jb3JlUGF0aCwgdGhpcy5leHRyYVBhdGhzQm90aEVuZHNQZXJwKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdGhpcyBhbGxQYXRocyBub3cgYWxsIHRoZSBwYXRocyBhcmUga25vd24uXHJcbiAgc2V0QWxsUGF0aHMoKSB7XHJcbiAgICB0aGlzLmFsbFBhdGhzLnB1c2godGhpcy5jb3JlUGF0aCk7XHJcbiAgICB0aGlzLmFsbFBhdGhzLnB1c2goLi4udGhpcy5leHRyYVBhdGhzKTtcclxuICB9XHJcblxyXG4gIHNldFBhdGhEVmFscygpIHtcclxuICAgIHRoaXMuYWxsUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcclxuICAgICAgcGF0aC5zZXREVmFsKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZVBhdGhFbGVtcygpIHtcclxuICAgIGNvbnN0IHNlZ1BhdGhzID0gW107XHJcblxyXG4gICAgdGhpcy5hbGxQYXRocy5mb3JFYWNoKHBhdGggPT4ge1xyXG4gICAgICBzZWdQYXRocy5wdXNoKHBhdGguY3JlYXRlUGF0aEVsZW0oKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc2VnUGF0aHM7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgcmFuZEJldHdlZW4sIHRlc3RSYW5kb20gfSBmcm9tIFwiLi4vLi4vLi4vLi4vc2hhcmVkSnMvdXRpbHMubWpzXCI7XHJcbmltcG9ydCB7IGRyYXdTaW11bFBhdGhzIH0gZnJvbSBcIi4uL2RyYXdBbmltU3Zncy5qc1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL3ZlY3RvcjIubWpzXCI7XHJcbmltcG9ydCB7IFNlZ21lbnQgfSBmcm9tIFwiLi9zZWdtZW50Lm1qc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU2luZ2xlQ29ubmVjdGlvbiBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcclxuICBzdGFydElkO1xyXG4gICNlbmRJZDtcclxuICBwYXRoRWxlbXMgPSBbXTtcclxuICAjc3RhcnRDb29yZHM7XHJcbiAgI2VuZENvb3JkcztcclxuICAjbWFpblZlY3Q7XHJcbiAgI3RvdGFsRDtcclxuICAjYXZnU2VnVmVjdDtcclxuICAjcGVycFVuaXRWZWN0O1xyXG4gICNudW1TZWdtZW50cztcclxuICAjcHJvYlNlZ1BhdHRlcm47XHJcbiAgI2Jsb2Nrc2l6ZURlY3JlYXNlUHJvYjtcclxuICAjc3RhbmRhcmRTZWdMZW47XHJcbiAgI3NlZ21lbnRzO1xyXG4gICNzdGFydGVkRHJhd2luZyA9IGZhbHNlO1xyXG5cclxuICAvLyBTdGFuZGFyZCBzaXplIG9mIHNlZ21lbnQgKGJlZm9yZSByYW5kb21pc2luZykgYXMgcGVyY2VudGFnZSBvZiB2aWV3cG9ydCB3aWR0aCkuXHJcbiAgc3RhdGljICNTVEFOREFSRF9TRUdfTEVOX1JBVElPID0gOTtcclxuICBzdGF0aWMgI0NPTU1PTl9QVFNfTUFJTl9SQU5EID0gMC4wMjtcclxuICBzdGF0aWMgI0NPTU1PTl9QVFNfUEVSUF9SQU5EID0gMC4wMTtcclxuXHJcbiAgY29uc3RydWN0b3IoY29ubmVjdGlvbkluZm8pIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5zdGFydElkID0gY29ubmVjdGlvbkluZm8uZWxlbUlkc1swXTtcclxuICAgIHRoaXMuI2VuZElkID0gY29ubmVjdGlvbkluZm8uZWxlbUlkc1sxXTtcclxuICAgIHRoaXMuI3N0YXJ0Q29vcmRzID0gY29ubmVjdGlvbkluZm8uY29vcmRzWzBdO1xyXG4gICAgdGhpcy4jZW5kQ29vcmRzID0gY29ubmVjdGlvbkluZm8uY29vcmRzWzFdO1xyXG5cclxuICAgIHRoaXMuI21haW5WZWN0ID0gdGhpcy4jc3RhcnRDb29yZHMudmVjdG9yVG8odGhpcy4jZW5kQ29vcmRzKTtcclxuICAgIHRoaXMuI3RvdGFsRCA9IHRoaXMuI21haW5WZWN0LmdldE1hZygpO1xyXG5cclxuICAgIGNvbnN0IGF2Z1dpbmRvd1NpZGVMZW4gPSAod2luZG93LmlubmVyV2lkdGggKyB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gMjtcclxuICAgIHRoaXMuI3N0YW5kYXJkU2VnTGVuID0gKFNpbmdsZUNvbm5lY3Rpb24uI1NUQU5EQVJEX1NFR19MRU5fUkFUSU8gLyAxMDApIFxyXG4gICAgICAqIGF2Z1dpbmRvd1NpZGVMZW47XHJcblxyXG4gICAgdGhpcy4jbnVtU2VnbWVudHMgPSBNYXRoLnJvdW5kKHRoaXMuI3RvdGFsRCAvIHRoaXMuI3N0YW5kYXJkU2VnTGVuKTtcclxuICAgIHRoaXMuI3Byb2JTZWdQYXR0ZXJuID0gMC40O1xyXG4gICAgdGhpcy4jYmxvY2tzaXplRGVjcmVhc2VQcm9iID0gMC45O1xyXG5cclxuICAgIGNvbnN0IGF2Z1NlZ1ZlY3RYID0gdGhpcy4jbWFpblZlY3QueCAvIHRoaXMuI251bVNlZ21lbnRzO1xyXG4gICAgY29uc3QgYXZnU2VnVmVjdFkgPSB0aGlzLiNtYWluVmVjdC55IC8gdGhpcy4jbnVtU2VnbWVudHM7XHJcbiAgICB0aGlzLiNhdmdTZWdWZWN0ID0gbmV3IFZlY3RvcjIoYXZnU2VnVmVjdFgsIGF2Z1NlZ1ZlY3RZKTtcclxuXHJcbiAgICBjb25zdCBwZXJwVmVjdCA9IHRoaXMuI21haW5WZWN0LmdldFJvdGF0ZWRWZWN0b3IoTWF0aC5QSSAvIDIpO1xyXG4gICAgdGhpcy4jcGVycFVuaXRWZWN0ID0gcGVycFZlY3QuZ2V0VW5pdFZlY3RvcigpO1xyXG4gIH1cclxuXHJcbiAgLy8gRHJhd3MgYWxsIHRoZSBwYXRocyBvZiBlYWNoIHNlZ21lbnQsIGluIG9yZGVyIGFuZCBlbWl0cyBldmVudCB3aGVuIGFsbCBcclxuICAvLyBwYXRocyBvZiBhbGwgc2VnbWVudHMgaGF2ZSBiZWVuIGRyYXduLlxyXG4gIGFzeW5jIGRyYXcoKSB7XHJcbiAgICBpZiAodGhpcy4jc3RhcnRlZERyYXdpbmcpIHJldHVybjtcclxuICAgIHRoaXMuI3N0YXJ0ZWREcmF3aW5nID0gdHJ1ZTtcclxuXHJcbiAgICBmb3IgKGxldCBzZWcgb2YgdGhpcy4jc2VnbWVudHMpIHtcclxuICAgICAgY29uc3Qgc2VnUGF0aHMgPSBzZWcuYWxsUGF0aHMubWFwKHBhdGhPYmogPT4gcGF0aE9iai5wYXRoRWxlbSk7XHJcbiAgICAgIGF3YWl0IGRyYXdTaW11bFBhdGhzKHNlZ1BhdGhzKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiY29ubmVjdGlvbkRyYXduXCIsIHtkZXRhaWw6IHtlbmRJZDogdGhpcy4jZW5kSWR9fSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBIaWRlIGFsbCBwYXRocywgdXNlZCBhdCBzdGFydCBvZiBkcmF3aW5nIGFuaW1hdGlvbiBmb3Igc3ZnLlxyXG4gIGhpZGVQYXRocygpIHtcclxuICAgIHRoaXMucGF0aEVsZW1zLmZvckVhY2gocGF0aCA9PiB7XHJcbiAgICAgIHBhdGguY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJvY2VkdXJhbGx5IGJ1aWxkcyBjb25uZWN0aW9uIG9mIHN2ZyBwYXRoIGN1cnZlcyBiZXR3ZWVuIHR3byBwb2ludHMuXHJcbiAgY3JlYXRlUGF0aHMoKSB7XHJcbiAgICBjb25zdCBjb21tb25QdHMgPSB0aGlzLiNnZXRDb21tb25QdHMoKTtcclxuICAgIGNvbnN0IHNlZ1BhdHRlcm5NYXAgPSB0aGlzLiNidWlsZFNlZ1BhdHRlcm5NYXAoKTtcclxuICAgIHRoaXMuI3NlZ21lbnRzID0gdGhpcy4jZ2V0U2VnRGV0YWlscyhzZWdQYXR0ZXJuTWFwLCBjb21tb25QdHMpO1xyXG4gICAgdGhpcy4jc2V0UGF0aHNBbmREVmFscyh0aGlzLiNzZWdtZW50cyk7XHJcbiAgICB0aGlzLiNjcmVhdGVQYXRoRWxlbXModGhpcy4jc2VnbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlcyBhbGwgdGhlIHBhdGggZG9tIGVsZW1lbnRzIGZvciBlYWNoIHBhdGggb2YgZWFjaCBzZWdtZW50IGluIHRoZSBcclxuICAvLyBjb25uZWN0aW9uLlxyXG4gICNjcmVhdGVQYXRoRWxlbXMoc2VnTGlzdCkge1xyXG4gICAgc2VnTGlzdC5mb3JFYWNoKHNlZyA9PiB7XHJcbiAgICAgIHRoaXMucGF0aEVsZW1zLnB1c2goLi4uc2VnLmNyZWF0ZVBhdGhFbGVtcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyB0aGUgY29yZSBhbmQgZXh0cmEgcGF0aHMgYW5kIHRoZSBkIHZhbHVlcyBmb3IgYWxsIHNlZ21lbnRzLlxyXG4gICNzZXRQYXRoc0FuZERWYWxzKHNlZ0xpc3QpIHtcclxuICAgIGNvbnN0IHNldENvcmVQYXRoID0gKHNlZywgcHJldlNlZykgPT4gc2VnLnNldENvcmVQYXRoKHByZXZTZWcpO1xyXG4gICAgY29uc3Qgc2V0RXh0cmFQYXRocyA9IChzZWcsIHByZXZTZWcsIG5leHRTZWcpID0+IHNlZy5zZXRFeHRyYVBhdGhzKHByZXZTZWcsIG5leHRTZWcpO1xyXG4gICAgY29uc3Qgc2V0QWxsUGF0aHMgPSBzZWcgPT4gc2VnLnNldEFsbFBhdGhzKCk7XHJcbiAgICBjb25zdCBzZXRQYXRoRFZhbHMgPSBzZWcgPT4gc2VnLnNldFBhdGhEVmFscygpO1xyXG5cclxuICAgIGNvbnN0IHBhdGhQcm9jZXNzRnVuY3MgPSBbc2V0Q29yZVBhdGgsIHNldEV4dHJhUGF0aHMsIHNldEFsbFBhdGhzLCBzZXRQYXRoRFZhbHNdO1xyXG5cclxuICAgIHBhdGhQcm9jZXNzRnVuY3MuZm9yRWFjaChwYXRoUHJvY2Vzc0Z1bmMgPT4ge1xyXG4gICAgICB0aGlzLiNzZWdMaXN0UHJvY2Vzc29yKHNlZ0xpc3QsIHBhdGhQcm9jZXNzRnVuYylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlZCB0byBhcHBseSB0aGUgc2V0IGNvcmUgcGF0aCwgc2V0IGV4dHJhIHBhdGggYW5kIHNldCBwYXRoIGQgdmFsIFxyXG4gIC8vIGZ1bmN0aW9ucyB0byBhbGwgc2VnbWVudHMuXHJcbiAgI3NlZ0xpc3RQcm9jZXNzb3Ioc2VnTGlzdCwgcHJvY2Vzc0Z1bmMpIHtcclxuICAgIHNlZ0xpc3QuZm9yRWFjaCgoc2VnLCBpZHgpID0+IHtcclxuICAgICAgY29uc3QgcHJldlNlZyA9IHNlZ0xpc3RbaWR4IC0gMV07XHJcbiAgICAgIGNvbnN0IG5leHRTZWcgPSBzZWdMaXN0W2lkeCArIDFdO1xyXG4gICAgICBwcm9jZXNzRnVuYyhzZWcsIHByZXZTZWcsIG5leHRTZWcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGVzIGEgc2VnbWVudCBvYmplY3QgZm9yIGVhY2ggc2VnbWVudCB1c2luZyB0aGUgc2VnbWVudCBtYXAgYW5kIGNvbW1vbiBcclxuICAvLyBwb2ludHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlc2Ugc2VnbWVudCBvYmplY3RzLlxyXG4gICNnZXRTZWdEZXRhaWxzKHNlZ01hcCwgY29tbW9uUHRzKSB7XHJcbiAgICBjb25zdCBzZWdEZXRhaWxzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgc2VnTnVtID0gMDsgc2VnTnVtIDwgc2VnTWFwLmxlbmd0aDsgc2VnTnVtKyspIHtcclxuICAgICAgY29uc3QgaGFzUGF0dGVybiA9IHNlZ01hcFtzZWdOdW1dID09PSAxID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICBjb25zdCBzdGFydCA9IGNvbW1vblB0c1tzZWdOdW1dO1xyXG4gICAgICBjb25zdCBlbmQgPSBjb21tb25QdHNbc2VnTnVtICsgMV07XHJcblxyXG4gICAgICBjb25zdCB0aGlzU2VnRGV0YWlscyA9IG5ldyBTZWdtZW50KHNlZ051bSwgaGFzUGF0dGVybiwgc3RhcnQsIGVuZCk7XHJcblxyXG4gICAgICBzZWdEZXRhaWxzLnB1c2godGhpc1NlZ0RldGFpbHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VnRGV0YWlscztcclxuICB9XHJcblxyXG4gIC8vIEJ1aWxkcyBhcnJheSBvZiB3aGljaCBzZWdtZW50cyBhcmUgZ2FwcyAoXCJnXCIpIGFuZCB3aGljaCBoYXZlIGEgcGF0dGVybiAoMSkuXHJcbiAgI2J1aWxkU2VnUGF0dGVybk1hcCgpIHtcclxuICAgIGNvbnN0IHNlZ01hcCA9IEFycmF5LmZyb20oXCJnXCIucmVwZWF0KHRoaXMuI251bVNlZ21lbnRzKSk7XHJcblxyXG4gICAgZm9yIChsZXQgc2VnTnVtID0gMDsgc2VnTnVtIDwgdGhpcy4jbnVtU2VnbWVudHM7IHNlZ051bSsrKSB7XHJcbiAgICAgIGxldCBwcm9iSXNQYXR0ZXJuID0gdGhpcy4jcHJvYlNlZ1BhdHRlcm47XHJcblxyXG4gICAgICBjb25zdCBbcHJldlNlZywgcHJldlNlZzJdID0gW3NlZ01hcFtzZWdOdW0gLSAxXSwgc2VnTWFwW3NlZ051bSAtIDJdXTtcclxuICAgICAgY29uc3QgcHJldlNlZ0hhc1BhdHRlcm4gPSBwcmV2U2VnID8gcHJldlNlZyAhPT0gXCJnXCIgOiBmYWxzZTtcclxuICAgICAgY29uc3QgcHJldlNlZzJIYXNQYXR0ZXJuID0gcHJldlNlZzIgPyBwcmV2U2VnMiAhPT0gXCJnXCIgOiBmYWxzZTtcclxuXHJcbiAgICAgIC8vIFJlZHVjZSBvZGRzIG9mIGxvbmcgcGF0dGVybmVkIHNlY3Rpb25zLCBtYWtlIGltcG9zc2libGUgdG8gZ2V0IGp1c3Qgb25lIFxyXG4gICAgICAvLyBwYXR0ZXJuZWQgc2VjdGlvbiBhbG9uZSB0aG91Z2guXHJcbiAgICAgIGlmIChwcmV2U2VnSGFzUGF0dGVybikge1xyXG4gICAgICAgIGlmIChwcmV2U2VnMkhhc1BhdHRlcm4pIHtcclxuICAgICAgICAgIGNvbnN0IGN1cnJCbG9ja1NpemUgPSBnZXRDdXJyQmxvY2tTaXplKHNlZ051bSwgc2VnTWFwKTtcclxuICAgICAgICAgIHByb2JJc1BhdHRlcm4gKj0gTWF0aC5wb3codGhpcy4jYmxvY2tzaXplRGVjcmVhc2VQcm9iLCBjdXJyQmxvY2tTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBwcm9iSXNQYXR0ZXJuID0gMTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIGxhc3Qgc2VnbWVudCwgdGhlbiBtYWtlIHN1cmUgaXQgY2FuJ3QgaGF2ZSBwYXR0ZXJuLCB0byBwcmV2ZW50IFxyXG4gICAgICAvLyBpc29sYXRlZCBwYXR0ZXJuIGJsb2NrLlxyXG4gICAgICBlbHNlIGlmIChzZWdOdW0gPT09IHRoaXMuI251bVNlZ21lbnRzIC0gMSkge1xyXG4gICAgICAgIHByb2JJc1BhdHRlcm4gPSAwO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgdGhpc1NlZyA9IHRlc3RSYW5kb20ocHJvYklzUGF0dGVybikgPyAxIDogXCJnXCI7XHJcbiAgICAgIHNlZ01hcFtzZWdOdW1dID0gdGhpc1NlZztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlZ01hcDtcclxuXHJcbiAgICAvLyBHZXQgdG90YWwgbnVtYmVyIG9mIHBhdHRlcm5lZCBzZWdtZW50cyBpbiBhIHJvdyB1bnRpbCBjdXJyZW50IHNlZ051bS5cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJCbG9ja1NpemUoc2VnTnVtLCBzZWdNYXApIHtcclxuICAgICAgbGV0IGJsb2NrU2l6ZSA9IDE7XHJcbiAgICAgIGxldCBpZHggPSBzZWdOdW0gLSAyO1xyXG5cclxuICAgICAgd2hpbGUgKGlkeCA+PSAwKSB7XHJcbiAgICAgICAgY29uc3QgY3VyclNlZyA9IHNlZ01hcFtpZHhdO1xyXG4gICAgICAgIGlmIChjdXJyU2VnID09PSBcImdcIikgYnJlYWs7XHJcbiAgICAgICAgYmxvY2tTaXplICsrO1xyXG4gICAgICAgIGlkeC0tO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIGJsb2NrU2l6ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdldCB0aGUgY29tbW9uIHBvaW50cyB0byBiZSB1c2VkIGZvciBzdGFydCBhbmQgZW5kIG9mIGVhY2ggc2VnbWVudC5cclxuICAjZ2V0Q29tbW9uUHRzKCkge1xyXG4gICAgbGV0IGNvbW1vblB0cyA9IHRoaXMuI2dldFByZWxpbUNvbW1vblB0cygpO1xyXG4gICAgY29tbW9uUHRzID0gdGhpcy4jcmFuZENvbW1vblB0cyhjb21tb25QdHMpO1xyXG4gICAgY29tbW9uUHRzLnNwbGljZSgwLCAwLCB0aGlzLiNzdGFydENvb3Jkcyk7XHJcbiAgICBjb21tb25QdHMucHVzaCh0aGlzLiNlbmRDb29yZHMpO1xyXG5cclxuICAgIHJldHVybiBjb21tb25QdHM7XHJcbiAgfVxyXG5cclxuICAvLyBMZXJwcyBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgY29vcmRzIHRvIGNyZWF0ZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHNlZ21lbnRzLlxyXG4gICNnZXRQcmVsaW1Db21tb25QdHMoKSB7XHJcbiAgICBjb25zdCBwdHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuI251bVNlZ21lbnRzOyBpKyspIHtcclxuICAgICAgY29uc3QgeENvb3JkID0gdGhpcy4jc3RhcnRDb29yZHMueCArIHRoaXMuI2F2Z1NlZ1ZlY3QueCAqIGk7XHJcbiAgICAgIGNvbnN0IHlDb29yZCA9IHRoaXMuI3N0YXJ0Q29vcmRzLnkgKyB0aGlzLiNhdmdTZWdWZWN0LnkgKiBpO1xyXG4gICAgICBwdHMucHVzaChuZXcgVmVjdG9yMih4Q29vcmQsIHlDb29yZCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcHRzO1xyXG4gIH1cclxuXHJcbiAgLy8gUmFuZG9taXNlIGVhY2ggcHJlbGltaW5hcnkgY29tbW9uIHBvaW50IHdpdGggc29tZSBhanVzdG1lbnQgaW4gdGhlIGRpcmVjdGlvbiBvZiBcclxuICAvLyB0aGUgbWFpbiB2ZWN0b3IgYW5kIHBlcnBlbmRpY3VsYXIgdG8gaXQuXHJcbiAgI3JhbmRDb21tb25QdHMoY29tbW9uUHRzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbW1vblB0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjb21tb25QdCA9IGNvbW1vblB0c1tpXTtcclxuXHJcbiAgICAgIGNvbnN0IHJhbmRBZGpGYWN0b3JNYWluID0gcmFuZEJldHdlZW4oLVNpbmdsZUNvbm5lY3Rpb24uI0NPTU1PTl9QVFNfTUFJTl9SQU5ELCBcclxuICAgICAgICBTaW5nbGVDb25uZWN0aW9uLiNDT01NT05fUFRTX01BSU5fUkFORCk7XHJcblxyXG4gICAgICBjb25zdCByYW5kQWRqRmFjdG9yUGVycCA9IHJhbmRCZXR3ZWVuKC1TaW5nbGVDb25uZWN0aW9uLiNDT01NT05fUFRTX1BFUlBfUkFORCwgXHJcbiAgICAgICAgU2luZ2xlQ29ubmVjdGlvbi4jQ09NTU9OX1BUU19QRVJQX1JBTkQpO1xyXG5cclxuICAgICAgY29uc3QgYWRqVmVjdE1haW4gPSB0aGlzLiNhdmdTZWdWZWN0LmdldFNjYWxlZFZlY3RvcihyYW5kQWRqRmFjdG9yTWFpbik7XHJcbiAgICAgIGNvbnN0IGFkalZlY3RQZXJwID0gdGhpcy4jcGVycFVuaXRWZWN0LmdldFNjYWxlZFZlY3Rvcih0aGlzLiN0b3RhbEQgKiByYW5kQWRqRmFjdG9yUGVycCk7XHJcblxyXG4gICAgICBjb25zdCBhZGpDb21tb25QdCA9IGNvbW1vblB0LmFkZFZlY3RvcihhZGpWZWN0TWFpbikuYWRkVmVjdG9yKGFkalZlY3RQZXJwKTtcclxuXHJcbiAgICAgIGNvbW1vblB0c1tpXSA9IGFkakNvbW1vblB0O1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY29tbW9uUHRzO1xyXG4gIH1cclxufSIsImltcG9ydCB7IENvbm5lY3Rpb25zU3ZnIH0gZnJvbSBcIi4uL21vZHVsZXMvZHJhd1N2Z3MvY29ubmVjdGlvbnNTdmcvY29ubmVjdGlvbnNTdmcubWpzXCI7XHJcbmltcG9ydCBcIi4vbG9nZ2VkSW5QYWdlLmpzXCI7XHJcblxyXG5cclxuXHJcbmNvbnN0IGVsZW1zVG9Kb2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb25uZWN0LWVsZW1cIik7XHJcbmNvbnN0IGNvbm5lY3Rpb25zU3ZnID0gbmV3IENvbm5lY3Rpb25zU3ZnKGVsZW1zVG9Kb2luKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcbiAgY29ubmVjdGlvbnNTdmcuY3JlYXRlQW5kRHJhdygpO1xyXG59KTsiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL3ZlY3RvcjIubWpzXCI7XHJcbmltcG9ydCB7IFNpbmdsZUNvbm5lY3Rpb24gfSBmcm9tIFwiLi9zaW5nbGVDb25uZWN0aW9uLm1qc1wiO1xyXG5cclxuXHJcblxyXG4vLyBTVkcgaW1hZ2Ugb2YgY29ubmVjdGlvbnMgYmV0d2VlbiBET00gbm9kZXMgaW4gYXJ0aXN0aWMgY3VydmUgc3R5bGUsIGluY2x1ZGVzIFxyXG4vLyBkcmF3aW5nIGFuaW1hdGlvbi5cclxuLy8gZGF0YS1jb25uZWN0cy10byBzaG91bGQgYWx3YXlzIGJlIHdyaXR0ZW4gb24gdGhlIGVsZW1lbnQgdGhhdCB0aGUgY29ubmVjdGlvbiBcclxuLy8gc2hvdWxkIHN0YXJ0IGZyb20gKGZvciBhbmltYXRlZCBkcmF3aW5nIHB1cnBvc2VzKS5cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25zU3ZnIHtcclxuICAjZWxlbXNUb0pvaW47XHJcbiAgI2Nvbm5lY3Rpb25zID0gW107XHJcbiAgI2RyYXdPcmlnaW5JZDtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbXNUb0pvaW4pIHtcclxuICAgIHRoaXMuI2VsZW1zVG9Kb2luID0gZWxlbXNUb0pvaW47XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgdGhlIFNWRyBhbmQgYW5pbWF0ZSBkcmF3aW5nIHRoZSBsaW5lcyBpbi5cclxuICBjcmVhdGVBbmREcmF3KCkge1xyXG4gICAgdGhpcy4jY3JlYXRlU3ZnKHRoaXMuI2VsZW1zVG9Kb2luKTtcclxuICAgIHRoaXMuI3N0YXJ0RHJhd2luZygpO1xyXG4gIH1cclxuXHJcbiAgLy8gSGlkZSBhbGwgdGhlIHBhdGhzLCBhZGQgZXZlbnQgbGlzdGVuZXJzIGZvciB3aGVuIGEgY29ubmVjdGlvbiBoYXMgZmluaXNoZWQgXHJcbiAgLy8gZHJhd2luZyB0byBzdGFydCBkcmF3aW5nIHN1YnNlcXVlbnQgb25lcyBhbmQgc3RhcnQgZHJhd2luZyBmcm9tIHRoZSBvcmlnaW4gZWxlbWVudC5cclxuICAjc3RhcnREcmF3aW5nKCkge1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbnMuZm9yRWFjaChjb25uZWN0aW9uID0+IHtcclxuICAgICAgY29ubmVjdGlvbi5oaWRlUGF0aHMoKTtcclxuICAgICAgY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY29ubmVjdGlvbkRyYXduXCIsIGV2dCA9PiB7XHJcbiAgICAgICAgdGhpcy4jZHJhdyhldnQuZGV0YWlsLmVuZElkKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiNkcmF3KHRoaXMuI2RyYXdPcmlnaW5JZCk7XHJcbiAgfVxyXG5cclxuICAvLyBEcmF3cyBhbGwgdGhlIGNvbm5lY3Rpb25zIHRoYXQgc3RhcnQgZnJvbSBhIGdpdmVuIGVsZW1lbmQgaWQuXHJcbiAgLy8ganVzdENvbm5lY3RlZElkIGlzIHRoZSBlbGVtZW50IElkIChmcm9tIHRoZSBkYXRhIGF0dHJpYnV0ZSkgb2YgdGhlIGVsZW1lbnQgXHJcbiAgLy8gdGhhdCBoYXMganVzdCBmaW5pc2hlZCBoYXZpbmcgYSBjb25uZWN0aW9uIGRyYXduIHRvIGl0LlxyXG4gICNkcmF3KGp1c3RDb25uZWN0ZWRJZCkge1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbnMuZm9yRWFjaChjb25uZWN0aW9uID0+IHtcclxuICAgICAgaWYgKGNvbm5lY3Rpb24uc3RhcnRJZCA9PT0ganVzdENvbm5lY3RlZElkKSB7XHJcbiAgICAgICAgY29ubmVjdGlvbi5kcmF3KCk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSB0aGUgU1ZHIGRvbSBlbGVtZW50IHdpdGggYWxsIGNvbm5lY3Rpb25zLCBzZWdtZW50cyBhbmQgcGF0aHMuXHJcbiAgI2NyZWF0ZVN2ZyhlbGVtcykge1xyXG4gICAgY29uc3QgcGFyZW50RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3ZnLWNvbm5lY3RzLXdyYXBwZXJcIik7XHJcbiAgICBjb25zdCBwYXJlbnRFbGVtUmVjdCA9IHBhcmVudEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgY29uc3Qgb3JpZ2luRWxlbSA9IHBhcmVudEVsZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtZHJhdy1vcmlnaW49XCJ0cnVlXCInKTtcclxuICAgIHRoaXMuI2RyYXdPcmlnaW5JZCA9IG9yaWdpbkVsZW0uZGF0YXNldC5jb25uZWN0SWQ7XHJcbiAgICBcclxuICAgIGNvbnN0IHBhcmVudE9mZnNldCA9IG5ldyBWZWN0b3IyKHBhcmVudEVsZW1SZWN0LmxlZnQsIHBhcmVudEVsZW1SZWN0LnRvcCk7XHJcbiAgXHJcbiAgICBjb25zdCB2aWV3Qm94V2lkdGggPSBwYXJlbnRFbGVtUmVjdC53aWR0aDtcclxuICAgIGNvbnN0IHZpZXdCb3hIZWlnaHQgPSBwYXJlbnRFbGVtUmVjdC5oZWlnaHQ7XHJcbiAgXHJcbiAgICBjb25zdCBjb25uZWN0RWxlbURldGFpbHMgPSB0aGlzLiNnZXRDb25uZWN0RWxlbURldGFpbHMoZWxlbXMsIHBhcmVudE9mZnNldCk7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uSW5mb3MgPSB0aGlzLiNnZXRDb25uZWN0aW9uSW5mb3MoY29ubmVjdEVsZW1EZXRhaWxzKTtcclxuICBcclxuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xyXG4gIFxyXG4gICAgc3ZnLmNsYXNzTGlzdC5hZGQoXCJjb25uZWN0aW9ucy1zdmdcIik7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBgMCAwICR7dmlld0JveFdpZHRofSAke3ZpZXdCb3hIZWlnaHR9YCk7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwibm9uZVwiKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJcIik7XHJcbiAgICBcclxuICAgIHRoaXMuI2NyZWF0ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25JbmZvcyk7XHJcbiAgICB0aGlzLiNjcmVhdGVTdmdQYXRocyhzdmcpO1xyXG5cclxuICAgIHBhcmVudEVsZW0uYXBwZW5kQ2hpbGQoc3ZnKTtcclxuICAgIHJldHVybiBzdmc7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgYWxsIHRoZSBwYXRocyBmcm9tIGVhY2ggY29ubmVjdGlvbiBvZiB0aGUgU1ZHLlxyXG4gICNjcmVhdGVTdmdQYXRocyhzdmcpIHtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb25zLmZvckVhY2goY29ubmVjdGlvbiA9PiB7XHJcbiAgICAgIHN2Zy5hcHBlbmQoLi4uY29ubmVjdGlvbi5wYXRoRWxlbXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgYSBjb25uZWN0aW9ucyBvYmplY3QgZm9yIGVhY2ggY29vcmRzIHBhaXIgYW5kIGFkZCBzZXQgdGhlIHBhdGhzIGZvciBcclxuICAvLyBlYWNoIGNvbm5lY3Rpb24uXHJcbiAgI2NyZWF0ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25JbmZvcykge1xyXG4gICAgY29ubmVjdGlvbkluZm9zLmZvckVhY2goY29ubmVjdGlvbkluZm8gPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IFNpbmdsZUNvbm5lY3Rpb24oY29ubmVjdGlvbkluZm8pO1xyXG4gICAgICBjb25uZWN0aW9uLmNyZWF0ZVBhdGhzKCk7XHJcbiAgICAgIHRoaXMuI2Nvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEdldCBkZXRhaWxzIG9uIGVhY2ggY29ubmVjdGlvbiB0byBiZSBkcmF3bi5cclxuICAjZ2V0Q29ubmVjdGlvbkluZm9zKGVsZW1zQ29ubmVjdEluZm9zKSB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uSW5mb3MgPSBbXTtcclxuXHJcbiAgICBlbGVtc0Nvbm5lY3RJbmZvcy5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICBlbGVtPy5jb25uZWN0c1RvPy5mb3JFYWNoKGNvbm5lY3Rpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0Q29vcmRzID0gZWxlbS5wb3NuO1xyXG4gICAgICAgIGNvbnN0IGVuZENvbm5lY3RFbGVtID0gZWxlbXNDb25uZWN0SW5mb3MuZmluZChlbGVtID0+IHtcclxuICAgICAgICAgIHJldHVybiBlbGVtLmVsZW1JZCA9PT0gY29ubmVjdGlvbjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5kQ29vcmRzID0gZW5kQ29ubmVjdEVsZW0ucG9zbjtcclxuICAgICAgICBjb25zdCBjb25uZWN0Q29vcmRzID0gW3N0YXJ0Q29vcmRzLCBlbmRDb29yZHNdO1xyXG4gICAgICAgIGNvbnN0IGVsZW1JZHMgPSBbZWxlbS5lbGVtSWQsIGNvbm5lY3Rpb25dO1xyXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0ge2Nvb3JkczogY29ubmVjdENvb3JkcywgZWxlbUlkczogZWxlbUlkc307XHJcblxyXG4gICAgICAgIGNvbm5lY3Rpb25JbmZvcy5wdXNoKGNvbm5lY3Rpb25JbmZvKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY29ubmVjdGlvbkluZm9zO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IGNvbm5lY3Rpb24gZGV0YWlscyBmb3IgZWFjaCBlbGVtZW50IHRvIGJlIGNvbm5lY3RlZC5cclxuICAjZ2V0Q29ubmVjdEVsZW1EZXRhaWxzKGVsZW1zLCBwYXJlbnRPZmZzZXQpIHtcclxuICAgIGNvbnN0IGVsZW1zQ29ubmVjdEluZm9zID0gW107XHJcbiAgICBcclxuICAgIGVsZW1zLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbm5lY3RJbmZvID0ge307XHJcblxyXG4gICAgICBjb25zdCB0aGlzRWxlbVJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCBhZnRlckVsZW1TdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCAnOmFmdGVyJyk7XHJcbiAgICAgIGNvbnN0IGNvbm5lY3RQc24gPSB0aGlzLiNnZXRDb25uZWN0UHNuKHRoaXNFbGVtUmVjdCwgYWZ0ZXJFbGVtU3R5bGVzLCBwYXJlbnRPZmZzZXQpO1xyXG5cclxuICAgICAgY29uc3QgZWxlbUNvbm5lY3RJZCA9IGVsZW0uZGF0YXNldC5jb25uZWN0SWQ7XHJcbiAgICAgIGNvbm5lY3RJbmZvLmVsZW1JZCA9IGVsZW1Db25uZWN0SWQ7XHJcbiAgICAgIGNvbm5lY3RJbmZvLnBvc24gPSBjb25uZWN0UHNuO1xyXG4gICAgICBjb25uZWN0SW5mby5jb25uZWN0c1RvID0gZWxlbS5kYXRhc2V0Py5jb25uZWN0c1RvPy5zcGxpdChcIixcIik7XHJcbiAgXHJcbiAgICAgIGVsZW1zQ29ubmVjdEluZm9zLnB1c2goY29ubmVjdEluZm8pO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICByZXR1cm4gZWxlbXNDb25uZWN0SW5mb3M7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgY29ubmVjdCBwb3NpdGlvbiBjb29yZGluYXRlcyBmb3IgYW4gZWxlbWVudC5cclxuICAjZ2V0Q29ubmVjdFBzbihlbGVtUmVjdCwgYWZ0ZXJFbGVtU3R5bGVzLCBwYXJlbnRPZmZzZXQpIHtcclxuICAgIGNvbnN0IHhDb29yZCA9IGVsZW1SZWN0LmxlZnQgLSBwYXJlbnRPZmZzZXQueCArIHBhcnNlSW50KGFmdGVyRWxlbVN0eWxlcy5sZWZ0LCAxMCk7XHJcbiAgICBjb25zdCB5Q29vcmQgPSBlbGVtUmVjdC50b3AgLSBwYXJlbnRPZmZzZXQueSArIHBhcnNlSW50KGFmdGVyRWxlbVN0eWxlcy50b3AsIDEwKTtcclxuICAgIGNvbnN0IGNvbm5lY3RDb29yZHMgPSBuZXcgVmVjdG9yMih4Q29vcmQsIHlDb29yZCk7XHJcbiAgXHJcbiAgICByZXR1cm4gY29ubmVjdENvb3JkcztcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiYXN5bmMiLCJmdWxseUZhZGVJbiIsImVsZW0iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwiZmluaXNoRmFkZUluIiwiZnVsbHlGYWRlT3V0IiwiYWRkIiwiZmFkZU91dCIsImZpbmlzaEZhZGVPdXQiLCJQb3BCdG4iLCJjb25zdHJ1Y3RvciIsInBvcEJ0bkNvbnRhaW5lciIsInRoaXMiLCJxdWVyeVNlbGVjdG9yIiwiaW5pdCIsImJ0biIsImNvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIndpbmRvdyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJyYW5kQmV0d2VlbiIsInN0YXJ0IiwiZW5kIiwiaW50cyIsInJhbmdlIiwicmFuZEZsb2F0IiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwidGVzdFJhbmRvbSIsInByb2JhYmlsaXR5IiwiYXdhaXRUcmFuc2l0aW9uIiwicHJvcE5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImV2dCIsInByb3BlcnR5TmFtZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlZlY3RvcjIiLCJ4IiwieSIsImdldFR4dCIsImdldFJldmVyc2UiLCJ2ZWN0b3JUbyIsInJlbFZlY3QiLCJ2ZWN0b3JGcm9tIiwiYWRkVmVjdG9yIiwidmVjdG9yIiwiZ2V0U2NhbGVkVmVjdG9yIiwic2NhbGVGYWN0b3IiLCJnZXRVbml0VmVjdG9yIiwibWFnIiwiZ2V0TWFnIiwic3FydCIsInBvdyIsImdldFJvdGF0ZWRWZWN0b3IiLCJhbmdsZSIsInJvdE9yaWdpbiIsInJvdFZlYyIsInNpbkEiLCJzaW4iLCJjb3NBIiwiY29zIiwieE5ldyIsInlOZXciLCJkcmF3QW5pbVBhdGgiLCJwYXRoIiwicGF0aExlbmd0aCIsImdldFRvdGFsTGVuZ3RoIiwic2V0QXR0cmlidXRlIiwiZHJhd1NpbXVsUGF0aHMiLCJwYXRocyIsInBhdGhzRHJhd24iLCJyZXMiLCJDb25uZWN0U3ViUGF0aCIsInBhdGhFbGVtIiwiY3RybFB0MSIsImN0cmxQdDIiLCJzZWdTdGFydCIsInNlZ0VuZCIsInNlZ0lkeCIsIl9nZXRDb250aW51aW5nQ3RybFB0MSIsInByZXZDdHJsUHQyIiwic2VnU3RhcnRUb0N0cmxQdDEiLCJQSSIsIl9nZXRSYW5kVmVjdCIsInJvdERpciIsImRpclZlY3QiLCJzZWdWZWN0TWFnIiwicmFuZExpbXMiLCJtaW5BbmdsZURpZmYiLCJtYXhBbmdsZURpZmYiLCJ1bnNjYWxlZFZlY3QiLCJzY2FsZSIsIm1pbk1hZ0ZhY3QiLCJtYXhNYWdGYWN0Iiwic2V0RFZhbCIsImNyZWF0ZVBhdGhFbGVtIiwidGhpc1BhdGgiLCJjcmVhdGVFbGVtZW50TlMiLCJkYXRhc2V0Iiwic3ViRHJhd0lkeCIsIkNvcmVQYXRoIiwicm90RGlyVG9TZWdWZWN0Iiwic3RhdGljIiwiZ2V0Q3RybFB0cyIsImlkeCIsInNlZ1VuaXRWZWN0IiwicHJldlNlZyIsInRyYW5zbGF0ZVZlY3QiLCJjb3JlUGF0aCIsInByZXZDb3JlQ3RybFB0MiIsInJldmVyc2VTZWdWZWN0IiwiRXh0cmFQYXRoIiwicm90RGlyVG9Db3JlUGF0aCIsImluc2lkZUNvcmUiLCJleHRyYVBhdGhJZCIsInN1cGVyIiwibmV4dFNlZyIsInNlZ0NvcmVQYXRoIiwiYm90aEV4dHJhUGF0aHNFbmRQZXJwIiwiaGFzUGF0dGVybiIsImZvbGxvd2luZ1BhdGgiLCJleHRyYVBhdGhzIiwidGhpc0NvcmVTdGFydFZlY3QiLCJ0aGlzQ29yZUVuZFZlY3QiLCJwcm9iUGVycFJlam9pbiIsIlNlZ21lbnQiLCJleHRyYVBhdGhzQm90aEVuZHNQZXJwIiwiYWxsUGF0aHMiLCJzZXRDb3JlUGF0aCIsInNldEV4dHJhUGF0aHMiLCJwcmV2U2VnQm90aEVuZHNQZXJwIiwiZXh0cmFQYXRoTnVtIiwic2V0QWxsUGF0aHMiLCJwdXNoIiwic2V0UGF0aERWYWxzIiwiY3JlYXRlUGF0aEVsZW1zIiwic2VnUGF0aHMiLCJTaW5nbGVDb25uZWN0aW9uIiwiRXZlbnRUYXJnZXQiLCJzdGFydElkIiwicGF0aEVsZW1zIiwiY29ubmVjdGlvbkluZm8iLCJlbGVtSWRzIiwiY29vcmRzIiwiYXZnV2luZG93U2lkZUxlbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJvdW5kIiwiYXZnU2VnVmVjdFgiLCJhdmdTZWdWZWN0WSIsInBlcnBWZWN0Iiwic2VnIiwibWFwIiwicGF0aE9iaiIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImVuZElkIiwiaGlkZVBhdGhzIiwiY3JlYXRlUGF0aHMiLCJjb21tb25QdHMiLCJzZWdQYXR0ZXJuTWFwIiwic2VnTGlzdCIsInBhdGhQcm9jZXNzRnVuYyIsInByb2Nlc3NGdW5jIiwic2VnTWFwIiwic2VnRGV0YWlscyIsInNlZ051bSIsImxlbmd0aCIsInRoaXNTZWdEZXRhaWxzIiwiQXJyYXkiLCJmcm9tIiwicmVwZWF0IiwicHJvYklzUGF0dGVybiIsInByZXZTZWcyIiwicHJldlNlZzJIYXNQYXR0ZXJuIiwiY3VyckJsb2NrU2l6ZSIsImdldEN1cnJCbG9ja1NpemUiLCJ0aGlzU2VnIiwiYmxvY2tTaXplIiwic3BsaWNlIiwicHRzIiwiaSIsInhDb29yZCIsInlDb29yZCIsImNvbW1vblB0IiwicmFuZEFkakZhY3Rvck1haW4iLCJyYW5kQWRqRmFjdG9yUGVycCIsImFkalZlY3RNYWluIiwiYWRqVmVjdFBlcnAiLCJhZGpDb21tb25QdCIsImVsZW1zVG9Kb2luIiwiY29ubmVjdGlvbnNTdmciLCJjcmVhdGVBbmREcmF3IiwiY29ubmVjdGlvbiIsImp1c3RDb25uZWN0ZWRJZCIsImRyYXciLCJlbGVtcyIsInBhcmVudEVsZW0iLCJwYXJlbnRFbGVtUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9yaWdpbkVsZW0iLCJjb25uZWN0SWQiLCJwYXJlbnRPZmZzZXQiLCJsZWZ0IiwidG9wIiwidmlld0JveFdpZHRoIiwid2lkdGgiLCJ2aWV3Qm94SGVpZ2h0IiwiaGVpZ2h0IiwiY29ubmVjdEVsZW1EZXRhaWxzIiwiY29ubmVjdGlvbkluZm9zIiwic3ZnIiwiYXBwZW5kQ2hpbGQiLCJhcHBlbmQiLCJlbGVtc0Nvbm5lY3RJbmZvcyIsImNvbm5lY3RzVG8iLCJzdGFydENvb3JkcyIsInBvc24iLCJlbmRDb25uZWN0RWxlbSIsImZpbmQiLCJlbGVtSWQiLCJjb25uZWN0SW5mbyIsInRoaXNFbGVtUmVjdCIsImFmdGVyRWxlbVN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJjb25uZWN0UHNuIiwiZWxlbUNvbm5lY3RJZCIsInNwbGl0IiwiZWxlbVJlY3QiLCJwYXJzZUludCJdLCJzb3VyY2VSb290IjoiIn0=