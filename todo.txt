To do:


BUG	- recommendations page when rate something (not skip) and it tries to remove it from the list its messing up, check console



-	ready to start with recommendations page...










-	find kindred on a map instead of list

-	change front end code of findKindred and recommendations pages to grey out the "find kindred" and "get recommendations" buttons when checkboxes haven't changed since it was last clicked (and when no new answers have been done in recommendations page). need to be able to compare categoryCheckboxes objects, save copy of one when button was last clicked and compare current to this.

-	edit account settings (email, password, location) feature.

-	"forgot your password" feature.

-	make it give error message when registering with email that already exists - prompt for "forgot your password".

-	account / email verification when registering / changing email.

-	protect api keys (and restrict for google one)

-	error checking, especially with results from APIs, can error sometimes, think with weird search terms that maybe dont return any results

-	validation on data that can be sent to server, including from the url itself (eg. atm server crashes if changing questions category in url to an invalid one). - make 404 page content not found for if url has unrecognised endpoint, use res.sendStatus

-	for api queries, include only stuff that has already been released

-	change questions queue back end to work in number of pages rather than getting a set number of items (get minimum that number of items but get every item up to the last page it iterates for)

-	make it so that say, once a day, the top 1000 items for each category are downloaded from api and stored in DB and used on back end for auto queue, to reduce API requests (eg. IGDB only allows 4 requests per second)

-	profanity filter on usernames

-	need to link to way to watch / play / listen / do for each suggestion, also show more detailed info (such as blurb, trailer) for each one.

-	bookmark feature like taste.io?

-	cookie message

-	make it so as soon as you release the slider it rates it, does animation

-	use oAuth for signup

-	add message if dont find any kindred / recommendations - "you don't have any kindred for these selections, try answering more questions or selecting different categories"

-	about section when scroll down on main page, or with link to seperate page

-	procedurally generated svg border around buttons, paintbrush line border around

-	use a different word instead of "questions"




Optional to do:

-	make so can filter questions for each category when retrieving new questions.
Films		TMDB			Age rating	Release date	With people (crew / actor)	Genre(s)		
TV		TMDB			Air date		Genre(s)		
Music		Spotify			Genre (if I make a playlist for each genre)		
Books		OpenLibrary		Not possible		
Video Games	RAWG			Platform	Developer	Publisher	Genre(s)	Tag(s)	Release date






do different categories of question:

personality, films, TV, books, music (artists), video games, hobbies, sports (watch and play?), places to visit on holiday? food? sense of humour, opinions on big issues? (eg political, immigration etc. - values)

user top10 lists for all interests (films, books etc.), option to mark a film as a top10 when rating it and then if this list gets full it asks you which one you want to replace for it

do different types of question and data for answers - ie. not just multiple choice? - think about how to do similarity for answers that aren't on a simple scale

do map of results for find kindred

research psychology for doing the personality questions

import feature for importing likes on films, tv, books etc.

make it so can answer some questions and make a profile without yet creating an account, then prompt to create an account to save progress

bookmark list of things you want to watch / do



Personality		General
			Scenarios
			Logic
			Sense of humour
			etcâ€¦
Interests		Films
			TV
			Books
			Music (artists)
			Video games
			Hobbies
			Sports (watch / play)


on your profile, list favourites in each of the interests categories, life advice, opinions on current issues?

perhaps have different colour to represent each category, and when filtering by category / categories the colour scheme of the map / links changes to match that of the selected categories.

perhaps see a map view of all the other strongest links between other people in the world, get a sense of which countries have stuff in common, or how much most people have in common, if you're more individual or not... this could be good for sharing, people sharing chart that shows they are outside the bell curve for how they think / their tastes

use local storage to store user's kindred lists and recommendations

find a way for me to pinch real people's tastes in films etc to populate fake profiles

use validation on any user submitted data to make sure it can't mess up anything on the server







Recommendations:

recommendations is working now.

Other options for the recommendation algorithm:
- change the threshold value. actually better to do a more complex way of getting the kindred list, like only using very similar users if possible, otherwise widening it a little maybe.
- make it so its not a linear effect of compUser similarity difference on the weighted sim rating, maybe make it a different function
- limit recommendations so they require x number of users to have answered this question for it to be a recommendation (eg. so if one very similar user rates an obscure film very highly but noone else has rated it, it could prevent this film from being shown so high up the recommend list).
- in the getRecommendations() code, factor in not just the simScore of each compUser for the weighting of each question answer, but also the number of answers this user had in common. also for kindredList, maybe rather than first comparing on simScore and then on numCommonAnswers, it should be a formula that multiplies the two somehow.
- currently am doing a positive / negative adjustment for each recommend item score based on whether the compUser rated things generally higher or lower than the main user. uses percDiff in the UserSimComp.











Questions:



SEARCH	- 	search box for query	https://api.themoviedb.org/3/search/movie?api_key=84c6fe840210161c52e9a52c9cc129bb&query=prestige
also search for people -	https://api.themoviedb.org/3/search/person?api_key=84c6fe840210161c52e9a52c9cc129bb&query=tom+cruise
DISCOVER - 	https://api.themoviedb.org/3/discover/movie?api_key=84c6fe840210161c52e9a52c9cc129bb&sort_by=vote_count.desc&with_people=1032
		https://api.themoviedb.org/3/discover/movie?api_key=84c6fe840210161c52e9a52c9cc129bb&sort_by=vote_count.desc&page=1
GENRES - 	https://api.themoviedb.org/3/genre/movie/list?api_key=84c6fe840210161c52e9a52c9cc129bb
images - 	https://image.tmdb.org/t/p/w185/yI6X2cCM5YPJtxMhUd3dPGqDAhw.jpg


To do:

-	think add in a counter for current approximate size on disk of the notYetPostedAnswers and force a post every time it gets close to the keepalive post size threshold
-	make so cant click re-rate buttons once already re-rating one. also make answer ui panel a modal instead of at the bottom.
-	make so can't click the question mode button once already in that mode
-	front end side, different look and details for each category

	TV (TMDB)
	Books (openlibrary) https://covers.openlibrary.org/b/ID/8578467-M.jpg
	Music (spotify)
	Video games (RAWG)


Done:

-	when getting more Qs for queue from API source, it will remember the max page and only fetch from API from this page for efficiency. as soon as have left the page though, a new queue is generated next time which will start from page 1 to build the queue.
just need to make it so when filters are changed in front end code that isNewQueue is set to true when calling update()...

-	at the moment, questions page is set up to query DB every time a user's questions queue needs adding to. db will be queried and questions in this category will be checked. alternative could be to use another repository object to store all DB questions here if I know there won't be that many, would save many queries to the database.

-	made it so answers are submitted every 10 mins or on leaving the questions page (async using sendBeacon). More efficient, fewer interactions with server / db than doing it every answer.






Bug fixes:

FIXED 	bug1: queue and dom queue get out of sync when updating questions queue and removing outdated answers (10 questions in) then the 10th question gets messed up. fixed with a situational +1 when removing dom item.

FIXED	bug2: when answering questions, then click incl already answered, then untick, domqueue will remove first elements using outdated method with allrecent answers but will transition when doing so which looks weird. fixed by passing an argument for if answeringQ when removing dom items and only transitioning when this is true.

FIXED	bug4: seems to be introduced from fixing bug1 and bug2 - on prevAnswers page first click to open modal instantly closes it again, also messes up when trying to answer the question. fixed by making deactivate questions mode NOT hide the answer ui panel

FIXED	bug5: answering question in prev answer mode now doesnt close the answer ui modal. fixed, this was because code was erroring on singleDomQueue trying to remove the queue item twice, corrected it and fine now.

FIXED	bug6: answering q in recs mode didn't remove from list. just needed to set currqrow to parent div since changing event listener to be on the img

FIXED	bug3: queue when include already answers is ticked will populate with early questions again. fixed by increasing queue refresh amount to 30 from 20 and keeping record of isNewQueue and queuePrevQs for each queue.

FIXED	- as soon as either skip or re rate something on prev answers page everything else becomes unclickable. was a problem with finishFadeOut function, event listener had flag of "once" but would get used up on a different property like "filter" and would only fully hide when transition completed for opacity. made it recursive so if not the opacity property it keeps waiting.

NOT FIXED - placeholder images doing weird transition...
















TMDB poster sizes:
"w92",
"w154",
"w185",
"w342",
"w500",
"w780"